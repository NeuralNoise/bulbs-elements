webpackJsonp([13],{0:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function i(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var i=n[o],r=Object.getOwnPropertyDescriptor(e,i);r&&r.configurable&&void 0===t[i]&&Object.defineProperty(t,i,r)}return t}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):i(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var l=n(2),a=n(1),c=o(a),d=n(185);n(252);var u=function(t){function e(){return r(this,e),s(this,t.apply(this,arguments))}return p(e,t),e.prototype.attachedCallback=function(){(0,c.default)(this.hasAttribute("pinned-to"),'<bulbs-pinned-element pinned-to=".selector">: a pinned-to selector is required');var t=this.getAttribute("pinned-to"),e=document.querySelector(t);this.lastPosition=0,this.animationRequest=null,(0,c.default)(e,'<bulbs-pinned-element pinned-to=".selector">: no element with the selector "'+t+'" is in the DOM'),window.addEventListener("scroll",this.handleScrollEvent.bind(this))},e.prototype.handleScrollEvent=function(){var t=this;this.animationRequest||(this.animationRequest=requestAnimationFrame(function(){if(t.animationRequest=null,d.InViewMonitor.isElementInViewport(t,t.getBoundingClientRect())){var e=t.getElementPinnedTo(),n=t.getBoundingRects(e);t.isScrollingDown()?t.handleScrollDown(e,n):t.handleScrollUp(n)}}))},e.prototype.getElementPinnedTo=function(){var t=this.getAttribute("pinned-to"),e=void 0;return e=this.parentElement.tagName.toUpperCase()===t.toUpperCase()?this.parentElement:this.parentElement.querySelector(t)},e.prototype.isScrollingDown=function(){var t=(0,d.getScrollOffset)(),e=!1;return t.y>this.lastPosition&&(e=!0),this.lastPosition=t.y,e},e.prototype.getBoundingRects=function(t){return{pinnedElement:this.getBoundingClientRect(),elementPinnedTo:t.getBoundingClientRect()}},e.prototype.handleScrollDown=function(t,e){this.pinnedParentTopInViewport(t)?this.pinToParentTop():this.pinnedElementAtParentBottom(e)?this.pinToParentBottom():this.addPinnedClass()},e.prototype.handleScrollUp=function(t){this.pinnedElementAtParentTop(t)?this.pinToParentTop():this.pinnedElementBelowTopOfViewport(t)&&this.addPinnedClass()},e.prototype.pinnedParentTopInViewport=function(t){var e=$(t).offset().top,n=window.pageYOffset,o=n+window.innerHeight;return e>n&&e<o},e.prototype.pinnedElementAtParentBottom=function(t){return t.pinnedElement.bottom>=t.elementPinnedTo.bottom},e.prototype.pinnedElementAtParentTop=function(t){return t.pinnedElement.top<=t.elementPinnedTo.top},e.prototype.pinnedElementBelowTopOfViewport=function(t){return t.elementPinnedTo.top<0},e.prototype.pinToParentTop=function(){this.classList.remove("pinned-bottom"),this.classList.remove("pinned"),this.classList.add("pinned-top")},e.prototype.pinToParentBottom=function(){this.classList.remove("pinned-top"),this.classList.remove("pinned"),this.classList.add("pinned-bottom")},e.prototype.addPinnedClass=function(){this.classList.remove("pinned-top"),this.classList.remove("pinned-bottom"),this.classList.add("pinned")},e}(l.BulbsHTMLElement);e.default=u,(0,l.registerElement)("bulbs-pinned-element",u)},252:function(t,e){}});
//# sourceMappingURL=bulbs-pinned-element.js.map