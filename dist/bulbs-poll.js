webpackJsonp([3],{0:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}var u=n(171),i=r(u),c=n(2),f=n(200),d=r(f),p=n(203),b=r(p),m=n(210),v=r(m);n(227);var w=function(e){function t(){return a(this,t),l(this,e.apply(this,arguments))}return s(t,e),t.prototype.initialDispatch=function(){this.store.actions.setSrc(this.props.src),this.store.actions.fetchPollData(this.props.src),this.store.actions.getCachedVoteData(this.props.src)},t.prototype.render=function(){return i["default"].createElement("div",{"data-track-action":"Poll"},i["default"].createElement(v["default"],{data:this.state,actions:this.store.actions}))},t}(d["default"]);w.displayName="BulbsPoll",w.schema=b["default"],w.propTypes={src:u.PropTypes.string.isRequired},(0,c.registerReactElement)("bulbs-poll",w)},1:function(e,t,n){"use strict";var r=function(e,t,n,r,o,a,l,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var i=[n,r,o,a,l,s],c=0;u=new Error(t.replace(/%s/g,function(){return i[c++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};e.exports=r},177:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(178),a=r(o),l=n(179),s=r(l),u=n(180),i=r(u),c=n(181),f=r(c),d=n(182),p=r(d),b=n(184),m=r(b),v=n(185),w=r(v),y=n(186);e.exports={clearRequestInterval:y.clearRequestInterval,copyAttribute:a["default"],filterBadResponse:s["default"],getResponseJSON:i["default"],iterateObject:f["default"],makeRequest:p["default"],moveChildren:m["default"],requestAnimFrame:y.requestAnimFrame,requestInterval:y.requestInterval,supportsCalcInTransform:w["default"]}},178:function(e,t){"use strict";function n(e,t,n){n.setAttribute(e,t.getAttribute(e))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},179:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return new Promise(function(t,n){e.ok?t(e):n(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var a=n(8),l=r(a);l["default"].polyfill()},180:function(e,t){"use strict";function n(e){return e.json()}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},181:function(e,t){"use strict";e.exports=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];Object.keys(e).forEach(function(n){t(e[n],n)})}},182:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];(0,u["default"])(t.success,"makeRequest MUST have a success callback"),(0,u["default"])(t.failure,"makeRequest MUST have a failure callback"),(0,u["default"])(t.error,"makeRequest MUST have an error callback");var n=t.success,r=t.failure,o=t.error,a={success:n,failure:r,error:o},s=(0,l["default"])(t);return delete s.success,delete s.failure,delete s.error,t.redirect||(s.redirect="follow"),fetch(e,s).then(function(e){var t=void 0;return e.status<300?t=e.json().then(a.success):e.status>=400&&(t=e.json().then(a.failure)),t})["catch"](a.error)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var a=n(183),l=r(a),s=n(1),u=r(s)},183:function(e,t){var n=function(){"use strict";function e(t,n,r,o){function l(t,r){if(null===t)return null;if(0==r)return t;var s,f;if("object"!=typeof t)return t;if(e.__isArray(t))s=[];else if(e.__isRegExp(t))s=new RegExp(t.source,a(t)),t.lastIndex&&(s.lastIndex=t.lastIndex);else if(e.__isDate(t))s=new Date(t.getTime());else{if(c&&Buffer.isBuffer(t))return s=new Buffer(t.length),t.copy(s),s;"undefined"==typeof o?(f=Object.getPrototypeOf(t),s=Object.create(f)):(s=Object.create(o),f=o)}if(n){var d=u.indexOf(t);if(d!=-1)return i[d];u.push(t),i.push(s)}for(var p in t){var b;f&&(b=Object.getOwnPropertyDescriptor(f,p)),b&&null==b.set||(s[p]=l(t[p],r-1))}return s}var s;"object"==typeof n&&(r=n.depth,o=n.prototype,s=n.filter,n=n.circular);var u=[],i=[],c="undefined"!=typeof Buffer;return"undefined"==typeof n&&(n=!0),"undefined"==typeof r&&(r=1/0),l(t,r)}function t(e){return Object.prototype.toString.call(e)}function n(e){return"object"==typeof e&&"[object Date]"===t(e)}function r(e){return"object"==typeof e&&"[object Array]"===t(e)}function o(e){return"object"==typeof e&&"[object RegExp]"===t(e)}function a(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return e.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},e.__objToStr=t,e.__isDate=n,e.__isArray=r,e.__isRegExp=o,e.__getRegExpFlags=a,e}();"object"==typeof e&&e.exports&&(e.exports=n)},184:function(e,t){"use strict";function n(e,t){Array.prototype.forEach.call(Array.prototype.slice.call(e.childNodes),function(e){return t.appendChild(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},185:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=document.createElement("div"),r=n.style;r.transform="translateX(calc(100% - 10px))",t["default"]=""!==r.transform},186:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),r=function(e,t){function r(){var l=(new Date).getTime(),s=l-o;s>=t&&(e.call(),o=(new Date).getTime()),a.value=n(r)}if(!(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame&&window.mozCancelRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame))return window.setInterval(e,t);var o=(new Date).getTime(),a={};return a.value=n(r),a},o=function(e){window.cancelAnimationFrame?window.cancelAnimationFrame(e.value):window.webkitCancelAnimationFrame?window.webkitCancelAnimationFrame(e.value):window.webkitCancelRequestAnimationFrame?window.webkitCancelRequestAnimationFrame(e.value):window.mozCancelRequestAnimationFrame?window.mozCancelRequestAnimationFrame(e.value):window.oCancelRequestAnimationFrame?window.oCancelRequestAnimationFrame(e.value):window.msCancelRequestAnimationFrame?window.msCancelRequestAnimationFrame(e.value):clearInterval(e)};t["default"]={requestAnimFrame:n,requestInterval:r,clearRequestInterval:o}},200:function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var u=n(171),i=r(u),c=n(201),f=r(c),d=function(t){function n(r){a(this,n);var o=l(this,t.call(this,r));return o.store=o.createStore(),o.store&&(o.store.subscribeComponent(o),e(o.initialDispatch.bind(o))),o}return s(n,t),n.prototype.createStore=function(){var e=void 0;return this.constructor.schema&&(e=new f["default"]({schema:this.constructor.schema})),e},n.prototype.initialDispatch=function(){},n}(i["default"].Component);t["default"]=d}).call(t,n(3).setImmediate)},201:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(202),a=r(o);t["default"]=a["default"]},202:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){var t={};return(0,b["default"])(e,function(e,n){t[n]=(0,d["default"])(e.initialState)}),t}function l(e){var t={};return(0,b["default"])(e,function(e,n){(0,b["default"])(e.actions,function(e,r){e.fieldName=n,e.type=r,t[r]=e})}),t}function s(e,t){var n=l(e),r={};return(0,b["default"])(n,function(e,n){r[n]=i.bind(null,t,e)}),r}function u(e){e.components.forEach(function(t){t.setState(e.state)})}function i(e,t,n){m&&console.time("dispatch "+t.type);var r=e.state,o=c({},r),a=r[t.fieldName],l=(0,d["default"])(a);o[t.fieldName]=t(l,n,e),"undefined"!=typeof o[t.fieldName]&&(e.state=o),u(e),m&&(console.groupCollapsed("DISPATCH %c"+t.type+" %c=> %c"+t.fieldName,"color:green","color:auto","color:blue"),console.timeEnd("dispatch "+t.type),console.log("PAYLOAD: ",n),console.log("PREV VALUE: ",a),console.log("NEXT VALUE: ",l),console.log("PREV STORE: ",r),console.log("NEXT STORE: ",o),console.groupEnd())}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=n(183),d=r(f),p=n(181),b=r(p),m=!1,v=function(){function e(t){o(this,e),this.actions=s(t.schema,this),this.state=a(t.schema),this.components=[],m&&console.log("%cCREATED STORE","color:green")}return e.prototype.subscribeComponent=function(e){this.components.push(e),e.state=this.state},e.prototype.unsubscribeComponent=function(e){var t=this.components.indexOf(e);t>-1&&this.components.splice(t,1)},e}();t["default"]=v},203:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(204),a=r(o),l=n(205),s=r(l),u=n(206),i=r(u),c=n(207),f=r(c),d=n(208),p=r(d),b=n(209),m=r(b),v={poll:a["default"],selectedAnswer:s["default"],winningAnswers:i["default"],vote:f["default"],src:p["default"],now:m["default"]};t["default"]=v},204:function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e){return e.published&&(e.published=new Date(e.published)),e.end_date&&(e.end_date=new Date(e.end_date)),e}Object.defineProperty(t,"__esModule",{value:!0});var l=n(177),s=r(l),u={initialState:{data:{answers:[]},requestInFlight:!1},actions:{setPollTotalVotes:function(e,t){return e.data.total_votes=t,e},updateAnswerVoteCount:function(e,t){var n=e.data.answers.find(function(e){return e.sodahead_id===t.answer.id}),r=void 0;return e.data.answers.forEach(function(e,t){e.id===n.id&&(r=t)}),n.total_votes=t.answer.totalVotes,e.data.answers=[].concat(o(e.data.answers.slice(0,r)),[n],o(e.data.answers.slice(r+1))),e},fetchPollData:function(e,t,n){return t||(t=n.src),n.src=t,s["default"].makeRequest(t,{credentials:"include",success:n.actions.fetchPollDataSuccess,failure:n.actions.fetchPollDataFailure,error:n.actions.fetchPollDataError}),e.requestInFlight=!0,e},fetchPollDataSuccess:function(t,n,r){return t.data=a(n),t.requestInFlight=!1,e(function(){r.actions.collectWinningAnswers(r.state.poll.data.answers)}),t},fetchPollDataFailure:function(e,t){return e.requestFailure=t,e.requestInFlight=!1,e},fetchPollDataError:function(e,t){return e.requestError=t,e.requestInFlight=!1,e},resetFetchPollData:function(t,n,r){return t.requestInFlight=!1,delete t.requestFailure,delete t.requestError,e(r.actions.fetchPollData),t}}};t["default"]=u}).call(t,n(3).setImmediate)},205:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={initialState:{},actions:{selectAnswer:function(e,t){return e&&e.id===t.id?{}:t}}};t["default"]=n},206:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={initialState:[],actions:{collectWinningAnswers:function(e){var t=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],n=0,r=[];return t.forEach(function(e){e.total_votes===n?r.push(e):e.total_votes>n&&(n=e.total_votes,r=[e])}),r}}};t["default"]=n},207:function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return"bulbs-poll:"+e+":vote"}Object.defineProperty(t,"__esModule",{value:!0});var a=n(177),l=r(a),s={initialState:{voted:!1},actions:{getCachedVoteData:function(e,t){var n=localStorage.getItem(o(t));return n&&(e.voted=!0,e.data=JSON.parse(n)),e},makeVoteRequest:function(e,t,n){var r=n.state.poll,o="https://onion.sodahead.com/api/polls/"+r.data.sodahead_id+"/vote/";return l["default"].makeRequest(o,{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:"answer="+t.sodahead_id,success:n.actions.voteRequestSuccess,failure:n.actions.voteRequestFailure,error:n.actions.voteRequestError}),e.requestInFlight=!0,e},voteRequestSuccess:function(t,n,r){return localStorage.setItem(o(r.state.src),JSON.stringify(n.vote)),e(function(){r.actions.setPollTotalVotes(n.poll.totalVotes),r.actions.updateAnswerVoteCount(n.vote),r.actions.collectWinningAnswers(r.state.poll.data.answers)}),t.voted=!0,t.data=n.vote,t.requestInFlight=!1,t},voteRequestFailure:function(e,t){return e.requestFailure=t,e.requestInFlight=!1,e},voteRequestError:function(e,t){return e.requestInFlight=!1,e.requestError=t,e},resetVoteRequest:function(e){return e.requestInFlight=!1,delete e.requestFailure,delete e.requestError,e}}};t["default"]=s}).call(t,n(3).setImmediate)},208:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={initialState:"",actions:{setSrc:function(e,t){return t}}};t["default"]=n},209:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={initialState:new Date};t["default"]=n},210:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.data.poll.data,n=e.data.now,r=!t.id,o=t.published&&t.published<=n,a=t.end_date&&t.end_date<=n,s=e.data.vote.voted;return r?l["default"].createElement(u["default"],null):o?a?l["default"].createElement(b["default"],{data:e.data}):s?l["default"].createElement(d["default"],{data:e.data}):o?l["default"].createElement(c["default"],{actions:e.actions,data:e.data}):void 0:l["default"].createElement(v["default"],null)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var a=n(171),l=r(a),s=n(211),u=r(s),i=n(212),c=r(i),f=n(221),d=r(f),p=n(225),b=r(p),m=n(226),v=r(m);o.propTypes={actions:a.PropTypes.object.isRequired,data:a.PropTypes.object.isRequired}},211:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){return l["default"].createElement("div",{className:"bulbs-poll-loading"},"Loading Poll...")}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var a=n(171),l=r(a)},212:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.actions,n=t.selectAnswer,r=t.makeVoteRequest,o=t.resetFetchPollData,a=t.resetVoteRequest,s=e.data,i=s.poll,f=s.selectedAnswer,p=s.vote;return l["default"].createElement("div",null,l["default"].createElement(u["default"],{poll:i}),l["default"].createElement(b["default"],{error:i.requestError,reset:o},"Could not connect to network when fetching poll data."),l["default"].createElement(b["default"],{error:p.requestError,reset:a},"Could not connect to network when placing your vote."),l["default"].createElement(c["default"],{poll:i,answers:i.data.answers,selectAnswer:n,selectedAnswer:f}),l["default"].createElement(d["default"],{selectedAnswer:f,makeVoteRequest:r}))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var a=n(171),l=r(a),s=n(213),u=r(s),i=n(214),c=r(i),f=n(219),d=r(f),p=n(220),b=r(p);o.propTypes={actions:a.PropTypes.object.isRequired,data:a.PropTypes.object.isRequired}},213:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.poll;return l["default"].createElement("header",{className:"bulbs-poll-cover"},l["default"].createElement("h1",{className:"bulbs-poll-cover-title"},t.data.question_text))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var a=n(171),l=r(a);o.propTypes={poll:a.PropTypes.object.isRequired}},214:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=i["default"],n="bulbs-poll-answers";"imageText"===e.poll.data.answer_type&&(t=f["default"],n="bulbs-poll-image-answers");var r=(0,p["default"])(n,{"bulbs-poll-answers-selected":e.selectedAnswer.id});return s["default"].createElement("ul",{className:r},e.answers.map(function(n,r){return s["default"].createElement(t,a({key:r,answer:n},e))}))}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=o;var l=n(171),s=r(l),u=n(215),i=r(u),c=n(218),f=r(c),d=n(216),p=r(d);o.propTypes={answers:l.PropTypes.array.isRequired,poll:l.PropTypes.object.isRequired,selectAnswer:l.PropTypes.func.isRequired,selectedAnswer:l.PropTypes.object.isRequired}},215:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var u=n(171),i=r(u),c=n(216),f=r(c),d=n(217),p=r(d),b=function(e){function t(){return a(this,t),l(this,e.apply(this,arguments))}return s(t,e),t.prototype.selectAnswer=function(){this.props.selectAnswer(this.props.answer)},t.prototype.render=function(){var e=this.props,t=e.answer,n=e.selectedAnswer,r=t.id===n.id,o=(0,f["default"])("bulbs-poll-answer",{"bulbs-poll-answer-selected":r});return i["default"].createElement("li",{"data-track-label":"Option",className:o,onClick:this.selectAnswer},i["default"].createElement(p["default"],{isSelected:r}),t.answer_text)},t}(i["default"].Component);t["default"]=b,b.propTypes={answer:u.PropTypes.object.isRequired,selectAnswer:u.PropTypes.func.isRequired,selectedAnswer:u.PropTypes.object}},216:function(e,t,n){var r,o;/*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r))e.push(n.apply(null,r));else if("object"===o)for(var l in r)a.call(r,l)&&r[l]&&e.push(l)}}return e.join(" ")}var a={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=n:(r=[],o=function(){return n}.apply(t,r),!(void 0!==o&&(e.exports=o)))}()},217:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.isSelected;return l["default"].createElement("svg",{width:"20px",height:"20px"},l["default"].createElement("circle",{cx:"10",cy:"10",r:"8",fill:"none",stroke:"black",strokeWidth:"2px"}),l["default"].createElement("circle",{cx:"10",cy:"10",r:"5",fill:t?"black":"none"}))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var a=n(171),l=r(a);o.propTypes={isSelected:a.PropTypes.bool}},218:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var u=n(171),i=r(u),c=n(216),f=r(c),d=n(217),p=r(d),b=function(e){function t(){return a(this,t),l(this,e.apply(this,arguments))}return s(t,e),t.prototype.selectAnswer=function(){this.props.selectAnswer(this.props.answer)},t.prototype.render=function(){var e=this.props,t=e.answer,n=e.selectedAnswer,r=t.id===n.id,o=(0,f["default"])("bulbs-poll-image-answer",{"bulbs-poll-answer-selected":r});return i["default"].createElement("li",{"data-track-label":"Option",className:o,onClick:this.selectAnswer},i["default"].createElement("img",{src:t.answer_image_url}),i["default"].createElement("div",{className:"answer-image-text"},i["default"].createElement(p["default"],{isSelected:r}),t.answer_text))},t}(i["default"].Component);t["default"]=b,b.propTypes={answer:u.PropTypes.object.isRequired,selectAnswer:u.PropTypes.func.isRequired,selectedAnswer:u.PropTypes.object}},219:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var u=n(171),i=r(u),c=n(216),f=r(c),d=function(e){function t(){return a(this,t),l(this,e.apply(this,arguments))}return s(t,e),t.prototype.makeVoteRequest=function(){this.props.selectedAnswer&&this.props.makeVoteRequest(this.props.selectedAnswer)},t.prototype.render=function(){var e=this.props.selectedAnswer,t=!0;e&&e.id&&(t=!1);var n=(0,f["default"])("bulbs-poll-vote",{"bulbs-poll-footer":!0});return i["default"].createElement("button",{"data-track-label":"Submit",className:n,onClick:this.makeVoteRequest,disabled:t},"Vote")},t}(i["default"].Component);t["default"]=d,d.propTypes={makeVoteRequest:u.PropTypes.func,selectedAnswer:u.PropTypes.object}},220:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.error,n=e.children,r=e.reset;return t?l["default"].createElement("div",{className:"bulbs-poll-network-error"},l["default"].createElement("p",null,n),l["default"].createElement("button",{onClick:r},"OK")):l["default"].createElement("div",null)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var a=n(171),l=r(a);o.propTypes={children:a.PropTypes.node,error:a.PropTypes.object,reset:a.PropTypes.func}},221:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=(0,u["default"])("bulbs-poll-results",{}),n=e.data,r=n.poll,o=n.winningAnswers,a=n.vote;return l["default"].createElement("div",{className:t},l["default"].createElement(c["default"],{poll:r}),l["default"].createElement(d["default"],{poll:r,winningAnswers:o,vote:a}),l["default"].createElement("div",{className:"bulbs-poll-thank-you bulbs-poll-footer"},"Thanks for voting!"))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var a=n(171),l=r(a),s=n(216),u=r(s),i=n(213),c=r(i),f=n(222),d=r(f);o.propTypes={data:a.PropTypes.object.isRequired}},222:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.poll,n=e.winningAnswers,r=e.vote,o=u["default"],a="bulbs-poll-results-list";return"imageText"===e.poll.data.answer_type&&(o=c["default"],a="bulbs-poll-image-results-list"),l["default"].createElement("ul",{className:a},t.data.answers.map(function(e,a){return l["default"].createElement(o,{key:a,answer:e,poll:t,vote:r,winningAnswers:n})}))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var a=n(171),l=r(a),s=n(223),u=r(s),i=n(224),c=r(i);o.propTypes={poll:a.PropTypes.object.isRequired,vote:a.PropTypes.object.isRequired,winningAnswers:a.PropTypes.array.isRequired}},223:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.answer,n=e.poll,r=e.vote,o=e.winningAnswers,a=o.find(function(e){return e.sodahead_id===t.sodahead_id}),s=!(!r.data||r.data.answer.id!==t.sodahead_id),i=(0,u["default"])("bulbs-poll-result",{"bulbs-poll-result-winning":a,"bulbs-poll-result-selected":s}),f=t.total_votes,d=void 0;d=n.data.total_votes>1?f/n.data.total_votes*100:100*f;var p=d.toFixed(0)+"%";return l["default"].createElement("li",{className:i},l["default"].createElement("div",{className:"bulbs-poll-answer-bar",style:{width:p}}),l["default"].createElement("div",{className:"bulbs-poll-answer-title"},l["default"].createElement(c["default"],{isSelected:s}),l["default"].createElement("span",{className:"bulbs-poll-answer-text"},t.answer_text),l["default"].createElement("span",{className:"bulbs-poll-answer-result"},p)))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var a=n(171),l=r(a),s=n(216),u=r(s),i=n(217),c=r(i);o.propTypes={answer:a.PropTypes.object.isRequired,poll:a.PropTypes.object.isRequired,vote:a.PropTypes.object.isRequired,winningAnswers:a.PropTypes.array.isRequired}},224:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.answer,n=e.poll,r=e.vote,o=e.winningAnswers,a=o.find(function(e){return e.sodahead_id===t.sodahead_id}),s=!(!r.data||r.data.answer.id!==t.sodahead_id),i=(0,u["default"])("bulbs-poll-image-result",{"bulbs-poll-result-winning":a,"bulbs-poll-result-selected":s}),f=t.total_votes,d=void 0;d=n.data.total_votes>1?f/n.data.total_votes*100:100*f;var p=d.toFixed(0)+"%";return l["default"].createElement("li",{className:i},l["default"].createElement("div",{className:"result-image-list-item"},l["default"].createElement("div",{className:"bulbs-poll-image-answer-bar",style:{height:p}}),l["default"].createElement("div",{className:"bulbs-poll-image-answer-title"},l["default"].createElement("img",{src:t.answer_image_url}),l["default"].createElement("div",{className:"answer-image-text"},l["default"].createElement(c["default"],{isSelected:s}),l["default"].createElement("span",{className:"bulbs-poll-image-answer-text"},t.answer_text)))),l["default"].createElement("div",{className:"bulbs-poll-answer-result"},p))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var a=n(171),l=r(a),s=n(216),u=r(s),i=n(217),c=r(i);o.propTypes={answer:a.PropTypes.object.isRequired,poll:a.PropTypes.object.isRequired,vote:a.PropTypes.object.isRequired,winningAnswers:a.PropTypes.array.isRequired}},225:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.data,n=t.poll,r=t.winningAnswers,o=t.vote;return l["default"].createElement("div",{className:"bulbs-poll-ended"},l["default"].createElement(u["default"],{poll:n}),l["default"].createElement(c["default"],{poll:n,winningAnswers:r,vote:o}),l["default"].createElement("div",{className:"bulbs-poll-ended-message bulbs-poll-footer"},"Poll Closed"))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var a=n(171),l=r(a),s=n(213),u=r(s),i=n(222),c=r(i);o.propTypes={data:a.PropTypes.object.isRequired}},226:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){return l["default"].createElement("div",{className:"bulbs-poll-coming-soon"},l["default"].createElement("div",{className:"bulbs-poll-coming-soon-message"},"Poll Coming Soon"),l["default"].createElement(u["default"],null))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var a=n(171),l=r(a),s=n(219),u=r(s)},227:function(e,t){}});
//# sourceMappingURL=bulbs-poll.js.map