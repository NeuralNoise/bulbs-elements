{"version":3,"sources":["webpack:///./elements/bulbs-scroll-top/bulbs-scroll-top.js"],"names":["ScrollTop","createdCallback","getAttribute","attachedCallback","step","bind","addEventListener","scrollToTop","setParams","cosParameter","window","scrollY","scrollCount","oldTimestamp","performance","now","duration","params","requestAnimationFrame","timestamp","newTimestamp","timeDifference","Math","PI","scrollTo","moveStep","round","cos"],"mappings":";;;;;;;;;;;;;AAAA;;AAIA;;;;;;;;;;;;;;KAEqBA,S;;;;;;;;;uBACnBC,e,8BAAmB;AACjB,8BAAU,KAAKC,YAAL,CAAkB,UAAlB,IAAgC,CAA1C,EACE,8DADF;AAED,I;;uBAEDC,gB,+BAAoB;AAClB,UAAKC,IAAL,GAAY,KAAKA,IAAL,CAAUC,IAAV,CAAe,IAAf,CAAZ;AACA,UAAKC,gBAAL,CAAsB,OAAtB,EAA+B,KAAKC,WAAL,CAAiBF,IAAjB,CAAsB,IAAtB,CAA/B;AACD,I;;uBAEDG,S,wBAAa;AACX,YAAO;AACLC,qBAAcC,OAAOC,OAAP,GAAiB,CAD1B;AAELC,oBAAa,CAFR;AAGLC,qBAAcH,OAAOI,WAAP,CAAmBC,GAAnB,EAHT;AAILC,iBAAW,KAAKd,YAAL,CAAkB,UAAlB,KAAiC;AAJvC,MAAP;AAMD,I;;uBAEDK,W,0BAAe;AAAA;;AACbU,cAAS,KAAKT,SAAL,CAAe,IAAf,CAAT;AACAE,YAAOQ,qBAAP,CAA6B,UAACC,SAAD,EAAe;AAC1C,cAAKf,IAAL,CAAUe,SAAV,EAAqBF,MAArB;AACD,MAFD;AAID,I;;uBACDb,I,iBAAMgB,Y,EAAcH,M,EAAQ;AAAA;;AAC1B,SAAMI,iBAAiBD,eAAeH,OAAOJ,YAA7C;AACAI,YAAOL,WAAP,GAAqBK,OAAOL,WAAP,GAAqBU,KAAKC,EAAL,IAAWN,OAAOD,QAAP,GAAkBK,cAA7B,CAA1C;AACA,SAAIJ,OAAOL,WAAP,IAAsBU,KAAKC,EAA/B,EAAmC;AACjCb,cAAOc,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;AACD;AACD,SAAId,OAAOC,OAAP,KAAmB,CAAvB,EAA0B;AACxB;AACD;AACD,SAAMc,WAAWH,KAAKI,KAAL,CAAW,IAAIT,OAAOR,YAAX,GAA0Ba,KAAKK,GAAL,CAASV,OAAOL,WAAhB,CAArC,CAAjB;AACAF,YAAOc,QAAP,CAAgB,CAAhB,EAAmBC,QAAnB;AACAR,YAAOJ,YAAP,GAAsBO,YAAtB;;AAEAV,YAAOQ,qBAAP,CAA6B,UAACC,SAAD,EAAe;AAC1C,cAAKf,IAAL,CAAUe,SAAV,EAAqBF,MAArB;AACD,MAFD;AAGD,I;;;;;mBA3CkBjB,S;;;AA8CrB,gCAAgB,kBAAhB,EAAoCA,SAApC,E","file":"bulbs-scroll-top.js","sourcesContent":["import {\n  registerElement,\n  BulbsHTMLElement,\n} from 'bulbs-elements/register';\nimport invariant from 'invariant';\n\nexport default class ScrollTop extends BulbsHTMLElement {\n  createdCallback () {\n    invariant(this.getAttribute('duration') < 0,\n      '<bulbs-scroll-top> MUST have a positive integer for duration');\n  }\n\n  attachedCallback () {\n    this.step = this.step.bind(this);\n    this.addEventListener('click', this.scrollToTop.bind(this));\n  }\n\n  setParams () {\n    return {\n      cosParameter: window.scrollY / 2,\n      scrollCount: 0,\n      oldTimestamp: window.performance.now(),\n      duration:  this.getAttribute('duration') || 400,\n    }\n  }\n\n  scrollToTop () {\n    params = this.setParams(this)\n    window.requestAnimationFrame((timestamp) => {\n      this.step(timestamp, params)\n    });\n\n  }\n  step (newTimestamp, params) {\n    const timeDifference = newTimestamp - params.oldTimestamp;\n    params.scrollCount = params.scrollCount + Math.PI / (params.duration / timeDifference);\n    if (params.scrollCount >= Math.PI) {\n      window.scrollTo(0, 0);\n    }\n    if (window.scrollY === 0) {\n      return;\n    }\n    const moveStep = Math.round(2 * params.cosParameter * Math.cos(params.scrollCount));\n    window.scrollTo(0, moveStep);\n    params.oldTimestamp = newTimestamp;\n\n    window.requestAnimationFrame((timestamp) => {\n      this.step(timestamp, params)\n    });\n  }\n}\n\nregisterElement('bulbs-scroll-top', ScrollTop);\n\n\n\n// WEBPACK FOOTER //\n// ./elements/bulbs-scroll-top/bulbs-scroll-top.js"],"sourceRoot":""}