{"version":3,"sources":["webpack:///bulbs-cinemagraph.js","webpack:///./elements/bulbs-cinemagraph/bulbs-cinemagraph.js","webpack:///./~/invariant/browser.js?9520","webpack:///./lib/bulbs-elements/util/index.js?5c63","webpack:///./lib/bulbs-elements/util/in-view-monitor.js?13b0","webpack:///./lib/bulbs-elements/util/copy-attribute.js?be1d","webpack:///./lib/bulbs-elements/util/filter-bad-response.js?fe9e","webpack:///./lib/bulbs-elements/util/get-response-json.js?10ed","webpack:///./lib/bulbs-elements/util/iterate-object.js?e932","webpack:///./lib/bulbs-elements/util/load-on-demand.js?a3d8","webpack:///./lib/bulbs-elements/util/make-request.js?a5a6","webpack:///./~/clone/clone.js?a97b","webpack:///./lib/bulbs-elements/util/move-children.js?6b5f","webpack:///./lib/bulbs-elements/util/supports-calc-in-transform.js?fe9b","webpack:///./~/iphone-inline-video/dist/iphone-inline-video.common-js.js","webpack:///./~/poor-mans-symbol/dist/poor-mans-symbol.common-js.js"],"names":["webpackJsonp","0","module","exports","__webpack_require__","_interopRequireWildcard","obj","__esModule","newObj","key","Object","prototype","hasOwnProperty","call","_defaults","defaults","keys","getOwnPropertyNames","i","length","value","getOwnPropertyDescriptor","configurable","undefined","defineProperty","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","enumerable","writable","setPrototypeOf","BulbsHTMLVideoElement","_register","_util","_iphoneInlineVideo","iphoneInlineVideo","HTMLVideoElement","BulbsCinemagraph","_BulbsHTMLVideoElemen","this","apply","arguments","createdCallback","_this2","hasAttribute","console","warn","get","parseFloat","getAttribute","setAttribute","addEventListener","play","pause","attachedCallback","InViewMonitor","add","detachedCallback","remove","registerElement","1","invariant","condition","format","a","b","c","d","e","f","error","Error","args","argIndex","replace","name","framesToPop","178","_interopRequireDefault","default","_inViewMonitor","_inViewMonitor2","_copyAttribute","_copyAttribute2","_filterBadResponse","_filterBadResponse2","_getResponseJson","_getResponseJson2","_iterateObject","_iterateObject2","_loadOnDemand","_loadOnDemand2","_makeRequest","_makeRequest2","_moveChildren","_moveChildren2","_supportsCalcInTransform","_supportsCalcInTransform2","copyAttribute","filterBadResponse","getResponseJSON","iterateObject","loadOnDemand","makeRequest","moveChildren","supportsCalcInTransform","179","init","initialized","window","handleDisplayMutation","animationRequest","requestAnimationFrame","monitoredItems","forEach","maybeEmitEvent","isElementInViewport","el","options","rect","getBoundingClientRect","bottom","distanceFromTop","right","left","innerWidth","document","documentElement","clientWidth","top","innerHeight","clientHeight","distanceFromBottom","inViewId","monitoredItem","inView","element","state","event","CustomEvent","dispatchEvent","_bulbsInView","checkElement","180","attribute","from","to","181","response","Promise","resolve","reject","ok","_es6Promise","_es6Promise2","polyfill","182","json","183","object","fn","184","maybeLoadComponents","animationFrameRequested","pendingComponents","maybeLoadComponent","component","shouldComponentLoad","loadComponent","dequeue","refs","sentinel","setState","load","enqueue","push","index","indexOf","splice","wrapped","props","_react2","createElement","LoadOnDemand","componentProps","displayName","_react","_React$Component","_this","componentDidMount","componentWillUnmount","render","WrappedComponent","ref","Component","185","url","_invariant2","success","failure","callbacks","requestOptions","_clone2","redirect","fetch","then","promise","status","_clone","_invariant","186","clone","parent","circular","depth","child","proto","__isArray","__isRegExp","RegExp","source","__getRegExpFlags","lastIndex","__isDate","Date","getTime","useBuffer","Buffer","isBuffer","copy","getPrototypeOf","allParents","allChildren","attrs","set","filter","Infinity","__objToStr","o","toString","re","flags","global","ignoreCase","multiline","clonePrototype","187","Array","slice","childNodes","appendChild","188","_document$createEleme","style","transform","196","_interopDefault","ex","Intervalometer","cb","loop","now","rafId","previousLoopTime","start","stop","cancelAnimationFrame","preventEvent","eventName","toggleProperty","preventWithProperty","handler","Boolean","stopImmediatePropagation","proxyProperty","propertyName","sourceObject","copyFirst","proxyEvent","Event","dispatchEventAsync","type","getAudioFromVideo","video","audio","Audio","crossOrigin","src","currentSrc","setTime","time","rememberOnly","lastTimeupdateEvent","ಠevent","currentTime","lastRequests","requestIndex","isPlayerEnded","player","driver","duration","update","timeDiff","readyState","HAVE_FUTURE_DATA","hasAudio","playbackRate","networkState","NETWORK_IDLE","buffered","ended","ಠ","webkitDisplayingFullscreen","ಠplay","paused","updater","HAVE_ENOUGH_DATA","forceEvents","ಠpause","addPlayer","bind","muted","wasEmpty","overloadAPI","enableInlineVideo","onlyWhitelisted","isWhitelisted","classList","autoplay","navigator","platform","Symbol","test","userAgent","head","grid","197","description","Math","random","198"],"mappings":"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","file":"bulbs-cinemagraph.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _register = __webpack_require__(2);\n\t\n\tvar _util = __webpack_require__(178);\n\t\n\tvar _iphoneInlineVideo = __webpack_require__(196);\n\t\n\tvar iphoneInlineVideo = _interopRequireWildcard(_iphoneInlineVideo);\n\t\n\t__webpack_require__(198);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }\n\t\n\t// We have to do this little dance to properly subclass elements in Safari\n\tfunction BulbsHTMLVideoElement() {}\n\tBulbsHTMLVideoElement.prototype = HTMLVideoElement.prototype;\n\t\n\tvar BulbsCinemagraph = function (_BulbsHTMLVideoElemen) {\n\t  _inherits(BulbsCinemagraph, _BulbsHTMLVideoElemen);\n\t\n\t  function BulbsCinemagraph() {\n\t    _classCallCheck(this, BulbsCinemagraph);\n\t\n\t    return _possibleConstructorReturn(this, _BulbsHTMLVideoElemen.apply(this, arguments));\n\t  }\n\t\n\t  BulbsCinemagraph.prototype.createdCallback = function createdCallback() {\n\t    var _this2 = this;\n\t\n\t    if (!this.hasAttribute('cinemagraph-duration')) {\n\t      console.warn('is=\"bulbs-cinemagraph\" elements should have a [cinemagraph-duration] attribute set');\n\t    }\n\t\n\t    // makeVideoPlayableInline is dumb and goes just a little bit too far in the\n\t    // video, this results in a quick flash of a black frame in the loop. If we\n\t    // override the duration we can get the loop to loop properly.\n\t    // For now, this must be determined by hand.\n\t    Object.defineProperty(this, 'duration', {\n\t      get: function get() {\n\t        return parseFloat(this.getAttribute('cinemagraph-duration')) || 0;\n\t      }\n\t    });\n\t\n\t    this.setAttribute('loop', true);\n\t    this.setAttribute('webkit-playsinline', true);\n\t\n\t    this.addEventListener('enterviewport', function () {\n\t      return _this2.play();\n\t    });\n\t    this.addEventListener('exitviewport', function () {\n\t      return _this2.pause();\n\t    });\n\t  };\n\t\n\t  BulbsCinemagraph.prototype.attachedCallback = function attachedCallback() {\n\t    iphoneInlineVideo.default(this, /* hasAudio */false);\n\t    _util.InViewMonitor.add(this);\n\t  };\n\t\n\t  BulbsCinemagraph.prototype.detachedCallback = function detachedCallback() {\n\t    _util.InViewMonitor.remove(this);\n\t  };\n\t\n\t  return BulbsCinemagraph;\n\t}(BulbsHTMLVideoElement);\n\t\n\tBulbsCinemagraph.extends = 'video';\n\t\n\t(0, _register.registerElement)('bulbs-cinemagraph', BulbsCinemagraph);\n\n/***/ },\n\n/***/ 1:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Copyright 2013-2015, Facebook, Inc.\n\t * All rights reserved.\n\t *\n\t * This source code is licensed under the BSD-style license found in the\n\t * LICENSE file in the root directory of this source tree. An additional grant\n\t * of patent rights can be found in the PATENTS file in the same directory.\n\t */\n\t\n\t'use strict';\n\t\n\t/**\n\t * Use invariant() to assert state which your program assumes to be true.\n\t *\n\t * Provide sprintf-style format (only %s is supported) and arguments\n\t * to provide information about what broke and what you were\n\t * expecting.\n\t *\n\t * The invariant message will be stripped in production, but the invariant\n\t * will remain to ensure logic does not differ in production.\n\t */\n\t\n\tvar invariant = function(condition, format, a, b, c, d, e, f) {\n\t  if (false) {\n\t    if (format === undefined) {\n\t      throw new Error('invariant requires an error message argument');\n\t    }\n\t  }\n\t\n\t  if (!condition) {\n\t    var error;\n\t    if (format === undefined) {\n\t      error = new Error(\n\t        'Minified exception occurred; use the non-minified dev environment ' +\n\t        'for the full error message and additional helpful warnings.'\n\t      );\n\t    } else {\n\t      var args = [a, b, c, d, e, f];\n\t      var argIndex = 0;\n\t      error = new Error(\n\t        format.replace(/%s/g, function() { return args[argIndex++]; })\n\t      );\n\t      error.name = 'Invariant Violation';\n\t    }\n\t\n\t    error.framesToPop = 1; // we don't care about invariant's own frame\n\t    throw error;\n\t  }\n\t};\n\t\n\tmodule.exports = invariant;\n\n\n/***/ },\n\n/***/ 178:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _inViewMonitor = __webpack_require__(179);\n\t\n\tvar _inViewMonitor2 = _interopRequireDefault(_inViewMonitor);\n\t\n\tvar _copyAttribute = __webpack_require__(180);\n\t\n\tvar _copyAttribute2 = _interopRequireDefault(_copyAttribute);\n\t\n\tvar _filterBadResponse = __webpack_require__(181);\n\t\n\tvar _filterBadResponse2 = _interopRequireDefault(_filterBadResponse);\n\t\n\tvar _getResponseJson = __webpack_require__(182);\n\t\n\tvar _getResponseJson2 = _interopRequireDefault(_getResponseJson);\n\t\n\tvar _iterateObject = __webpack_require__(183);\n\t\n\tvar _iterateObject2 = _interopRequireDefault(_iterateObject);\n\t\n\tvar _loadOnDemand = __webpack_require__(184);\n\t\n\tvar _loadOnDemand2 = _interopRequireDefault(_loadOnDemand);\n\t\n\tvar _makeRequest = __webpack_require__(185);\n\t\n\tvar _makeRequest2 = _interopRequireDefault(_makeRequest);\n\t\n\tvar _moveChildren = __webpack_require__(187);\n\t\n\tvar _moveChildren2 = _interopRequireDefault(_moveChildren);\n\t\n\tvar _supportsCalcInTransform = __webpack_require__(188);\n\t\n\tvar _supportsCalcInTransform2 = _interopRequireDefault(_supportsCalcInTransform);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tmodule.exports = {\n\t  copyAttribute: _copyAttribute2.default,\n\t  filterBadResponse: _filterBadResponse2.default,\n\t  getResponseJSON: _getResponseJson2.default,\n\t  InViewMonitor: _inViewMonitor2.default,\n\t  iterateObject: _iterateObject2.default,\n\t  loadOnDemand: _loadOnDemand2.default,\n\t  makeRequest: _makeRequest2.default,\n\t  moveChildren: _moveChildren2.default,\n\t  supportsCalcInTransform: _supportsCalcInTransform2.default\n\t};\n\n/***/ },\n\n/***/ 179:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar isElementInViewport = function isElementInViewport(el, options) {\n\t  var rect = el.getBoundingClientRect();\n\t\n\t  return rect.bottom > (options.distanceFromTop || 0) && rect.right > 0 && rect.left < (window.innerWidth || document.documentElement.clientWidth) && rect.top < (window.innerHeight || document.documentElement.clientHeight) + (options.distanceFromBottom || 0);\n\t};\n\t\n\tvar inViewId = 0;\n\tvar initialized = false;\n\tvar animationRequest = void 0;\n\tvar monitoredItems = {};\n\t\n\tfunction init() {\n\t  if (initialized === false) {\n\t    initialized = true;\n\t    window.addEventListener('scroll', handleDisplayMutation, true);\n\t    window.addEventListener('resize', handleDisplayMutation);\n\t  }\n\t}\n\t\n\tvar maybeEmitEvent = function maybeEmitEvent(monitoredItem) {\n\t  var inView = isElementInViewport(monitoredItem.element, monitoredItem.options);\n\t  if (inView && monitoredItem.state === 'out') {\n\t    monitoredItem.state = 'in';\n\t    var event = new CustomEvent('enterviewport');\n\t    monitoredItem.element.dispatchEvent(event);\n\t  } else if (!inView && monitoredItem.state === 'in') {\n\t    monitoredItem.state = 'out';\n\t    var _event = new CustomEvent('exitviewport');\n\t    monitoredItem.element.dispatchEvent(_event);\n\t  }\n\t};\n\t\n\tfunction handleDisplayMutation() {\n\t  if (!animationRequest) {\n\t    animationRequest = requestAnimationFrame(function () {\n\t      animationRequest = null;\n\t      Object.keys(monitoredItems).forEach(function (key) {\n\t        maybeEmitEvent(monitoredItems[key]);\n\t      });\n\t    });\n\t  }\n\t}\n\t\n\texports.default = {\n\t  add: function add(element) {\n\t    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\t\n\t    init();\n\t    if (!element._bulbsInView) {\n\t      element._bulbsInView = ++inViewId;\n\t    }\n\t    monitoredItems[element._bulbsInView] = {\n\t      element: element,\n\t      state: 'out',\n\t      options: options\n\t    };\n\t    maybeEmitEvent(monitoredItems[element._bulbsInView]);\n\t  },\n\t  remove: function remove(element) {\n\t    delete monitoredItems[element._bulbsInView];\n\t  },\n\t  checkElement: function checkElement(element) {\n\t    maybeEmitEvent(monitoredItems[element._bulbsInView]);\n\t  }\n\t};\n\n/***/ },\n\n/***/ 180:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = copyAttribute;\n\tfunction copyAttribute(attribute, from, to) {\n\t  to.setAttribute(attribute, from.getAttribute(attribute));\n\t}\n\n/***/ },\n\n/***/ 181:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = filterBadResponse;\n\t\n\tvar _es6Promise = __webpack_require__(8);\n\t\n\tvar _es6Promise2 = _interopRequireDefault(_es6Promise);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_es6Promise2.default.polyfill();\n\t\n\tfunction filterBadResponse(response) {\n\t  return new Promise(function (resolve, reject) {\n\t    response.ok ? resolve(response) : reject(response);\n\t  });\n\t}\n\n/***/ },\n\n/***/ 182:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = getResponseJSON;\n\tfunction getResponseJSON(response) {\n\t  return response.json();\n\t}\n\n/***/ },\n\n/***/ 183:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tmodule.exports = function iterateObject() {\n\t  var object = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t  var fn = arguments[1];\n\t\n\t  Object.keys(object).forEach(function (key) {\n\t    fn(object[key], key);\n\t  });\n\t};\n\n/***/ },\n\n/***/ 184:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.LoadOnDemand = undefined;\n\texports.default = loadOnDemand;\n\t\n\tvar _react = __webpack_require__(172);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); } /* eslint-disable no-warning-comments */\n\t// The load-on-demand utility attaches global event listeners for\n\t// * resize\n\t// * scroll\n\t//\n\t// These handlers add a callback to requestAnimationFrame. The callback will be\n\t// queued no more than once per frame.\n\t//\n\t// Wrap your component like this:\n\t//\n\t// import { loadOnDemand } from 'bulbs-elements/util'\n\t//\n\t// class ComponentToLoadOnDemand extends React.Component {\n\t//   render () {\n\t//     return <h1> Hoopla </h1>\n\t//   }\n\t// }\n\t//\n\t// export default loadOnDemand(ComponentToLoadOnDemand)\n\t\n\t\n\taddEventListener('resize', maybeLoadComponents);\n\taddEventListener('scroll', maybeLoadComponents, true);\n\t\n\tvar pendingComponents = [];\n\tvar animationFrameRequested = false;\n\t\n\tfunction maybeLoadComponents() {\n\t  if (animationFrameRequested === false) {\n\t    requestAnimationFrame(function () {\n\t      animationFrameRequested = false;\n\t      pendingComponents.forEach(maybeLoadComponent);\n\t    });\n\t    animationFrameRequested = true;\n\t  }\n\t}\n\t\n\tfunction maybeLoadComponent(component) {\n\t  if (shouldComponentLoad(component)) {\n\t    loadComponent(component);\n\t    dequeue(component);\n\t  }\n\t}\n\t\n\tfunction shouldComponentLoad(component) {\n\t  var distanceFromTop = 200;\n\t  var distanceFromBottom = 200;\n\t  // TODO: Make the distance from the bottom and top of the viewport configurable.\n\t  //       Maybe something like this:\n\t  //\n\t  // let {\n\t  //   distanceFromTop,\n\t  //   distanceFromBottom,\n\t  // } = component.props.config;\n\t  //\n\t  // if (typoof distanceFromTop === 'undefined') {\n\t  //   distanceFromTop = 200;\n\t  // }\n\t  //\n\t  // if (typoof distanceFromBottom === 'undefined') {\n\t  //   distanceFromBottom = 200;\n\t  // }\n\t  //\n\t  // This would require altering the function exported at the bottom this file\n\t  // to take a second argument:\n\t  //\n\t  // function (component, config = {}) {}\n\t  //\n\t  // And updating it's render function to pass config into the wrapped component.\n\t  //\n\t  // Something like this:\n\t  //\n\t  // return (\n\t  //   <WrappedComponent\n\t  //     config={config}\n\t  //     component={component}\n\t  //     componentProps={props}\n\t  //   />;\n\t  // );\n\t\n\t  var rect = component.refs.sentinel.getBoundingClientRect();\n\t  return rect.bottom > -distanceFromTop && rect.top < window.innerHeight + distanceFromBottom;\n\t}\n\t\n\tfunction loadComponent(component) {\n\t  component.setState({ load: true });\n\t}\n\t\n\tfunction enqueue(component) {\n\t  pendingComponents.push(component);\n\t}\n\t\n\tfunction dequeue(component) {\n\t  var index = pendingComponents.indexOf(component);\n\t  if (index > -1) {\n\t    pendingComponents.splice(index, 1);\n\t  }\n\t}\n\t\n\tvar LoadOnDemand = exports.LoadOnDemand = function (_React$Component) {\n\t  _inherits(LoadOnDemand, _React$Component);\n\t\n\t  function LoadOnDemand(props) {\n\t    _classCallCheck(this, LoadOnDemand);\n\t\n\t    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\t\n\t    _this.state = { load: false };\n\t    return _this;\n\t  }\n\t\n\t  LoadOnDemand.prototype.componentDidMount = function componentDidMount() {\n\t    enqueue(this);\n\t    maybeLoadComponent(this);\n\t  };\n\t\n\t  LoadOnDemand.prototype.componentWillUnmount = function componentWillUnmount() {\n\t    dequeue(this);\n\t  };\n\t\n\t  LoadOnDemand.prototype.render = function render() {\n\t    var WrappedComponent = this.props.component; // eslint-disable-line react/prop-types\n\t    if (this.state.load) {\n\t      return _react2.default.createElement(WrappedComponent, this.props.componentProps); // eslint-disable-line react/prop-types\n\t    }\n\t\n\t    return _react2.default.createElement('div', { ref: 'sentinel' });\n\t  };\n\t\n\t  return LoadOnDemand;\n\t}(_react2.default.Component);\n\t\n\tfunction loadOnDemand(component) {\n\t  var wrapped = function wrapped(props) {\n\t    // eslint-disable-line react/no-multi-comp\n\t    return _react2.default.createElement(LoadOnDemand, {\n\t      component: component,\n\t      componentProps: props\n\t    });\n\t  };\n\t\n\t  wrapped.displayName = 'LoadOnDemand(' + component.displayName + ')';\n\t  return wrapped;\n\t}\n\n/***/ },\n\n/***/ 185:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = makeRequest;\n\t\n\tvar _clone = __webpack_require__(186);\n\t\n\tvar _clone2 = _interopRequireDefault(_clone);\n\t\n\tvar _invariant = __webpack_require__(1);\n\t\n\tvar _invariant2 = _interopRequireDefault(_invariant);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction makeRequest(url) {\n\t  var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\t\n\t  (0, _invariant2.default)(options.success, 'makeRequest MUST have a success callback');\n\t  (0, _invariant2.default)(options.failure, 'makeRequest MUST have a failure callback');\n\t  (0, _invariant2.default)(options.error, 'makeRequest MUST have an error callback');\n\t\n\t  var success = options.success;\n\t  var failure = options.failure;\n\t  var error = options.error;\n\t\n\t  var callbacks = { success: success, failure: failure, error: error };\n\t  var requestOptions = (0, _clone2.default)(options);\n\t\n\t  // defensively deleting these options\n\t  // so we don't pass them through to fetch\n\t  delete requestOptions.success;\n\t  delete requestOptions.failure;\n\t  delete requestOptions.error;\n\t\n\t  if (!options.redirect) {\n\t    requestOptions.redirect = 'follow';\n\t  }\n\t\n\t  return fetch(url, requestOptions).then(function (response) {\n\t    var promise = void 0;\n\t    if (response.status < 300) {\n\t      promise = response.json().then(callbacks.success);\n\t    } else if (response.status >= 400) {\n\t      promise = response.json().then(callbacks.failure);\n\t    }\n\t    return promise;\n\t  }).catch(callbacks.error);\n\t}\n\n/***/ },\n\n/***/ 186:\n/***/ function(module, exports) {\n\n\tvar clone = (function() {\n\t'use strict';\n\t\n\t/**\n\t * Clones (copies) an Object using deep copying.\n\t *\n\t * This function supports circular references by default, but if you are certain\n\t * there are no circular references in your object, you can save some CPU time\n\t * by calling clone(obj, false).\n\t *\n\t * Caution: if `circular` is false and `parent` contains circular references,\n\t * your program may enter an infinite loop and crash.\n\t *\n\t * @param `parent` - the object to be cloned\n\t * @param `circular` - set to true if the object to be cloned may contain\n\t *    circular references. (optional - true by default)\n\t * @param `depth` - set to a number if the object is only to be cloned to\n\t *    a particular depth. (optional - defaults to Infinity)\n\t * @param `prototype` - sets the prototype to be used when cloning an object.\n\t *    (optional - defaults to parent prototype).\n\t*/\n\tfunction clone(parent, circular, depth, prototype) {\n\t  var filter;\n\t  if (typeof circular === 'object') {\n\t    depth = circular.depth;\n\t    prototype = circular.prototype;\n\t    filter = circular.filter;\n\t    circular = circular.circular\n\t  }\n\t  // maintain two arrays for circular references, where corresponding parents\n\t  // and children have the same index\n\t  var allParents = [];\n\t  var allChildren = [];\n\t\n\t  var useBuffer = typeof Buffer != 'undefined';\n\t\n\t  if (typeof circular == 'undefined')\n\t    circular = true;\n\t\n\t  if (typeof depth == 'undefined')\n\t    depth = Infinity;\n\t\n\t  // recurse this function so we don't reset allParents and allChildren\n\t  function _clone(parent, depth) {\n\t    // cloning null always returns null\n\t    if (parent === null)\n\t      return null;\n\t\n\t    if (depth == 0)\n\t      return parent;\n\t\n\t    var child;\n\t    var proto;\n\t    if (typeof parent != 'object') {\n\t      return parent;\n\t    }\n\t\n\t    if (clone.__isArray(parent)) {\n\t      child = [];\n\t    } else if (clone.__isRegExp(parent)) {\n\t      child = new RegExp(parent.source, __getRegExpFlags(parent));\n\t      if (parent.lastIndex) child.lastIndex = parent.lastIndex;\n\t    } else if (clone.__isDate(parent)) {\n\t      child = new Date(parent.getTime());\n\t    } else if (useBuffer && Buffer.isBuffer(parent)) {\n\t      child = new Buffer(parent.length);\n\t      parent.copy(child);\n\t      return child;\n\t    } else {\n\t      if (typeof prototype == 'undefined') {\n\t        proto = Object.getPrototypeOf(parent);\n\t        child = Object.create(proto);\n\t      }\n\t      else {\n\t        child = Object.create(prototype);\n\t        proto = prototype;\n\t      }\n\t    }\n\t\n\t    if (circular) {\n\t      var index = allParents.indexOf(parent);\n\t\n\t      if (index != -1) {\n\t        return allChildren[index];\n\t      }\n\t      allParents.push(parent);\n\t      allChildren.push(child);\n\t    }\n\t\n\t    for (var i in parent) {\n\t      var attrs;\n\t      if (proto) {\n\t        attrs = Object.getOwnPropertyDescriptor(proto, i);\n\t      }\n\t\n\t      if (attrs && attrs.set == null) {\n\t        continue;\n\t      }\n\t      child[i] = _clone(parent[i], depth - 1);\n\t    }\n\t\n\t    return child;\n\t  }\n\t\n\t  return _clone(parent, depth);\n\t}\n\t\n\t/**\n\t * Simple flat clone using prototype, accepts only objects, usefull for property\n\t * override on FLAT configuration object (no nested props).\n\t *\n\t * USE WITH CAUTION! This may not behave as you wish if you do not know how this\n\t * works.\n\t */\n\tclone.clonePrototype = function clonePrototype(parent) {\n\t  if (parent === null)\n\t    return null;\n\t\n\t  var c = function () {};\n\t  c.prototype = parent;\n\t  return new c();\n\t};\n\t\n\t// private utility functions\n\t\n\tfunction __objToStr(o) {\n\t  return Object.prototype.toString.call(o);\n\t};\n\tclone.__objToStr = __objToStr;\n\t\n\tfunction __isDate(o) {\n\t  return typeof o === 'object' && __objToStr(o) === '[object Date]';\n\t};\n\tclone.__isDate = __isDate;\n\t\n\tfunction __isArray(o) {\n\t  return typeof o === 'object' && __objToStr(o) === '[object Array]';\n\t};\n\tclone.__isArray = __isArray;\n\t\n\tfunction __isRegExp(o) {\n\t  return typeof o === 'object' && __objToStr(o) === '[object RegExp]';\n\t};\n\tclone.__isRegExp = __isRegExp;\n\t\n\tfunction __getRegExpFlags(re) {\n\t  var flags = '';\n\t  if (re.global) flags += 'g';\n\t  if (re.ignoreCase) flags += 'i';\n\t  if (re.multiline) flags += 'm';\n\t  return flags;\n\t};\n\tclone.__getRegExpFlags = __getRegExpFlags;\n\t\n\treturn clone;\n\t})();\n\t\n\tif (typeof module === 'object' && module.exports) {\n\t  module.exports = clone;\n\t}\n\n\n/***/ },\n\n/***/ 187:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = moveChildren;\n\tfunction moveChildren(from, to) {\n\t  Array.prototype.forEach.call(Array.prototype.slice.call(from.childNodes), function (child) {\n\t    return to.appendChild(child);\n\t  });\n\t}\n\n/***/ },\n\n/***/ 188:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\t// Older versions of IE do not support css calc in transforms.\n\t// We can detect this feature by setting the transform style of\n\t// an element to a calc string. In non-supporting browsers, further\n\t// reads of this property will return an empty string.\n\tvar _document$createEleme = document.createElement('div');\n\t\n\tvar style = _document$createEleme.style;\n\t\n\tstyle.transform = 'translateX(calc(100% - 10px))';\n\t\n\t// This CANNOT be checked in the assignment expression.\n\t// non-supporting browsers will return the string with calc\n\t// from the assignment, and then the empty string on access.\n\texports.default = style.transform !== '';\n\n/***/ },\n\n/***/ 196:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*! npm.im/iphone-inline-video */\n\t'use strict';\n\t\n\tfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\t\n\tvar Symbol = _interopDefault(__webpack_require__(197));\n\t\n\tfunction Intervalometer(cb) {\n\t\tvar rafId;\n\t\tvar previousLoopTime;\n\t\tfunction loop(now) {\n\t\t\t// must be requested before cb() because that might call .stop()\n\t\t\trafId = requestAnimationFrame(loop);\n\t\t\tcb(now - (previousLoopTime || now)); // ms since last call. 0 on start()\n\t\t\tpreviousLoopTime = now;\n\t\t}\n\t\tthis.start = function () {\n\t\t\tif (!rafId) { // prevent double starts\n\t\t\t\tloop(0);\n\t\t\t}\n\t\t};\n\t\tthis.stop = function () {\n\t\t\tcancelAnimationFrame(rafId);\n\t\t\trafId = null;\n\t\t\tpreviousLoopTime = 0;\n\t\t};\n\t}\n\t\n\tfunction preventEvent(element, eventName, toggleProperty, preventWithProperty) {\n\t\tfunction handler(e) {\n\t\t\tif (Boolean(element[toggleProperty]) === Boolean(preventWithProperty)) {\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t// console.log(eventName, 'prevented on', element);\n\t\t\t}\n\t\t\tdelete element[toggleProperty];\n\t\t}\n\t\telement.addEventListener(eventName, handler, false);\n\t\n\t\t// Return handler to allow to disable the prevention. Usage:\n\t\t// const preventionHandler = preventEvent(el, 'click');\n\t\t// el.removeEventHandler('click', preventionHandler);\n\t\treturn handler;\n\t}\n\t\n\tfunction proxyProperty(object, propertyName, sourceObject, copyFirst) {\n\t\tfunction get() {\n\t\t\treturn sourceObject[propertyName];\n\t\t}\n\t\tfunction set(value) {\n\t\t\tsourceObject[propertyName] = value;\n\t\t}\n\t\n\t\tif (copyFirst) {\n\t\t\tset(object[propertyName]);\n\t\t}\n\t\n\t\tObject.defineProperty(object, propertyName, {get: get, set: set});\n\t}\n\t\n\tfunction proxyEvent(object, eventName, sourceObject) {\n\t\tsourceObject.addEventListener(eventName, function () { return object.dispatchEvent(new Event(eventName)); });\n\t}\n\t\n\tfunction dispatchEventAsync(element, type) {\n\t\tPromise.resolve().then(function () {\n\t\t\telement.dispatchEvent(new Event(type));\n\t\t});\n\t}\n\t\n\t// iOS 10 adds support for native inline playback + silent autoplay\n\t// Also adds unprefixed css-grid. This check essentially excludes\n\tvar isWhitelisted = /iPhone|iPod/i.test(navigator.userAgent) && document.head.style.grid === undefined;\n\t\n\tvar ಠ = Symbol();\n\tvar ಠevent = Symbol();\n\tvar ಠplay = Symbol('nativeplay');\n\tvar ಠpause = Symbol('nativepause');\n\t\n\t/**\n\t * UTILS\n\t */\n\t\n\tfunction getAudioFromVideo(video) {\n\t\tvar audio = new Audio();\n\t\tproxyEvent(video, 'play', audio);\n\t\tproxyEvent(video, 'playing', audio);\n\t\tproxyEvent(video, 'pause', audio);\n\t\taudio.crossOrigin = video.crossOrigin;\n\t\n\t\t// 'data:' causes audio.networkState > 0\n\t\t// which then allows to keep <audio> in a resumable playing state\n\t\t// i.e. once you set a real src it will keep playing if it was if .play() was called\n\t\taudio.src = video.src || video.currentSrc || 'data:';\n\t\n\t\t// if (audio.src === 'data:') {\n\t\t//   TODO: wait for video to be selected\n\t\t// }\n\t\treturn audio;\n\t}\n\t\n\tvar lastRequests = [];\n\tvar requestIndex = 0;\n\tvar lastTimeupdateEvent;\n\t\n\tfunction setTime(video, time, rememberOnly) {\n\t\t// allow one timeupdate event every 200+ ms\n\t\tif ((lastTimeupdateEvent || 0) + 200 < Date.now()) {\n\t\t\tvideo[ಠevent] = true;\n\t\t\tlastTimeupdateEvent = Date.now();\n\t\t}\n\t\tif (!rememberOnly) {\n\t\t\tvideo.currentTime = time;\n\t\t}\n\t\tlastRequests[++requestIndex % 3] = time * 100 | 0 / 100;\n\t}\n\t\n\tfunction isPlayerEnded(player) {\n\t\treturn player.driver.currentTime >= player.video.duration;\n\t}\n\t\n\tfunction update(timeDiff) {\n\t\tvar player = this;\n\t\t// console.log('update', player.video.readyState, player.video.networkState, player.driver.readyState, player.driver.networkState, player.driver.paused);\n\t\tif (player.video.readyState >= player.video.HAVE_FUTURE_DATA) {\n\t\t\tif (!player.hasAudio) {\n\t\t\t\tplayer.driver.currentTime = player.video.currentTime + (timeDiff * player.video.playbackRate) / 1000;\n\t\t\t\tif (player.video.loop && isPlayerEnded(player)) {\n\t\t\t\t\tplayer.driver.currentTime = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\tsetTime(player.video, player.driver.currentTime);\n\t\t} else if (player.video.networkState === player.video.NETWORK_IDLE && !player.video.buffered.length) {\n\t\t\t// this should happen when the source is available but:\n\t\t\t// - it's potentially playing (.paused === false)\n\t\t\t// - it's not ready to play\n\t\t\t// - it's not loading\n\t\t\t// If it hasAudio, that will be loaded in the 'emptied' handler below\n\t\t\tplayer.video.load();\n\t\t\t// console.log('Will load');\n\t\t}\n\t\n\t\t// console.assert(player.video.currentTime === player.driver.currentTime, 'Video not updating!');\n\t\n\t\tif (player.video.ended) {\n\t\t\tdelete player.video[ಠevent]; // allow timeupdate event\n\t\t\tplayer.video.pause(true);\n\t\t}\n\t}\n\t\n\t/**\n\t * METHODS\n\t */\n\t\n\tfunction play() {\n\t\t// console.log('play');\n\t\tvar video = this;\n\t\tvar player = video[ಠ];\n\t\n\t\t// if it's fullscreen, use the native player\n\t\tif (video.webkitDisplayingFullscreen) {\n\t\t\tvideo[ಠplay]();\n\t\t\treturn;\n\t\t}\n\t\n\t\tif (player.driver.src !== 'data:' && player.driver.src !== video.src) {\n\t\t\t// console.log('src changed on play', video.src);\n\t\t\tsetTime(video, 0, true);\n\t\t\tplayer.driver.src = video.src;\n\t\t}\n\t\n\t\tif (!video.paused) {\n\t\t\treturn;\n\t\t}\n\t\tplayer.paused = false;\n\t\n\t\tif (!video.buffered.length) {\n\t\t\t// .load() causes the emptied event\n\t\t\t// the alternative is .play()+.pause() but that triggers play/pause events, even worse\n\t\t\t// possibly the alternative is preventing this event only once\n\t\t\tvideo.load();\n\t\t}\n\t\n\t\tplayer.driver.play();\n\t\tplayer.updater.start();\n\t\n\t\tif (!player.hasAudio) {\n\t\t\tdispatchEventAsync(video, 'play');\n\t\t\tif (player.video.readyState >= player.video.HAVE_ENOUGH_DATA) {\n\t\t\t\t// console.log('onplay');\n\t\t\t\tdispatchEventAsync(video, 'playing');\n\t\t\t}\n\t\t}\n\t}\n\tfunction pause(forceEvents) {\n\t\t// console.log('pause');\n\t\tvar video = this;\n\t\tvar player = video[ಠ];\n\t\n\t\tplayer.driver.pause();\n\t\tplayer.updater.stop();\n\t\n\t\t// if it's fullscreen, the developer the native player.pause()\n\t\t// This is at the end of pause() because it also\n\t\t// needs to make sure that the simulation is paused\n\t\tif (video.webkitDisplayingFullscreen) {\n\t\t\tvideo[ಠpause]();\n\t\t}\n\t\n\t\tif (player.paused && !forceEvents) {\n\t\t\treturn;\n\t\t}\n\t\n\t\tplayer.paused = true;\n\t\tif (!player.hasAudio) {\n\t\t\tdispatchEventAsync(video, 'pause');\n\t\t}\n\t\tif (video.ended) {\n\t\t\tvideo[ಠevent] = true;\n\t\t\tdispatchEventAsync(video, 'ended');\n\t\t}\n\t}\n\t\n\t/**\n\t * SETUP\n\t */\n\t\n\tfunction addPlayer(video, hasAudio) {\n\t\tvar player = video[ಠ] = {};\n\t\tplayer.paused = true; // track whether 'pause' events have been fired\n\t\tplayer.hasAudio = hasAudio;\n\t\tplayer.video = video;\n\t\tplayer.updater = new Intervalometer(update.bind(player));\n\t\n\t\tif (hasAudio) {\n\t\t\tplayer.driver = getAudioFromVideo(video);\n\t\t} else {\n\t\t\tvideo.addEventListener('canplay', function () {\n\t\t\t\tif (!video.paused) {\n\t\t\t\t\t// console.log('oncanplay');\n\t\t\t\t\tdispatchEventAsync(video, 'playing');\n\t\t\t\t}\n\t\t\t});\n\t\t\tplayer.driver = {\n\t\t\t\tsrc: video.src || video.currentSrc || 'data:',\n\t\t\t\tmuted: true,\n\t\t\t\tpaused: true,\n\t\t\t\tpause: function () {\n\t\t\t\t\tplayer.driver.paused = true;\n\t\t\t\t},\n\t\t\t\tplay: function () {\n\t\t\t\t\tplayer.driver.paused = false;\n\t\t\t\t\t// media automatically goes to 0 if .play() is called when it's done\n\t\t\t\t\tif (isPlayerEnded(player)) {\n\t\t\t\t\t\tsetTime(video, 0);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tget ended() {\n\t\t\t\t\treturn isPlayerEnded(player);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\n\t\t// .load() causes the emptied event\n\t\tvideo.addEventListener('emptied', function () {\n\t\t\t// console.log('driver src is', player.driver.src);\n\t\t\tvar wasEmpty = !player.driver.src || player.driver.src === 'data:';\n\t\t\tif (player.driver.src && player.driver.src !== video.src) {\n\t\t\t\t// console.log('src changed to', video.src);\n\t\t\t\tsetTime(video, 0, true);\n\t\t\t\tplayer.driver.src = video.src;\n\t\t\t\t// playing videos will only keep playing if no src was present when .play()’ed\n\t\t\t\tif (wasEmpty) {\n\t\t\t\t\tplayer.driver.play();\n\t\t\t\t} else {\n\t\t\t\t\tplayer.updater.stop();\n\t\t\t\t}\n\t\t\t}\n\t\t}, false);\n\t\n\t\t// stop programmatic player when OS takes over\n\t\tvideo.addEventListener('webkitbeginfullscreen', function () {\n\t\t\tif (!video.paused) {\n\t\t\t\t// make sure that the <audio> and the syncer/updater are stopped\n\t\t\t\tvideo.pause();\n\t\n\t\t\t\t// play video natively\n\t\t\t\tvideo[ಠplay]();\n\t\t\t} else if (hasAudio && !player.driver.buffered.length) {\n\t\t\t\t// if the first play is native,\n\t\t\t\t// the <audio> needs to be buffered manually\n\t\t\t\t// so when the fullscreen ends, it can be set to the same current time\n\t\t\t\tplayer.driver.load();\n\t\t\t}\n\t\t});\n\t\tif (hasAudio) {\n\t\t\tvideo.addEventListener('webkitendfullscreen', function () {\n\t\t\t\t// sync audio to new video position\n\t\t\t\tplayer.driver.currentTime = video.currentTime;\n\t\t\t\t// console.assert(player.driver.currentTime === video.currentTime, 'Audio not synced');\n\t\t\t});\n\t\n\t\t\t// allow seeking\n\t\t\tvideo.addEventListener('seeking', function () {\n\t\t\t\tif (lastRequests.indexOf(video.currentTime * 100 | 0 / 100) < 0) {\n\t\t\t\t\t// console.log('User-requested seeking');\n\t\t\t\t\tplayer.driver.currentTime = video.currentTime;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\t\n\tfunction overloadAPI(video) {\n\t\tvar player = video[ಠ];\n\t\tvideo[ಠplay] = video.play;\n\t\tvideo[ಠpause] = video.pause;\n\t\tvideo.play = play;\n\t\tvideo.pause = pause;\n\t\tproxyProperty(video, 'paused', player.driver);\n\t\tproxyProperty(video, 'muted', player.driver, true);\n\t\tproxyProperty(video, 'playbackRate', player.driver, true);\n\t\tproxyProperty(video, 'ended', player.driver);\n\t\tproxyProperty(video, 'loop', player.driver, true);\n\t\tpreventEvent(video, 'seeking');\n\t\tpreventEvent(video, 'seeked');\n\t\tpreventEvent(video, 'timeupdate', ಠevent, false);\n\t\tpreventEvent(video, 'ended', ಠevent, false); // prevent occasional native ended events\n\t}\n\t\n\tfunction enableInlineVideo(video, hasAudio, onlyWhitelisted) {\n\t\tif ( hasAudio === void 0 ) hasAudio = true;\n\t\tif ( onlyWhitelisted === void 0 ) onlyWhitelisted = true;\n\t\n\t\tif ((onlyWhitelisted && !isWhitelisted) || video[ಠ]) {\n\t\t\treturn;\n\t\t}\n\t\taddPlayer(video, hasAudio);\n\t\toverloadAPI(video);\n\t\tvideo.classList.add('IIV');\n\t\tif (!hasAudio && video.autoplay) {\n\t\t\tvideo.play();\n\t\t}\n\t\tif (navigator.platform === 'MacIntel' || navigator.platform === 'Windows') {\n\t\t\tconsole.warn('iphone-inline-video is not guaranteed to work in emulated environments');\n\t\t}\n\t}\n\t\n\tenableInlineVideo.isWhitelisted = isWhitelisted;\n\t\n\tmodule.exports = enableInlineVideo;\n\n/***/ },\n\n/***/ 197:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar index = typeof Symbol === 'undefined' ? function (description) {\n\t\treturn '@' + (description || '@') + Math.random();\n\t} : Symbol;\n\t\n\tmodule.exports = index;\n\n/***/ },\n\n/***/ 198:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** bulbs-cinemagraph.js\n **/","import { registerElement } from 'bulbs-elements/register';\nimport { InViewMonitor } from 'bulbs-elements/util';\nimport * as iphoneInlineVideo from 'iphone-inline-video';\nimport './bulbs-cinemagraph.scss';\n\n// We have to do this little dance to properly subclass elements in Safari\nfunction BulbsHTMLVideoElement () {}\nBulbsHTMLVideoElement.prototype = HTMLVideoElement.prototype;\n\nclass BulbsCinemagraph extends BulbsHTMLVideoElement {\n  createdCallback () {\n    if (!this.hasAttribute('cinemagraph-duration')) {\n      console.warn('is=\"bulbs-cinemagraph\" elements should have a [cinemagraph-duration] attribute set');\n    }\n\n    // makeVideoPlayableInline is dumb and goes just a little bit too far in the\n    // video, this results in a quick flash of a black frame in the loop. If we\n    // override the duration we can get the loop to loop properly.\n    // For now, this must be determined by hand.\n    Object.defineProperty(this, 'duration', {\n      get () {\n        return parseFloat(this.getAttribute('cinemagraph-duration')) || 0;\n      },\n    });\n\n    this.setAttribute('loop', true);\n    this.setAttribute('webkit-playsinline', true);\n\n    this.addEventListener('enterviewport', () => this.play());\n    this.addEventListener('exitviewport', () => this.pause());\n  }\n\n  attachedCallback () {\n    iphoneInlineVideo.default(this, /* hasAudio */ false);\n    InViewMonitor.add(this);\n  }\n\n  detachedCallback () {\n    InViewMonitor.remove(this);\n  }\n}\n\nBulbsCinemagraph.extends = 'video';\n\nregisterElement('bulbs-cinemagraph', BulbsCinemagraph);\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-cinemagraph/bulbs-cinemagraph.js\n **/","/**\n * Copyright 2013-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/invariant/browser.js\n ** module id = 1\n ** module chunks = 0 1 5 7 11 13 16 17 18 19\n **/","import InViewMonitor from './in-view-monitor';\nimport copyAttribute from './copy-attribute';\nimport filterBadResponse from './filter-bad-response';\nimport getResponseJSON from './get-response-json';\nimport iterateObject from './iterate-object';\nimport loadOnDemand from './load-on-demand';\nimport makeRequest from './make-request';\nimport moveChildren from './move-children';\nimport supportsCalcInTransform from './supports-calc-in-transform';\n\nmodule.exports = {\n  copyAttribute,\n  filterBadResponse,\n  getResponseJSON,\n  InViewMonitor,\n  iterateObject,\n  loadOnDemand,\n  makeRequest,\n  moveChildren,\n  supportsCalcInTransform,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/bulbs-elements/util/index.js\n **/","const isElementInViewport = (el, options) => {\n  let rect = el.getBoundingClientRect();\n\n  return rect.bottom > (options.distanceFromTop || 0) &&\n    rect.right > 0 &&\n    rect.left < (window.innerWidth || document.documentElement.clientWidth) &&\n    rect.top < (window.innerHeight || document.documentElement.clientHeight) + (options.distanceFromBottom || 0)\n  ;\n};\n\nlet inViewId = 0;\nlet initialized = false;\nlet animationRequest;\nlet monitoredItems = {};\n\nfunction init () {\n  if (initialized === false) {\n    initialized = true;\n    window.addEventListener('scroll', handleDisplayMutation, true);\n    window.addEventListener('resize', handleDisplayMutation);\n  }\n}\n\nconst maybeEmitEvent = (monitoredItem) => {\n  let inView = isElementInViewport(monitoredItem.element, monitoredItem.options);\n  if (inView && monitoredItem.state === 'out') {\n    monitoredItem.state = 'in';\n    let event = new CustomEvent('enterviewport');\n    monitoredItem.element.dispatchEvent(event);\n  }\n  else if (!inView && monitoredItem.state === 'in') {\n    monitoredItem.state = 'out';\n    let event = new CustomEvent('exitviewport');\n    monitoredItem.element.dispatchEvent(event);\n  }\n};\n\nfunction handleDisplayMutation () {\n  if (!animationRequest) {\n    animationRequest = requestAnimationFrame(() => {\n      animationRequest = null;\n      Object.keys(monitoredItems).forEach((key) => {\n        maybeEmitEvent(monitoredItems[key]);\n      });\n    });\n  }\n}\n\nexport default {\n  add (element, options = {}) {\n    init();\n    if (!element._bulbsInView) {\n      element._bulbsInView = ++inViewId;\n    }\n    monitoredItems[element._bulbsInView] = {\n      element,\n      state: 'out',\n      options,\n    };\n    maybeEmitEvent(monitoredItems[element._bulbsInView]);\n  },\n\n  remove (element) {\n    delete monitoredItems[element._bulbsInView];\n  },\n\n  checkElement (element) {\n    maybeEmitEvent(monitoredItems[element._bulbsInView]);\n  },\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/bulbs-elements/util/in-view-monitor.js\n **/","export default function copyAttribute (attribute, from, to) {\n  to.setAttribute(attribute, from.getAttribute(attribute));\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/bulbs-elements/util/copy-attribute.js\n **/","import es6Promise from 'es6-promise';\nes6Promise.polyfill();\n\nexport default function filterBadResponse (response) {\n  return new Promise((resolve, reject) => {\n    response.ok ? resolve(response) : reject(response);\n  });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/bulbs-elements/util/filter-bad-response.js\n **/","export default function getResponseJSON (response) {\n  return response.json();\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/bulbs-elements/util/get-response-json.js\n **/","module.exports = function iterateObject (object = {}, fn) {\n  Object.keys(object).forEach((key) => {\n    fn(object[key], key);\n  });\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/bulbs-elements/util/iterate-object.js\n **/","/* eslint-disable no-warning-comments */\n// The load-on-demand utility attaches global event listeners for\n// * resize\n// * scroll\n//\n// These handlers add a callback to requestAnimationFrame. The callback will be\n// queued no more than once per frame.\n//\n// Wrap your component like this:\n//\n// import { loadOnDemand } from 'bulbs-elements/util'\n//\n// class ComponentToLoadOnDemand extends React.Component {\n//   render () {\n//     return <h1> Hoopla </h1>\n//   }\n// }\n//\n// export default loadOnDemand(ComponentToLoadOnDemand)\nimport React from 'react';\n\naddEventListener('resize', maybeLoadComponents);\naddEventListener('scroll', maybeLoadComponents, true);\n\nconst pendingComponents = [];\nlet animationFrameRequested = false;\n\nfunction maybeLoadComponents () {\n  if (animationFrameRequested === false) {\n    requestAnimationFrame(() => {\n      animationFrameRequested = false;\n      pendingComponents.forEach(maybeLoadComponent);\n    });\n    animationFrameRequested = true;\n  }\n}\n\nfunction maybeLoadComponent (component) {\n  if (shouldComponentLoad(component)) {\n    loadComponent(component);\n    dequeue(component);\n  }\n}\n\nfunction shouldComponentLoad (component) {\n  let distanceFromTop = 200;\n  let distanceFromBottom = 200;\n  // TODO: Make the distance from the bottom and top of the viewport configurable.\n  //       Maybe something like this:\n  //\n  // let {\n  //   distanceFromTop,\n  //   distanceFromBottom,\n  // } = component.props.config;\n  //\n  // if (typoof distanceFromTop === 'undefined') {\n  //   distanceFromTop = 200;\n  // }\n  //\n  // if (typoof distanceFromBottom === 'undefined') {\n  //   distanceFromBottom = 200;\n  // }\n  //\n  // This would require altering the function exported at the bottom this file\n  // to take a second argument:\n  //\n  // function (component, config = {}) {}\n  //\n  // And updating it's render function to pass config into the wrapped component.\n  //\n  // Something like this:\n  //\n  // return (\n  //   <WrappedComponent\n  //     config={config}\n  //     component={component}\n  //     componentProps={props}\n  //   />;\n  // );\n\n  let rect = component.refs.sentinel.getBoundingClientRect();\n  return rect.bottom > -distanceFromTop && rect.top < window.innerHeight + distanceFromBottom;\n}\n\nfunction loadComponent (component) {\n  component.setState({ load: true });\n}\n\nfunction enqueue (component) {\n  pendingComponents.push(component);\n}\n\nfunction dequeue (component) {\n  let index = pendingComponents.indexOf(component);\n  if (index > -1) {\n    pendingComponents.splice(index, 1);\n  }\n}\n\nexport class LoadOnDemand extends React.Component {\n  constructor (props) {\n    super(props);\n    this.state = { load: false };\n  }\n\n  componentDidMount () {\n    enqueue(this);\n    maybeLoadComponent(this);\n  }\n\n  componentWillUnmount () {\n    dequeue(this);\n  }\n\n  render () {\n    let WrappedComponent = this.props.component; // eslint-disable-line react/prop-types\n    if (this.state.load) {\n      return <WrappedComponent {...this.props.componentProps}/>; // eslint-disable-line react/prop-types\n    }\n\n    return <div ref=\"sentinel\"/>;\n  }\n}\n\nexport default function loadOnDemand (component) {\n  const wrapped = (props) => { // eslint-disable-line react/no-multi-comp\n    return (\n      <LoadOnDemand\n        component={component}\n        componentProps={props}\n      />\n    );\n  };\n\n  wrapped.displayName = `LoadOnDemand(${component.displayName})`;\n  return wrapped;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/bulbs-elements/util/load-on-demand.js\n **/","import cloneObject from 'clone';\nimport invariant from 'invariant';\n\nexport default function makeRequest (url, options = {}) {\n  invariant(options.success, 'makeRequest MUST have a success callback');\n  invariant(options.failure, 'makeRequest MUST have a failure callback');\n  invariant(options.error, 'makeRequest MUST have an error callback');\n\n  let { success, failure, error } = options;\n  let callbacks = { success, failure, error };\n  let requestOptions = cloneObject(options);\n\n  // defensively deleting these options\n  // so we don't pass them through to fetch\n  delete requestOptions.success;\n  delete requestOptions.failure;\n  delete requestOptions.error;\n\n  if (!options.redirect) {\n    requestOptions.redirect = 'follow';\n  }\n\n  return fetch(url, requestOptions)\n    .then((response) => {\n      let promise;\n      if (response.status < 300) {\n        promise = response.json().then(callbacks.success);\n      }\n      else if (response.status >= 400) {\n        promise = response.json().then(callbacks.failure);\n      }\n      return promise;\n    })\n    .catch(callbacks.error);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/bulbs-elements/util/make-request.js\n **/","var clone = (function() {\n'use strict';\n\n/**\n * Clones (copies) an Object using deep copying.\n *\n * This function supports circular references by default, but if you are certain\n * there are no circular references in your object, you can save some CPU time\n * by calling clone(obj, false).\n *\n * Caution: if `circular` is false and `parent` contains circular references,\n * your program may enter an infinite loop and crash.\n *\n * @param `parent` - the object to be cloned\n * @param `circular` - set to true if the object to be cloned may contain\n *    circular references. (optional - true by default)\n * @param `depth` - set to a number if the object is only to be cloned to\n *    a particular depth. (optional - defaults to Infinity)\n * @param `prototype` - sets the prototype to be used when cloning an object.\n *    (optional - defaults to parent prototype).\n*/\nfunction clone(parent, circular, depth, prototype) {\n  var filter;\n  if (typeof circular === 'object') {\n    depth = circular.depth;\n    prototype = circular.prototype;\n    filter = circular.filter;\n    circular = circular.circular\n  }\n  // maintain two arrays for circular references, where corresponding parents\n  // and children have the same index\n  var allParents = [];\n  var allChildren = [];\n\n  var useBuffer = typeof Buffer != 'undefined';\n\n  if (typeof circular == 'undefined')\n    circular = true;\n\n  if (typeof depth == 'undefined')\n    depth = Infinity;\n\n  // recurse this function so we don't reset allParents and allChildren\n  function _clone(parent, depth) {\n    // cloning null always returns null\n    if (parent === null)\n      return null;\n\n    if (depth == 0)\n      return parent;\n\n    var child;\n    var proto;\n    if (typeof parent != 'object') {\n      return parent;\n    }\n\n    if (clone.__isArray(parent)) {\n      child = [];\n    } else if (clone.__isRegExp(parent)) {\n      child = new RegExp(parent.source, __getRegExpFlags(parent));\n      if (parent.lastIndex) child.lastIndex = parent.lastIndex;\n    } else if (clone.__isDate(parent)) {\n      child = new Date(parent.getTime());\n    } else if (useBuffer && Buffer.isBuffer(parent)) {\n      child = new Buffer(parent.length);\n      parent.copy(child);\n      return child;\n    } else {\n      if (typeof prototype == 'undefined') {\n        proto = Object.getPrototypeOf(parent);\n        child = Object.create(proto);\n      }\n      else {\n        child = Object.create(prototype);\n        proto = prototype;\n      }\n    }\n\n    if (circular) {\n      var index = allParents.indexOf(parent);\n\n      if (index != -1) {\n        return allChildren[index];\n      }\n      allParents.push(parent);\n      allChildren.push(child);\n    }\n\n    for (var i in parent) {\n      var attrs;\n      if (proto) {\n        attrs = Object.getOwnPropertyDescriptor(proto, i);\n      }\n\n      if (attrs && attrs.set == null) {\n        continue;\n      }\n      child[i] = _clone(parent[i], depth - 1);\n    }\n\n    return child;\n  }\n\n  return _clone(parent, depth);\n}\n\n/**\n * Simple flat clone using prototype, accepts only objects, usefull for property\n * override on FLAT configuration object (no nested props).\n *\n * USE WITH CAUTION! This may not behave as you wish if you do not know how this\n * works.\n */\nclone.clonePrototype = function clonePrototype(parent) {\n  if (parent === null)\n    return null;\n\n  var c = function () {};\n  c.prototype = parent;\n  return new c();\n};\n\n// private utility functions\n\nfunction __objToStr(o) {\n  return Object.prototype.toString.call(o);\n};\nclone.__objToStr = __objToStr;\n\nfunction __isDate(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Date]';\n};\nclone.__isDate = __isDate;\n\nfunction __isArray(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Array]';\n};\nclone.__isArray = __isArray;\n\nfunction __isRegExp(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object RegExp]';\n};\nclone.__isRegExp = __isRegExp;\n\nfunction __getRegExpFlags(re) {\n  var flags = '';\n  if (re.global) flags += 'g';\n  if (re.ignoreCase) flags += 'i';\n  if (re.multiline) flags += 'm';\n  return flags;\n};\nclone.__getRegExpFlags = __getRegExpFlags;\n\nreturn clone;\n})();\n\nif (typeof module === 'object' && module.exports) {\n  module.exports = clone;\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/clone/clone.js\n ** module id = 186\n ** module chunks = 0 1 5 13 14 16 17 18 19\n **/","export default function moveChildren (from, to) {\n  Array.prototype.forEach.call(\n    Array.prototype.slice.call(from.childNodes),\n    child => to.appendChild(child)\n  );\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/bulbs-elements/util/move-children.js\n **/","// Older versions of IE do not support css calc in transforms.\n// We can detect this feature by setting the transform style of\n// an element to a calc string. In non-supporting browsers, further\n// reads of this property will return an empty string.\nlet { style } = document.createElement('div');\nstyle.transform = 'translateX(calc(100% - 10px))';\n\n// This CANNOT be checked in the assignment expression.\n// non-supporting browsers will return the string with calc\n// from the assignment, and then the empty string on access.\nexport default style.transform !== '';\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/bulbs-elements/util/supports-calc-in-transform.js\n **/","/*! npm.im/iphone-inline-video */\n'use strict';\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar Symbol = _interopDefault(require('poor-mans-symbol'));\n\nfunction Intervalometer(cb) {\n\tvar rafId;\n\tvar previousLoopTime;\n\tfunction loop(now) {\n\t\t// must be requested before cb() because that might call .stop()\n\t\trafId = requestAnimationFrame(loop);\n\t\tcb(now - (previousLoopTime || now)); // ms since last call. 0 on start()\n\t\tpreviousLoopTime = now;\n\t}\n\tthis.start = function () {\n\t\tif (!rafId) { // prevent double starts\n\t\t\tloop(0);\n\t\t}\n\t};\n\tthis.stop = function () {\n\t\tcancelAnimationFrame(rafId);\n\t\trafId = null;\n\t\tpreviousLoopTime = 0;\n\t};\n}\n\nfunction preventEvent(element, eventName, toggleProperty, preventWithProperty) {\n\tfunction handler(e) {\n\t\tif (Boolean(element[toggleProperty]) === Boolean(preventWithProperty)) {\n\t\t\te.stopImmediatePropagation();\n\t\t\t// console.log(eventName, 'prevented on', element);\n\t\t}\n\t\tdelete element[toggleProperty];\n\t}\n\telement.addEventListener(eventName, handler, false);\n\n\t// Return handler to allow to disable the prevention. Usage:\n\t// const preventionHandler = preventEvent(el, 'click');\n\t// el.removeEventHandler('click', preventionHandler);\n\treturn handler;\n}\n\nfunction proxyProperty(object, propertyName, sourceObject, copyFirst) {\n\tfunction get() {\n\t\treturn sourceObject[propertyName];\n\t}\n\tfunction set(value) {\n\t\tsourceObject[propertyName] = value;\n\t}\n\n\tif (copyFirst) {\n\t\tset(object[propertyName]);\n\t}\n\n\tObject.defineProperty(object, propertyName, {get: get, set: set});\n}\n\nfunction proxyEvent(object, eventName, sourceObject) {\n\tsourceObject.addEventListener(eventName, function () { return object.dispatchEvent(new Event(eventName)); });\n}\n\nfunction dispatchEventAsync(element, type) {\n\tPromise.resolve().then(function () {\n\t\telement.dispatchEvent(new Event(type));\n\t});\n}\n\n// iOS 10 adds support for native inline playback + silent autoplay\n// Also adds unprefixed css-grid. This check essentially excludes\nvar isWhitelisted = /iPhone|iPod/i.test(navigator.userAgent) && document.head.style.grid === undefined;\n\nvar ಠ = Symbol();\nvar ಠevent = Symbol();\nvar ಠplay = Symbol('nativeplay');\nvar ಠpause = Symbol('nativepause');\n\n/**\n * UTILS\n */\n\nfunction getAudioFromVideo(video) {\n\tvar audio = new Audio();\n\tproxyEvent(video, 'play', audio);\n\tproxyEvent(video, 'playing', audio);\n\tproxyEvent(video, 'pause', audio);\n\taudio.crossOrigin = video.crossOrigin;\n\n\t// 'data:' causes audio.networkState > 0\n\t// which then allows to keep <audio> in a resumable playing state\n\t// i.e. once you set a real src it will keep playing if it was if .play() was called\n\taudio.src = video.src || video.currentSrc || 'data:';\n\n\t// if (audio.src === 'data:') {\n\t//   TODO: wait for video to be selected\n\t// }\n\treturn audio;\n}\n\nvar lastRequests = [];\nvar requestIndex = 0;\nvar lastTimeupdateEvent;\n\nfunction setTime(video, time, rememberOnly) {\n\t// allow one timeupdate event every 200+ ms\n\tif ((lastTimeupdateEvent || 0) + 200 < Date.now()) {\n\t\tvideo[ಠevent] = true;\n\t\tlastTimeupdateEvent = Date.now();\n\t}\n\tif (!rememberOnly) {\n\t\tvideo.currentTime = time;\n\t}\n\tlastRequests[++requestIndex % 3] = time * 100 | 0 / 100;\n}\n\nfunction isPlayerEnded(player) {\n\treturn player.driver.currentTime >= player.video.duration;\n}\n\nfunction update(timeDiff) {\n\tvar player = this;\n\t// console.log('update', player.video.readyState, player.video.networkState, player.driver.readyState, player.driver.networkState, player.driver.paused);\n\tif (player.video.readyState >= player.video.HAVE_FUTURE_DATA) {\n\t\tif (!player.hasAudio) {\n\t\t\tplayer.driver.currentTime = player.video.currentTime + (timeDiff * player.video.playbackRate) / 1000;\n\t\t\tif (player.video.loop && isPlayerEnded(player)) {\n\t\t\t\tplayer.driver.currentTime = 0;\n\t\t\t}\n\t\t}\n\t\tsetTime(player.video, player.driver.currentTime);\n\t} else if (player.video.networkState === player.video.NETWORK_IDLE && !player.video.buffered.length) {\n\t\t// this should happen when the source is available but:\n\t\t// - it's potentially playing (.paused === false)\n\t\t// - it's not ready to play\n\t\t// - it's not loading\n\t\t// If it hasAudio, that will be loaded in the 'emptied' handler below\n\t\tplayer.video.load();\n\t\t// console.log('Will load');\n\t}\n\n\t// console.assert(player.video.currentTime === player.driver.currentTime, 'Video not updating!');\n\n\tif (player.video.ended) {\n\t\tdelete player.video[ಠevent]; // allow timeupdate event\n\t\tplayer.video.pause(true);\n\t}\n}\n\n/**\n * METHODS\n */\n\nfunction play() {\n\t// console.log('play');\n\tvar video = this;\n\tvar player = video[ಠ];\n\n\t// if it's fullscreen, use the native player\n\tif (video.webkitDisplayingFullscreen) {\n\t\tvideo[ಠplay]();\n\t\treturn;\n\t}\n\n\tif (player.driver.src !== 'data:' && player.driver.src !== video.src) {\n\t\t// console.log('src changed on play', video.src);\n\t\tsetTime(video, 0, true);\n\t\tplayer.driver.src = video.src;\n\t}\n\n\tif (!video.paused) {\n\t\treturn;\n\t}\n\tplayer.paused = false;\n\n\tif (!video.buffered.length) {\n\t\t// .load() causes the emptied event\n\t\t// the alternative is .play()+.pause() but that triggers play/pause events, even worse\n\t\t// possibly the alternative is preventing this event only once\n\t\tvideo.load();\n\t}\n\n\tplayer.driver.play();\n\tplayer.updater.start();\n\n\tif (!player.hasAudio) {\n\t\tdispatchEventAsync(video, 'play');\n\t\tif (player.video.readyState >= player.video.HAVE_ENOUGH_DATA) {\n\t\t\t// console.log('onplay');\n\t\t\tdispatchEventAsync(video, 'playing');\n\t\t}\n\t}\n}\nfunction pause(forceEvents) {\n\t// console.log('pause');\n\tvar video = this;\n\tvar player = video[ಠ];\n\n\tplayer.driver.pause();\n\tplayer.updater.stop();\n\n\t// if it's fullscreen, the developer the native player.pause()\n\t// This is at the end of pause() because it also\n\t// needs to make sure that the simulation is paused\n\tif (video.webkitDisplayingFullscreen) {\n\t\tvideo[ಠpause]();\n\t}\n\n\tif (player.paused && !forceEvents) {\n\t\treturn;\n\t}\n\n\tplayer.paused = true;\n\tif (!player.hasAudio) {\n\t\tdispatchEventAsync(video, 'pause');\n\t}\n\tif (video.ended) {\n\t\tvideo[ಠevent] = true;\n\t\tdispatchEventAsync(video, 'ended');\n\t}\n}\n\n/**\n * SETUP\n */\n\nfunction addPlayer(video, hasAudio) {\n\tvar player = video[ಠ] = {};\n\tplayer.paused = true; // track whether 'pause' events have been fired\n\tplayer.hasAudio = hasAudio;\n\tplayer.video = video;\n\tplayer.updater = new Intervalometer(update.bind(player));\n\n\tif (hasAudio) {\n\t\tplayer.driver = getAudioFromVideo(video);\n\t} else {\n\t\tvideo.addEventListener('canplay', function () {\n\t\t\tif (!video.paused) {\n\t\t\t\t// console.log('oncanplay');\n\t\t\t\tdispatchEventAsync(video, 'playing');\n\t\t\t}\n\t\t});\n\t\tplayer.driver = {\n\t\t\tsrc: video.src || video.currentSrc || 'data:',\n\t\t\tmuted: true,\n\t\t\tpaused: true,\n\t\t\tpause: function () {\n\t\t\t\tplayer.driver.paused = true;\n\t\t\t},\n\t\t\tplay: function () {\n\t\t\t\tplayer.driver.paused = false;\n\t\t\t\t// media automatically goes to 0 if .play() is called when it's done\n\t\t\t\tif (isPlayerEnded(player)) {\n\t\t\t\t\tsetTime(video, 0);\n\t\t\t\t}\n\t\t\t},\n\t\t\tget ended() {\n\t\t\t\treturn isPlayerEnded(player);\n\t\t\t}\n\t\t};\n\t}\n\n\t// .load() causes the emptied event\n\tvideo.addEventListener('emptied', function () {\n\t\t// console.log('driver src is', player.driver.src);\n\t\tvar wasEmpty = !player.driver.src || player.driver.src === 'data:';\n\t\tif (player.driver.src && player.driver.src !== video.src) {\n\t\t\t// console.log('src changed to', video.src);\n\t\t\tsetTime(video, 0, true);\n\t\t\tplayer.driver.src = video.src;\n\t\t\t// playing videos will only keep playing if no src was present when .play()’ed\n\t\t\tif (wasEmpty) {\n\t\t\t\tplayer.driver.play();\n\t\t\t} else {\n\t\t\t\tplayer.updater.stop();\n\t\t\t}\n\t\t}\n\t}, false);\n\n\t// stop programmatic player when OS takes over\n\tvideo.addEventListener('webkitbeginfullscreen', function () {\n\t\tif (!video.paused) {\n\t\t\t// make sure that the <audio> and the syncer/updater are stopped\n\t\t\tvideo.pause();\n\n\t\t\t// play video natively\n\t\t\tvideo[ಠplay]();\n\t\t} else if (hasAudio && !player.driver.buffered.length) {\n\t\t\t// if the first play is native,\n\t\t\t// the <audio> needs to be buffered manually\n\t\t\t// so when the fullscreen ends, it can be set to the same current time\n\t\t\tplayer.driver.load();\n\t\t}\n\t});\n\tif (hasAudio) {\n\t\tvideo.addEventListener('webkitendfullscreen', function () {\n\t\t\t// sync audio to new video position\n\t\t\tplayer.driver.currentTime = video.currentTime;\n\t\t\t// console.assert(player.driver.currentTime === video.currentTime, 'Audio not synced');\n\t\t});\n\n\t\t// allow seeking\n\t\tvideo.addEventListener('seeking', function () {\n\t\t\tif (lastRequests.indexOf(video.currentTime * 100 | 0 / 100) < 0) {\n\t\t\t\t// console.log('User-requested seeking');\n\t\t\t\tplayer.driver.currentTime = video.currentTime;\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction overloadAPI(video) {\n\tvar player = video[ಠ];\n\tvideo[ಠplay] = video.play;\n\tvideo[ಠpause] = video.pause;\n\tvideo.play = play;\n\tvideo.pause = pause;\n\tproxyProperty(video, 'paused', player.driver);\n\tproxyProperty(video, 'muted', player.driver, true);\n\tproxyProperty(video, 'playbackRate', player.driver, true);\n\tproxyProperty(video, 'ended', player.driver);\n\tproxyProperty(video, 'loop', player.driver, true);\n\tpreventEvent(video, 'seeking');\n\tpreventEvent(video, 'seeked');\n\tpreventEvent(video, 'timeupdate', ಠevent, false);\n\tpreventEvent(video, 'ended', ಠevent, false); // prevent occasional native ended events\n}\n\nfunction enableInlineVideo(video, hasAudio, onlyWhitelisted) {\n\tif ( hasAudio === void 0 ) hasAudio = true;\n\tif ( onlyWhitelisted === void 0 ) onlyWhitelisted = true;\n\n\tif ((onlyWhitelisted && !isWhitelisted) || video[ಠ]) {\n\t\treturn;\n\t}\n\taddPlayer(video, hasAudio);\n\toverloadAPI(video);\n\tvideo.classList.add('IIV');\n\tif (!hasAudio && video.autoplay) {\n\t\tvideo.play();\n\t}\n\tif (navigator.platform === 'MacIntel' || navigator.platform === 'Windows') {\n\t\tconsole.warn('iphone-inline-video is not guaranteed to work in emulated environments');\n\t}\n}\n\nenableInlineVideo.isWhitelisted = isWhitelisted;\n\nmodule.exports = enableInlineVideo;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/iphone-inline-video/dist/iphone-inline-video.common-js.js\n ** module id = 196\n ** module chunks = 1\n **/","'use strict';\n\nvar index = typeof Symbol === 'undefined' ? function (description) {\n\treturn '@' + (description || '@') + Math.random();\n} : Symbol;\n\nmodule.exports = index;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/poor-mans-symbol/dist/poor-mans-symbol.common-js.js\n ** module id = 197\n ** module chunks = 1\n **/"],"sourceRoot":""}