webpackJsonp([14],{0:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(t,"__esModule",{value:!0}),t.displayPropType=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n(171),l=r(c),p=n(1),f=r(p),d=n(200),m=r(d),y=n(2);n(280);var h=n(282),b=r(h),g=n(283),w=r(g),v=n(284),O=r(v),_=function(e){function t(n){return i(this,t),(0,f["default"])(!!n.placement,"campaign-display component requires a placement"),a(this,e.call(this,n))}return s(t,e),t.prototype.initialDispatch=function(){this.props.src&&this.store.actions.fetchCampaign(this.props.src)},t.prototype.componentDidUpdate=function(e){this.props.src!==e.src&&(this.store.actions.handleFetchComplete(null),this.initialDispatch())},t.prototype.render=function(){if(this.state.campaignRequest.networkError)return l["default"].createElement("span",null);var e=u({},this.state,this.props,{nameOnly:"string"==typeof this.props.nameOnly,logoOnly:"string"==typeof this.props.logoOnly,noLink:"string"==typeof this.props.noLink});return l["default"].createElement(O["default"],e)},t}(m["default"]);u(_,{displayName:"CampaignDisplay",schema:{campaign:b["default"],campaignRequest:w["default"]},propTypes:{logoOnly:c.PropTypes.string,nameOnly:c.PropTypes.string,noLink:c.PropTypes.string,placement:c.PropTypes.string.isRequired,preambleText:c.PropTypes.string.isRequired,src:c.PropTypes.string.isRequired}}),(0,y.registerReactElement)("campaign-display",_),t["default"]=_;t.displayPropType=_.propTypes.display},1:function(e,t,n){"use strict";var r=function(e,t,n,r,o,i,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,s],l=0;u=new Error(t.replace(/%s/g,function(){return c[l++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};e.exports=r},177:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(178),i=r(o),a=n(179),s=r(a),u=n(180),c=r(u),l=n(181),p=r(l),f=n(182),d=r(f),m=n(184),y=r(m),h=n(185),b=r(h),g=n(186);e.exports={clearRequestInterval:g.clearRequestInterval,copyAttribute:i["default"],filterBadResponse:s["default"],getResponseJSON:c["default"],iterateObject:p["default"],makeRequest:d["default"],moveChildren:y["default"],requestAnimFrame:g.requestAnimFrame,requestInterval:g.requestInterval,supportsCalcInTransform:b["default"]}},178:function(e,t){"use strict";function n(e,t,n){n.setAttribute(e,t.getAttribute(e))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},179:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return new Promise(function(t,n){e.ok?t(e):n(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var i=n(8),a=r(i);a["default"].polyfill()},180:function(e,t){"use strict";function n(e){return e.json()}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},181:function(e,t){"use strict";e.exports=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];Object.keys(e).forEach(function(n){t(e[n],n)})}},182:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];(0,u["default"])(t.success,"makeRequest MUST have a success callback"),(0,u["default"])(t.failure,"makeRequest MUST have a failure callback"),(0,u["default"])(t.error,"makeRequest MUST have an error callback");var n=t.success,r=t.failure,o=t.error,i={success:n,failure:r,error:o},s=(0,a["default"])(t);return delete s.success,delete s.failure,delete s.error,t.redirect||(s.redirect="follow"),fetch(e,s).then(function(e){var t=void 0;return e.status<300?t=e.json().then(i.success):e.status>=400&&(t=e.json().then(i.failure)),t})["catch"](i.error)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var i=n(183),a=r(i),s=n(1),u=r(s)},183:function(e,t){var n=function(){"use strict";function e(t,n,r,o){function a(t,r){if(null===t)return null;if(0==r)return t;var s,p;if("object"!=typeof t)return t;if(e.__isArray(t))s=[];else if(e.__isRegExp(t))s=new RegExp(t.source,i(t)),t.lastIndex&&(s.lastIndex=t.lastIndex);else if(e.__isDate(t))s=new Date(t.getTime());else{if(l&&Buffer.isBuffer(t))return s=new Buffer(t.length),t.copy(s),s;"undefined"==typeof o?(p=Object.getPrototypeOf(t),s=Object.create(p)):(s=Object.create(o),p=o)}if(n){var f=u.indexOf(t);if(f!=-1)return c[f];u.push(t),c.push(s)}for(var d in t){var m;p&&(m=Object.getOwnPropertyDescriptor(p,d)),m&&null==m.set||(s[d]=a(t[d],r-1))}return s}var s;"object"==typeof n&&(r=n.depth,o=n.prototype,s=n.filter,n=n.circular);var u=[],c=[],l="undefined"!=typeof Buffer;return"undefined"==typeof n&&(n=!0),"undefined"==typeof r&&(r=1/0),a(t,r)}function t(e){return Object.prototype.toString.call(e)}function n(e){return"object"==typeof e&&"[object Date]"===t(e)}function r(e){return"object"==typeof e&&"[object Array]"===t(e)}function o(e){return"object"==typeof e&&"[object RegExp]"===t(e)}function i(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return e.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},e.__objToStr=t,e.__isDate=n,e.__isArray=r,e.__isRegExp=o,e.__getRegExpFlags=i,e}();"object"==typeof e&&e.exports&&(e.exports=n)},184:function(e,t){"use strict";function n(e,t){Array.prototype.forEach.call(Array.prototype.slice.call(e.childNodes),function(e){return t.appendChild(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},185:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=document.createElement("div"),r=n.style;r.transform="translateX(calc(100% - 10px))",t["default"]=""!==r.transform},186:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),r=function(e,t){function r(){var a=(new Date).getTime(),s=a-o;s>=t&&(e.call(),o=(new Date).getTime()),i.value=n(r)}if(!(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame&&window.mozCancelRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame))return window.setInterval(e,t);var o=(new Date).getTime(),i={};return i.value=n(r),i},o=function(e){window.cancelAnimationFrame?window.cancelAnimationFrame(e.value):window.webkitCancelAnimationFrame?window.webkitCancelAnimationFrame(e.value):window.webkitCancelRequestAnimationFrame?window.webkitCancelRequestAnimationFrame(e.value):window.mozCancelRequestAnimationFrame?window.mozCancelRequestAnimationFrame(e.value):window.oCancelRequestAnimationFrame?window.oCancelRequestAnimationFrame(e.value):window.msCancelRequestAnimationFrame?window.msCancelRequestAnimationFrame(e.value):clearInterval(e)};t["default"]={requestAnimFrame:n,requestInterval:r,clearRequestInterval:o}},200:function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var u=n(171),c=r(u),l=n(201),p=r(l),f=function(t){function n(r){i(this,n);var o=a(this,t.call(this,r));return o.store=o.createStore(),o.store&&(o.store.subscribeComponent(o),e(o.initialDispatch.bind(o))),o}return s(n,t),n.prototype.createStore=function(){var e=void 0;return this.constructor.schema&&(e=new p["default"]({schema:this.constructor.schema})),e},n.prototype.initialDispatch=function(){},n}(c["default"].Component);t["default"]=f}).call(t,n(3).setImmediate)},201:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(202),i=r(o);t["default"]=i["default"]},202:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){var t={};return(0,m["default"])(e,function(e,n){t[n]=(0,f["default"])(e.initialState)}),t}function a(e){var t={};return(0,m["default"])(e,function(e,n){(0,m["default"])(e.actions,function(e,r){e.fieldName=n,e.type=r,t[r]=e})}),t}function s(e,t){var n=a(e),r={};return(0,m["default"])(n,function(e,n){r[n]=c.bind(null,t,e)}),r}function u(e){e.components.forEach(function(t){t.setState(e.state)})}function c(e,t,n){y&&console.time("dispatch "+t.type);var r=e.state,o=l({},r),i=r[t.fieldName],a=(0,f["default"])(i);o[t.fieldName]=t(a,n,e),"undefined"!=typeof o[t.fieldName]&&(e.state=o),u(e),y&&(console.groupCollapsed("DISPATCH %c"+t.type+" %c=> %c"+t.fieldName,"color:green","color:auto","color:blue"),console.timeEnd("dispatch "+t.type),console.log("PAYLOAD: ",n),console.log("PREV VALUE: ",i),console.log("NEXT VALUE: ",a),console.log("PREV STORE: ",r),console.log("NEXT STORE: ",o),console.groupEnd())}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=n(183),f=r(p),d=n(181),m=r(d),y=!1,h=function(){function e(t){o(this,e),this.actions=s(t.schema,this),this.state=i(t.schema),this.components=[],y&&console.log("%cCREATED STORE","color:green")}return e.prototype.subscribeComponent=function(e){this.components.push(e),e.state=this.state},e.prototype.unsubscribeComponent=function(e){var t=this.components.indexOf(e);t>-1&&this.components.splice(t,1)},e}();t["default"]=h},280:function(e,t){},282:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={actions:{handleFetchComplete:function(e,t){return t}}};t["default"]=n},283:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(177),o={initialState:{requestInFlight:!1},actions:{fetchCampaign:function(e,t,n){return e.requestInFlight=!0,(0,r.makeRequest)(t,{credentials:"include",success:function(e){n.actions.fetchCampaignSuccess(e),n.actions.handleFetchComplete(e)},failure:n.actions.fetchCampaignFailure,error:n.actions.fetchCampaignError}),e},fetchCampaignSuccess:function(e){e.requestInFlight=!1},fetchCampaignFailure:function(e,t){return e.requestInFlight=!1,e.requestFailure=t,e},fetchCampaignError:function(e,t){return e.requestInFlight=!1,e.networkError=t,e}}};t["default"]=o},284:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var u=n(171),c=r(u),l=n(285),p=r(l),f=n(287),d=r(f),m=n(288),y=r(m),h=n(289),b=r(h),g=n(290),w=r(g),v=function(e){function t(n){return i(this,t),a(this,e.call(this,n))}return s(t,e),t.prototype.hasImageUrl=function(){return!!this.props.campaign.image_url},t.prototype.hasValidCampaign=function(){return!!this.props.campaign},t.prototype.pixelComponent=function(){return c["default"].createElement(w["default"],{campaignId:this.props.campaign.id,placement:this.props.placement})},t.prototype.logoComponent=function(){return this.props.logoOnly&&!this.hasImageUrl()?this.sponsorNameComponent():c["default"].createElement(d["default"],this.props.campaign)},t.prototype.sponsorNameComponent=function(){return c["default"].createElement(b["default"],this.props.campaign)},t.prototype.preambleTextComponent=function(){return c["default"].createElement(y["default"],{text:this.props.preambleText})},t.prototype.defaultComponents=function(){return(0,p["default"])({dfpPixel:this.pixelComponent(),logo:this.logoComponent(),preamble:this.preambleTextComponent(),sponsorName:this.sponsorNameComponent()})},t.prototype.logoOnlyComponents=function(){return(0,p["default"])({dfpPixel:this.pixelComponent(),preamble:this.preambleTextComponent(),logo:this.logoComponent()})},t.prototype.nameOnlyComponents=function(){return(0,p["default"])({dfpPixel:this.pixelComponent(),preamble:this.preambleTextComponent(),sponsorName:this.sponsorNameComponent()})},t.prototype.childComponents=function(){var e=void 0;return e=this.props.logoOnly?this.logoOnlyComponents():this.props.nameOnly?this.nameOnlyComponents():this.defaultComponents(),this.props.noLink?e:c["default"].createElement("a",{href:this.props.campaign.clickthrough_url},e)},t.prototype.render=function(){return this.hasValidCampaign()?c["default"].createElement("div",{className:"campaign-display","data-track-label":this.props.campaign.clickthrough_url},c["default"].createElement("div",{className:"inner"},this.childComponents())):c["default"].createElement("div",{className:"inactive-campaign"})},t}(u.Component);v.defaultProps={logoOnly:!1,nameOnly:!1,noLink:!1},v.propTypes={campaign:u.PropTypes.shape({active:u.PropTypes.bool.isRequired,clickthrough_url:u.PropTypes.string.isRequired,id:u.PropTypes.number.isRequired,image_url:u.PropTypes.string,name:u.PropTypes.string.isRequired}).isRequired,logoOnly:u.PropTypes.bool,nameOnly:u.PropTypes.bool,noLink:u.PropTypes.bool,placement:u.PropTypes.string.isRequired,preambleText:u.PropTypes.string.isRequired},t["default"]=v},285:function(e,t,n){e.exports=n(286).create},286:function(e,t,n){"use strict";var r=n(19),o=n(107),i=n(100),a=n(33),s=(n(21),n(32),{create:function(e){if("object"!=typeof e||!e||Array.isArray(e))return e;if(i.isValidElement(e))return e;1===e.nodeType?r("0"):void 0;var t=[];for(var n in e)o.mapIntoWithKeyPrefixInternal(e[n],t,n,a.thatReturnsArgument);return t}});e.exports=s},287:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var u=n(171),c=r(u),l=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.prototype.render=function(){return c["default"].createElement("div",{className:"campaign-display-logo"},c["default"].createElement("img",{src:this.props.image_url}))},t}(u.Component);t["default"]=l,l.propTypes={image_url:u.PropTypes.string.isRequired,noLink:u.PropTypes.bool}},288:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return a["default"].createElement("span",{className:"campaign-display-preamble"},e.text)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var i=n(171),a=r(i);o.propTypes={text:i.PropTypes.string.isRequired}},289:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var u=n(171),c=r(u),l=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.prototype.render=function(){return c["default"].createElement("span",{className:"campaign-display-sponsor-name"},this.props.name)},t}(u.Component);t["default"]=l,l.propTypes={name:u.PropTypes.string.isRequired,noLink:u.PropTypes.bool}},290:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var u=n(171),c=r(u),l=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return s(t,e),t.prototype.componentDidMount=function(){var e=window.BULBS_ELEMENTS_ADS_MANAGER;"undefined"!=typeof e&&"function"==typeof e.loadAds?e.loadAds(this.refs.container):console.warn("<campaign-display> pixel will not trigger since `window.BULBS_ELEMENTS_ADS_MANAGER` is not configured to an AdsManager instance.")},t.prototype.render=function(){var e={dfp_placement:this.props.placement,dfp_campaign_id:this.props.campaignId};return c["default"].createElement("div",{ref:"container",className:"dfp","data-ad-unit":"campaign-pixel","data-targeting":JSON.stringify(e)})},t}(u.Component);t["default"]=l,l.displayName="DfpPixel",l.propTypes={campaignId:u.PropTypes.number.isRequired,placement:u.PropTypes.string.isRequired}}});
//# sourceMappingURL=campaign-display.js.map