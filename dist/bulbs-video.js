webpackJsonp([2],{0:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var s=n[r],i=Object.getOwnPropertyDescriptor(t,s);i&&i.configurable&&void 0===e[s]&&Object.defineProperty(e,s,i)}return e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):s(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n(1),l=r(c),f=n(34),p=n(177),d=r(p),_=n(214),g=r(_),y=n(215),h=r(y),v=n(216),m=r(v),b=n(217),E=r(b);n(224),n(226),n(228),n(230),n(232),n(235);var P=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.initialDispatch=function(){this.store.actions.fetchVideo(this.props.src),"string"==typeof this.props.autoplay&&this.store.actions.revealPlayer()},t.prototype.componentDidUpdate=function(e){this.props.src!==e.src&&(this.store.actions.resetController(),this.initialDispatch())},t.prototype.render=function(){return l["default"].createElement(E["default"],u({},this.state,{twitterHandle:this.props.twitterHandle,autoplayNext:"string"==typeof this.props.twitterHandle,noEndcard:"string"==typeof this.props.noEndcard,actions:this.store.actions}))},t}(d["default"]);t["default"]=P,u(P,{displayName:"BulbsVideo",schema:{video:g["default"],videoRequest:h["default"],controller:m["default"]},propTypes:{autoplay:c.PropTypes.string,autoplayNext:c.PropTypes.string,noEndcard:c.PropTypes.string,src:c.PropTypes.string.isRequired,twitterHandle:c.PropTypes.isRequired}}),(0,f.registerReactElement)("bulbs-video",P)},177:function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var s=n[r],i=Object.getOwnPropertyDescriptor(t,s);i&&i.configurable&&void 0===e[s]&&Object.defineProperty(e,s,i)}return e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):s(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),c=r(u),l=n(178),f=r(l),p=function(t){function n(r){i(this,n);var s=o(this,t.call(this,r));return s.store=s.createStore(),s.store&&(s.store.subscribeComponent(s),e(s.initialDispatch.bind(s))),s}return a(n,t),n.prototype.createStore=function(){var e=void 0;return this.constructor.schema&&(e=new f["default"]({schema:this.constructor.schema})),e},n.prototype.initialDispatch=function(){},n}(c["default"].Component);t["default"]=p}).call(t,n(35).setImmediate)},178:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(179),i=r(s);t["default"]=i["default"]},179:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){var t={};return(0,_["default"])(e,function(e,n){t[n]=(0,p["default"])(e.initialState)}),t}function o(e){var t={};return(0,_["default"])(e,function(e,n){(0,_["default"])(e.actions,function(e,r){e.fieldName=n,e.type=r,t[r]=e})}),t}function a(e,t){var n=o(e),r={};return(0,_["default"])(n,function(e,n){r[n]=c.bind(null,t,e)}),r}function u(e){e.components.forEach(function(t){t.setState(e.state)})}function c(e,t,n){g&&console.time("dispatch "+t.type);var r=e.state,s=l({},r),i=r[t.fieldName],o=(0,p["default"])(i);s[t.fieldName]=t(o,n,e),"undefined"!=typeof s[t.fieldName]&&(e.state=s),u(e),g&&(console.groupCollapsed("DISPATCH %c"+t.type+" %c=> %c"+t.fieldName,"color:green","color:auto","color:blue"),console.timeEnd("dispatch "+t.type),console.log("PAYLOAD: ",n),console.log("PREV VALUE: ",i),console.log("NEXT VALUE: ",o),console.log("PREV STORE: ",r),console.log("NEXT STORE: ",s),console.groupEnd())}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=n(180),p=r(f),d=n(181),_=r(d),g=!1,y=function(){function e(t){s(this,e),this.actions=a(t.schema,this),this.state=i(t.schema),this.components=[],g&&console.log("%cCREATED STORE","color:green")}return e.prototype.subscribeComponent=function(e){this.components.push(e),e.state=this.state},e.prototype.unsubscribeComponent=function(e){var t=this.components.indexOf(e);t>-1&&this.components.splice(t,1)},e}();t["default"]=y},180:function(e,t){var n=function(){"use strict";function e(t,n,r,s){function o(t,r){if(null===t)return null;if(0==r)return t;var a,f;if("object"!=typeof t)return t;if(e.__isArray(t))a=[];else if(e.__isRegExp(t))a=new RegExp(t.source,i(t)),t.lastIndex&&(a.lastIndex=t.lastIndex);else if(e.__isDate(t))a=new Date(t.getTime());else{if(l&&Buffer.isBuffer(t))return a=new Buffer(t.length),t.copy(a),a;"undefined"==typeof s?(f=Object.getPrototypeOf(t),a=Object.create(f)):(a=Object.create(s),f=s)}if(n){var p=u.indexOf(t);if(-1!=p)return c[p];u.push(t),c.push(a)}for(var d in t){var _;f&&(_=Object.getOwnPropertyDescriptor(f,d)),_&&null==_.set||(a[d]=o(t[d],r-1))}return a}var a;"object"==typeof n&&(r=n.depth,s=n.prototype,a=n.filter,n=n.circular);var u=[],c=[],l="undefined"!=typeof Buffer;return"undefined"==typeof n&&(n=!0),"undefined"==typeof r&&(r=1/0),o(t,r)}function t(e){return Object.prototype.toString.call(e)}function n(e){return"object"==typeof e&&"[object Date]"===t(e)}function r(e){return"object"==typeof e&&"[object Array]"===t(e)}function s(e){return"object"==typeof e&&"[object RegExp]"===t(e)}function i(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return e.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},e.__objToStr=t,e.__isDate=n,e.__isArray=r,e.__isRegExp=s,e.__getRegExpFlags=i,e}();"object"==typeof e&&e.exports&&(e.exports=n)},181:function(e,t){"use strict";e.exports=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];Object.keys(e).forEach(function(n){t(e[n],n)})}},185:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var s=n(186),i=r(s),o=n(181),a=r(o);e.exports={makeRequest:i["default"],iterateObject:a["default"]}},186:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function s(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];(0,u["default"])(t.success,"makeRequest MUST have a success callback"),(0,u["default"])(t.failure,"makeRequest MUST have a failure callback"),(0,u["default"])(t.error,"makeRequest MUST have an error callback");var n=t.success,r=t.failure,s=t.error,i={success:n,failure:r,error:s},a=(0,o["default"])(t);return delete a.success,delete a.failure,delete a.error,t.redirect||(a.redirect="follow"),fetch(e,a).then(function(e){var t=void 0;return e.status<300?t=e.json().then(i.success):e.status>=400&&(t=e.json().then(i.failure)),t})["catch"](i.error)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=s;var i=n(180),o=r(i),a=n(187),u=r(a)},187:function(e,t,n){"use strict";var r=function(e,t,n,r,s,i,o,a){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,s,i,o,a],l=0;u=new Error(t.replace(/%s/g,function(){return c[l++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};e.exports=r},214:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={actions:{setVideoField:function(e,t){return t}}}},215:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(185),i=r(s);t["default"]={initialState:{requestInFlight:!1},actions:{fetchVideo:function(e,t,n){return e.requestInFlight=!0,i["default"].makeRequest(t,{success:function(e){n.actions.fetchVideoSuccess(e),n.actions.setVideoField(e)},failure:n.actions.fetchVideoFailure,error:n.actions.fetchVideoError}),e},fetchVideoSuccess:function(e){return e.requestInFlight=!1,e},fetchVideoFailure:function(e,t){return e.requstFailure=t,e.requestInFlight=!1,e},fetchVideoError:function(e,t){return e.requestError=t,e.requestInFlight=!1,e}}}},216:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={revealed:!1};t["default"]={initialState:n,actions:{revealPlayer:function(e){return e.revealed=!0,e},resetController:function(){return n}}}},217:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function s(e){var t="bulbs-video-root player";return e.video?e.controller.revealed?o["default"].createElement("div",{className:t},o["default"].createElement(u["default"],e)):o["default"].createElement("div",{className:t},o["default"].createElement(l["default"],{video:e.video,actions:e.actions})):o["default"].createElement("div",{className:t})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=s;var i=n(1),o=r(i),a=n(218),u=r(a),c=n(222),l=r(c);s.propTypes={actions:i.PropTypes.object.isRequired,autoplayNext:i.PropTypes.bool,controller:i.PropTypes.object.isRequired,noEndcard:i.PropTypes.bool,twitterHandle:i.PropTypes.string,video:i.PropTypes.object}},218:function(e,t,n){(function(e,r){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var s=n[r],i=Object.getOwnPropertyDescriptor(t,s);i&&i.configurable&&void 0===e[s]&&Object.defineProperty(e,s,i)}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):i(e,t))}function c(){return"videoplayer"+m++}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=n(219),p=s(f),d=n(220),_=s(d),g=n(1),y=s(g),h=n(187),v=s(h);e(function(){window.avclubAnalytics?window.AnalyticsManager=avclubAnalytics:window.onionan?window.AnalyticsManager=onionan:window.clickholean?window.AnalyticsManager=clickholean:window.starwipe&&(window.AnalyticsManager=starwipe.analyticsManager)}),r.BULBS_ELEMENTS_ONIONSTUDIOS_GA_ID="UA-223393-14",r.BULBS_ELEMENTS_COMSCORE_ID="<fill me out>";var m=0,b=function(e){function t(){return o(this,t),a(this,e.apply(this,arguments))}return u(t,e),t.prototype.componentDidMount=function(){(0,v["default"])(r.jQuery,"`<bulbs-video>` requires `jQuery` to be in global scope."),(0,v["default"])(r.ga,"`<bulbs-video>` requires `ga` to be in global scope."),(0,v["default"])(r.BULBS_ELEMENTS_ONIONSTUDIOS_GA_ID,"`<bulbs-video>` requires `BULBS_ELEMENTS_ONIONSTUDIOS_GA_ID` to be in global scope."),(0,v["default"])(r.jwplayer,"`<bulbs-video>` requires `jwplayer` to be in global scope.");var e=c();ga("create",BULBS_ELEMENTS_ONIONSTUDIOS_GA_ID,"auto",{name:e});var t=this.props.video.targeting,n=e+".set";ga(n,"dimension1",t.target_channel||"None"),ga(n,"dimension2",t.target_series||"None"),ga(n,"dimension3",t.target_season||"None"),ga(n,"dimension4",t.target_video_id||"None"),ga(n,"dimension5",t.target_host_channel||"None"),ga(n,"dimension6",this.props.targetSpecialCoverage||"None"),ga(n,"dimension7",!0),ga(n,"dimension8",this.props.autoplay||"None"),ga(n,"dimension9",this.props.targetCampaignId||"None"),ga(n,"dimension10","None");var s=l({},this.props.video);s.gaPrefix=e,s.player_options.shareUrl=window.location.href,this.makeVideoPlayer(this.refs.videoContainer,s)},t.prototype.extractSources=function(e){var t={},n=[];return e.forEach(function(e){t[e.content_type]=e.url}),t["application/x-mpegURL"]&&n.push({file:t["application/x-mpegURL"]}),t["video/mp4"]&&n.push({file:t["video/mp4"]}),n},t.prototype.cacheBuster=function(){return Math.round(1e10*Math.random())},t.prototype.vastUrl=function(e){var t="http://us-theonion.videoplaza.tv/proxy/distributor/v2?rt=vast_2.0";return t+="&tt=p",e.tags.push("html5"),t+="&t="+e.tags,t+="&s="+e.category,t+="&rnd="+this.cacheBuster()},t.prototype.makeVideoPlayer=function(e,t){var n=r.jwplayer(e);n.videoMeta=t,n.setup({skin:{name:"onion"},sources:this.extractSources(t.sources),image:t.player_options.poster,advertising:{client:"vast",tag:this.vastUrl(t),skipoffset:5},hlshtml:!0,sharing:{link:t.player_options.shareUrl,code:t.player_options.embedCode}}),p["default"].init(n,t.gaPrefix),_["default"].init(n,r.BULBS_ELEMENTS_COMSCORE_ID,t.player_options.comscore.metadata)},t.prototype.render=function(){return y["default"].createElement("div",{className:"bulbs-video-viewport"},y["default"].createElement("div",{className:"bulbs-video-video video-container",ref:"videoContainer"}))},t}(y["default"].Component);t["default"]=b,b.propTypes={autoplay:g.PropTypes.bool,autoplayNext:g.PropTypes.bool,noEndcard:g.PropTypes.bool,targetCampaignId:g.PropTypes.string,targetSpecialCoverage:g.PropTypes.string,twitterHandle:g.PropTypes.string,video:g.PropTypes.object.isRequired}}).call(t,n(35).setImmediate,function(){return this}())},219:function(e,t){(function(e){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e+".send"},s=function(){function t(e,r){n(this,t),this.player=e,this.gaPrefix=r,this.player.gaEvents={},e.on("play",this.onPlay.bind(this)),e.on("pause",this.onPause.bind(this)),e.on("adBlock",this.onAdBlock.bind(this)),e.on("complete",this.onComplete.bind(this)),e.on("time",this.onTime.bind(this)),e.on("fullscreen",this.onFullScreen.bind(this)),e.on("resize",this.onResize.bind(this)),e.on("firstFrame",this.onFirstFrame.bind(this)),e.on("adSkipped",this.onAdSkipped.bind(this)),e.on("adError",this.onAdError.bind(this))}return t.prototype.onPlay=function(){this.player.playedOnce||(e.ga(r(this.gaPrefix),"event","Video:"+this.player.videoMeta.channel_name,"start",this.player.videoMeta.player_options.shareUrl),this.player.playedOnce=!0),e.ga(r(this.gaPrefix),"event","Video:"+this.player.videoMeta.channel_name,"play",this.player.videoMeta.player_options.shareUrl)},t.prototype.onPause=function(){e.ga(r(this.gaPrefix),"event","Video:"+this.player.videoMeta.channel_name,"pause",this.player.videoMeta.player_options.shareUrl)},t.prototype.onFullScreen=function(t){e.ga(r(this.gaPrefix),"event","Video:"+this.player.videoMeta.channel_name,"fullscreen:"+t.fullscreen,this.player.videoMeta.player_options.shareUrl)},t.prototype.onResize=function(t){e.ga(r(this.gaPrefix),"event","Video:"+this.player.videoMeta.channel_name,"resize:"+t.width+"x"+t.height,this.player.videoMeta.player_options.shareUrl)},t.prototype.onFirstFrame=function(t){e.ga(r(this.gaPrefix),"event","Video:"+this.player.videoMeta.channel_name,"firstFrame",this.player.videoMeta.player_options.shareUrl,t.loadTime)},t.prototype.onComplete=function(){e.ga(r(this.gaPrefix),"event","Video:"+this.player.videoMeta.channel_name,"end",this.player.videoMeta.player_options.shareUrl),this.player.playedOnce=!1},t.prototype.onAdBlock=function(){e.ga(r(this.gaPrefix),"event","Video:"+this.player.videoMeta.channel_name,"adblock:enabled",this.player.videoMeta.player_options.shareUrl)},t.prototype.onAdSkipped=function(t){e.ga(r(this.gaPrefix),"event","Video:"+this.player.videoMeta.channel_name,"adskipped",t.tag)},t.prototype.onAdError=function(t){e.ga(r(this.gaPrefix),"event","Video:"+this.player.videoMeta.channel_name,"aderror: "+t.message,t.tag)},t.prototype.onTime=function(e){this.checkSecondsElapsed(3,e),this.checkSecondsElapsed(10,e),this.checkSecondsElapsed(30,e),this.checkPercentage(e,25),this.checkPercentage(e,50),this.checkPercentage(e,75),this.checkPercentage(e,95)},t.prototype.checkPercentage=function(t,n){var s=n+" percent";if(!this.player.gaEvents[s]){var i=Math.round(t.position/t.duration*100);i>=n&&(e.ga(r(this.gaPrefix),"event","Video:"+this.player.videoMeta.channel_name,s,this.player.videoMeta.player_options.shareUrl),this.player.gaEvents[s]=!0)}},t.prototype.checkSecondsElapsed=function(t,n){var s=t+" seconds";this.player.gaEvents[s]||n.position>=t&&(e.ga(r(this.gaPrefix),"event","Video:"+this.player.videoMeta.channel_name,s,this.player.videoMeta.player_options.shareUrl),this.player.gaEvents[s]=!0)},t}();t["default"]={init:function(e,t){return new s(e,t)}}}).call(t,function(){return this}())},220:function(e,t,n){(function(e){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),n(221);var s=function(){function t(n,s,i){r(this,t),this.streamingTag=new e.ns_.StreamingTag({customerC2:s}),this.comscoreMetadata=i,n.on("adImpression",this.adStarted.bind(this)),n.on("adSkipped",this.adEnded.bind(this)),n.on("adComplete",this.adEnded.bind(this)),n.on("play",this.contentPlayed.bind(this)),n.on("pause",this.contentPaused.bind(this)),n.on("complete",this.contentEnded.bind(this))}return t.prototype.adStarted=function(){this.streamingTag.playVideoAdvertisement()},t.prototype.adEnded=function(){this.streamingTag.stop()},t.prototype.contentPlayed=function(){this.streamingTag.playVideoContentPart(this.comscoreMetadata)},t.prototype.contentPaused=function(){this.streamingTag.stop()},t.prototype.contentEnded=function(){this.streamingTag.stop()},t}();t["default"]={init:function(e,t,n){return new s(e,t,n)}}}).call(t,function(){return this}())},221:function(e,t){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};window.ns_=window.ns_||{},ns_.StreamSense=ns_.StreamSense||function(){function e(e,t){var s=e||"",i="undefined",o=f.comScore||f.sitestat||function(e){var t,s,o,a,u,l="comScore=",d=p.cookie,_="",g="indexOf",y="substring",v="length",m=r.browserAcceptsLargeURLs()?h.URL_LENGTH_LIMIT:h.RESTRICTED_URL_LENGTH_LIMIT,b="&ns_",E="&",P=f.encodeURIComponent||escape;if(d[g](l)+1)for(a=0,o=d.split(";"),u=o[v];u>a;a++)s=o[a][g](l),s+1&&(_=E+unescape(o[a][y](s+l[v])));e+=b+"_t="+ +new Date+b+"c="+(p.characterSet||p.defaultCharset||"")+_,e.length>m&&e.indexOf(E)>0&&(t=e.substr(0,m-8).lastIndexOf(E),e=(e.substring(0,t)+b+"cut="+P(e.substring(t+1))).substr(0,m)),c.httpGet(e),("undefined"==typeof ns_p?"undefined":n(ns_p))===i&&(ns_p={src:e}),ns_p.lastMeasurement=e};if(("undefined"==typeof t?"undefined":n(t))!==i){var a=[],u=f.encodeURIComponent||escape;for(var l in t)t.hasOwnProperty(l)&&a.push(u(l)+"="+u(t[l]));/[\?\&]$/.test(s)||(s+="&"),s+=a.join("&")}return o(s)}function t(e,t){for(var n,s=f.encodeURIComponent||escape,i=[],o=h.LABELS_ORDER,a=e.split("?"),u=a[0],c=a[1],l=c.split("&"),d=0,_=l.length;_>d;d++){var g=l[d].split("="),y=unescape(g[0]),v=unescape(g[1]);y&&(t[y]=v)}for(var m={},d=0,_=o.length;_>d;d++){var b=o[d];if(t.hasOwnProperty(b)){var E=t[b];"undefined"!=typeof E&&null!=E&&(m[b]=!0,i.push(s(b)+"="+s(t[b])))}}for(var b in t)if(!m[b]&&t.hasOwnProperty(b)){var E=t[b];"undefined"!=typeof E&&null!=E&&i.push(s(b)+"="+s(t[b]))}n=u+"?"+i.join("&"),n=n+(n.indexOf("&c8=")<0?"&c8="+s(p.title):"")+(n.indexOf("&c7=")<0?"&c7="+s(p.URL):"")+(n.indexOf("&c9=")<0?"&c9="+s(p.referrer):"");var P=r.browserAcceptsLargeURLs()?h.URL_LENGTH_LIMIT:h.RESTRICTED_URL_LENGTH_LIMIT;if(n.length>P&&n.indexOf("&")>0){var O=n.substr(0,P-8).lastIndexOf("&");n=(n.substring(0,O)+"&ns_cut="+s(n.substring(O+1))).substr(0,P)}return n}var r=function(){var e={uid:function(){var e=1;return function(){return+new Date+"_"+e++}}(),filter:function(e,t){var n={};for(var r in t)t.hasOwnProperty(r)&&e(t[r])&&(n[r]=t[r]);return n},extend:function(e){var t,n=arguments.length;e=e||{};for(var r=1;n>r;r++)if(t=arguments[r])for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);return e},getString:function(e,t){var n=String(e);return null==e?t||"na":n},getLong:function(e,t){var n=Number(e);return null==e||isNaN(n)?t||0:n},getInteger:function(e,t){var n=Number(e);return null==e||isNaN(n)?t||0:n},getBoolean:function(e,t){var n="true"==String(e).toLowerCase();return null==e?t||!1:n},isNotEmpty:function(e){return"undefined"!=typeof e&&null!=e&&"undefined"!=typeof e.length&&e.length>0},indexOf:function(t,n){var r=-1;return e.forEach(n,function(e,n){e==t&&(r=n)}),r},forEach:function(e,t,n){try{if("function"==typeof t)if(n="undefined"!=typeof n?n:null,"number"!=typeof e.length||"undefined"==typeof e[0]){var r="undefined"!=typeof e.__proto__;for(var s in e)(!r||r&&"undefined"==typeof e.__proto__[s])&&"function"!=typeof e[s]&&t.call(n,e[s],s)}else for(var s=0,i=e.length;i>s;s++)t.call(n,e[s],s)}catch(o){}},regionMatches:function(e,t,n,r,s){if(0>t||0>r||t+s>e.length||r+s>n.length)return!1;for(;--s>=0;){var i=e.charAt(t++),o=n.charAt(r++);if(i!=o)return!1}return!0},size:function(e){var t,n=0;for(var t in e)e.hasOwnProperty(t)&&n++;return n},log:function(e,t){if("undefined"!=typeof t&&t){var n=new Date,r=n.getHours()+":"+n.getMinutes()+":"+n.getSeconds();console.log(r,e)}},isTrue:function(e){return"undefined"==typeof e?!1:"string"==typeof e?(e=e.toLowerCase(),"true"===e||"1"===e||"on"===e):!!e},toString:function(t){if("undefined"==typeof t)return"undefined";if("string"==typeof t)return t;if("[object Array]"===Object.prototype.toString.call(t))return t.join(",");if(e.size(t)>0){var n="";for(var r in t)t.hasOwnProperty(r)&&(n+=r+":"+t[r]+";");return n}return t.toString()},exists:function(e){return"undefined"!=typeof e&&null!=e},firstGreaterThan0:function(){for(var e=0,t=arguments.length;t>e;e++){var n=arguments[e];if(n>0)return n}return 0},cloneObject:function(e){if(null==e||"object"!=("undefined"==typeof e?"undefined":n(e)))return e;var t=e.constructor();for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t},safeGet:function(t,n){return n=e.exists(n)?n:"",e.exists(t)?t:n},getBrowserName:function(){var e,t,n=navigator.userAgent,r=navigator.appName;return-1!=(t=n.indexOf("Opera"))||-1!=(t=n.indexOf("OPR/"))?r="Opera":-1!=(t=n.indexOf("Android"))?r="Android":-1!=(t=n.indexOf("Chrome"))?r="Chrome":-1!=(t=n.indexOf("Safari"))?r="Safari":-1!=(t=n.indexOf("Firefox"))?r="Firefox":-1!=(t=n.indexOf("IEMobile"))?r="Internet Explorer Mobile":"Microsoft Internet Explorer"==r||"Netscape"==r?r="Internet Explorer":(e=n.lastIndexOf(" ")+1)<(t=n.lastIndexOf("/"))&&(r=n.substring(e,t),r.toLowerCase()==r.toUpperCase()&&(r=navigator.appName)),r},getBrowserFullVersion:function(){var e,t,n,r,s,i=navigator.userAgent,o=navigator.appName,a=""+parseFloat(navigator.appVersion);return-1!=(n=i.indexOf("Opera"))?(a=i.substring(n+6),-1!=(n=i.indexOf("Version"))&&(a=i.substring(n+8))):-1!=(n=i.indexOf("OPR/"))?a=i.substring(n+4):-1!=(n=i.indexOf("Android"))?a=i.substring(n+11):-1!=(n=i.indexOf("Chrome"))?a=i.substring(n+7):-1!=(n=i.indexOf("Safari"))?(a=i.substring(n+7),-1!=(n=i.indexOf("Version"))&&(a=i.substring(n+8))):-1!=(n=i.indexOf("Firefox"))?a=i.substring(n+8):"Microsoft Internet Explorer"==o?(s=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),null!=s.exec(i)&&(a=parseFloat(RegExp.$1))):"Netscape"==o?(s=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),null!=s.exec(i)&&(a=parseFloat(RegExp.$1))):(t=i.lastIndexOf(" ")+1)<(n=i.lastIndexOf("/"))&&(a=i.substring(n+1)),a=a.toString(),-1!=(r=a.indexOf(";"))&&(a=a.substring(0,r)),-1!=(r=a.indexOf(" "))&&(a=a.substring(0,r)),-1!=(r=a.indexOf(")"))&&(a=a.substring(0,r)),e=parseInt(""+a,10),isNaN(e)&&(a=""+parseFloat(navigator.appVersion)),a},browserAcceptsLargeURLs:function(){return null===window.ActiveXObject||!0}};return e}(),s=function(){var e="cs_",t=function(){var t="undefined"!=typeof localStorage?localStorage:{};r.extend(this,{get:function(n){return t[e+n]},set:function(n,r){t[e+n]=r},has:function(n){return e+n in t},remove:function(n){delete t[e+n]},clear:function(){for(var e in t)t.hasOwnProperty(e)&&delete t[e]}})};return t}(),i=function E(e,t){var E=new Image;E.onload=function(){t&&t(200)},E.onerror=function(){t&&t()},E.src=e},o=function(e,t,n){n&&setTimeout(n,0)},a=function(){return{dir:function(e){return null},append:function(e,t,n){},write:function(e,t,n){},deleteFile:function(e,t){return!1},read:function(e,t){return null}}}(),u=function(e,t){"undefined"!=typeof engine&&t&&setTimeout(t,0);var n=engine.createHttpClient(),r=n.createRequest("GET",e,null);r.start(),t&&setTimeout(t,0)},c=function(){var e={PLATFORM:"generic",httpGet:i,httpPost:o,Storage:s,IO:a,getCrossPublisherId:function(){return null},getAppName:function(){return Constants.UNKNOWN_VALUE},getAppVersion:function(e){return Constants.UNKNOWN_VALUE},getVisitorId:function(){return this.getDeviceName()+ +new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceName:function(){return""},getPlatformVersion:function(){return""},getPlatformName:function(){return"js"},getRuntimeName:function(){return""},getRuntimeVersion:function(){return""},getResolution:function(){return""},getLanguage:function(){return""},getPackageName:function(){return""},isConnectionAvailable:function(){return!0},isCompatible:function(){return!0},autoSelect:function(){},isCrossPublisherIdChanged:function(){return!1}};return e}(),l=function(){function e(){return"undefined"!=typeof engine&&"undefined"!=typeof engine.stats}function t(){return r.isNotEmpty(engine.stats.device.id)?engine.stats.device.id:r.isNotEmpty(engine.stats.network.mac)?engine.stats.network.mac:null}function n(){if(null==i){var e=t();null!=e?(i=e,c="31",l=e):(i=+new Date+~~(1e3*Math.random()),c="72",l=null)}}var i=null,c=null,l=null;return{PLATFORM:"trilithium",httpGet:u,httpPost:o,Storage:s,IO:a,getCrossPublisherId:function(){return n(),l},getAppName:function(){return r.isNotEmpty(engine.stats.application.name)?engine.stats.application.name:Constants.UNKNOWN_VALUE},getAppVersion:function(e){return r.isNotEmpty(engine.stats.application.version)?engine.stats.application.version:Constants.UNKNOWN_VALUE},getVisitorId:function(){return n(),i},getVisitorIdSuffix:function(){return c},getDeviceName:function(){return r.safeGet(engine.stats.device.platform,"")},getPlatformVersion:function(){return r.safeGet(engine.stats.device.version,"")},getPlatformName:function(){return"js"},getRuntimeName:function(){return"trilithium"},getRuntimeVersion:function(){return""},getResolution:function(){return"undefined"!=typeof screen&&"undefined"!=typeof screen.height&&"undefined"!=typeof screen.width?screen.height+"x"+screen.width:""},getLanguage:function(){return""},getPackageName:function(){return""},isConnectionAvailable:function(){return!0},isCompatible:e}}();c.autoSelect=function(){l.isCompatible()&&r.extend(c,l)};var f,p,d="undefined"!=typeof window&&"undefined"!=typeof document;d?(f=window,p=document):(f={},p={location:{href:""},title:"",URL:"",referrer:"",cookie:""});var r=r||{};r.filterMap=function(e,t){for(var n in e)-1==r.indexOf(n,t)&&delete e[n]},r.getKeys=function(e,t){var n,r=[];for(n in e)(!t||t.test(n))&&e.hasOwnProperty(n)&&(r[r.length]=n);return r};var _=function(){var e=["play","pause","end","buffer","keep-alive","hb","custom","ad_play","ad_pause","ad_end","ad_click"];return{PLAY:0,PAUSE:1,END:2,BUFFER:3,KEEP_ALIVE:4,HEART_BEAT:5,CUSTOM:6,AD_PLAY:7,AD_PAUSE:8,AD_END:9,AD_CLICK:10,toString:function(t){return e[t]}}}(),g=function(){var e=[_.END,_.PLAY,_.PAUSE,_.BUFFER];return{IDLE:0,PLAYING:1,PAUSED:2,BUFFERING:3,toEventType:function(t){return e[t]}}}(),y={ADPLAY:_.AD_PLAY,ADPAUSE:_.AD_PAUSE,ADEND:_.AD_END,ADCLICK:_.AD_CLICK},h={STREAMSENSE_VERSION:"4.1411.18",DEFAULT_PLAYERNAME:"streamsense",DEFAULT_HEARTBEAT_INTERVAL:[{playingtime:6e4,interval:1e4},{playingtime:null,interval:6e4}],DEFAULT_KEEP_ALIVE_INTERVAL:12e5,DEFAULT_PAUSED_ON_BUFFERING_INTERVAL:500,C1_VALUE:"19",C10_VALUE:"js",NS_AP_C12M_VALUE:"1",NS_NC_VALUE:"1",PAGE_NAME_LABEL:"name",RESTRICTED_URL_LENGTH_LIMIT:2048,URL_LENGTH_LIMIT:4096,LABELS_ORDER:["c1","c2","ca2","cb2","cc2","cd2","ns_site","ca_ns_site","cb_ns_site","cc_ns_site","cd_ns_site","ns_vsite","ca_ns_vsite","cb_ns_vsite","cc_ns_vsite","cd_ns_vsite","ns_ap_an","ca_ns_ap_an","cb_ns_ap_an","cc_ns_ap_an","cd_ns_ap_an","ns_ap_pn","ns_ap_pv","c12","ca12","cb12","cc12","cd12","ns_ak","ns_ns_ap_hw","name","ns_ap_ni","ns_ap_ec","ns_ap_ev","ns_ap_device","ns_ap_id","ns_ap_csf","ns_ap_bi","ns_ap_pfm","ns_ap_pfv","ns_ap_ver","ca_ns_ap_ver","cb_ns_ap_ver","cc_ns_ap_ver","cd_ns_ap_ver","ns_ap_sv","ns_ap_cv","ns_type","ca_ns_type","cb_ns_type","cc_ns_type","cd_ns_type","ns_radio","ns_nc","ns_ap_ui","ca_ns_ap_ui","cb_ns_ap_ui","cc_ns_ap_ui","cd_ns_ap_ui","ns_ap_gs","ns_st_sv","ns_st_pv","ns_st_it","ns_st_id","ns_st_ec","ns_st_sp","ns_st_sq","ns_st_cn","ns_st_ev","ns_st_po","ns_st_cl","ns_st_el","ns_st_pb","ns_st_hc","ns_st_mp","ca_ns_st_mp","cb_ns_st_mp","cc_ns_st_mp","cd_ns_st_mp","ns_st_mv","ca_ns_st_mv","cb_ns_st_mv","cc_ns_st_mv","cd_ns_st_mv","ns_st_pn","ns_st_tp","ns_st_pt","ns_st_pa","ns_st_ad","ns_st_li","ns_st_ci","ns_ap_jb","ns_ap_res","ns_ap_c12m","ns_ap_install","ns_ap_updated","ns_ap_lastrun","ns_ap_cs","ns_ap_runs","ns_ap_usage","ns_ap_fg","ns_ap_ft","ns_ap_dft","ns_ap_bt","ns_ap_dbt","ns_ap_dit","ns_ap_as","ns_ap_das","ns_ap_it","ns_ap_uc","ns_ap_aus","ns_ap_daus","ns_ap_us","ns_ap_dus","ns_ap_ut","ns_ap_oc","ns_ap_uxc","ns_ap_uxs","ns_ap_lang","ns_ap_ar","ns_ap_miss","ns_ts","ns_st_ca","ns_st_cp","ns_st_er","ca_ns_st_er","cb_ns_st_er","cc_ns_st_er","cd_ns_st_er","ns_st_pe","ns_st_ui","ca_ns_st_ui","cb_ns_st_ui","cc_ns_st_ui","cd_ns_st_ui","ns_st_bc","ns_st_bt","ns_st_bp","ns_st_pc","ns_st_pp","ns_st_br","ns_st_ub","ns_st_vo","ns_st_ws","ns_st_pl","ns_st_pr","ns_st_ep","ns_st_ty","ns_st_ct","ns_st_cs","ns_st_ge","ns_st_st","ns_st_dt","ns_st_de","ns_st_pu","ns_st_cu","ns_st_fee","ns_ap_i1","ns_ap_i2","ns_ap_i3","ns_ap_i4","ns_ap_i5","ns_ap_i6","c3","ca3","cb3","cc3","cd3","c4","ca4","cb4","cc4","cd4","c5","ca5","cb5","cc5","cd5","c6","ca6","cb6","cc6","cd6","c10","c11","c13","c14","c15","c16","c7","c8","c9"]},v=function(){var e=function t(){function e(e,t){var n=t[e];null!=n&&(s[e]=n)}var n,s,t=this,i=0,o=0,a=0,u=0,c=0,l=0;r.extend(this,{reset:function(e){null!=e&&e.length>0?r.filterMap(s,e):s={},s.hasOwnProperty("ns_st_cl")||(s.ns_st_cl="0"),s.hasOwnProperty("ns_st_pn")||(s.ns_st_pn="1"),s.hasOwnProperty("ns_st_tp")||(s.ns_st_tp="1"),t.setPauses(0),t.setStarts(0),t.setBufferingTime(0),t.setBufferingTimestamp(-1),t.setPlaybackTime(0),t.setPlaybackTimestamp(-1)},setLabels:function(e,n){null!=e&&r.extend(s,e),t.setRegisters(s,n)},getLabels:function(){return s},setLabel:function(e,n){var r={};r[e]=n,t.setLabels(r,null)},
getLabel:function(e){return s[e]},getClipId:function(){return("undefined"==typeof n||null==n)&&t.setClipId("1"),n},setClipId:function(e){n=e},setRegisters:function(n,r){var s=n.ns_st_cn;null!=s&&(t.setClipId(s),delete n.ns_st_cn),s=n.ns_st_bt,null!=s&&(a=Number(s),delete n.ns_st_bt),e("ns_st_cl",n),e("ns_st_pn",n),e("ns_st_tp",n),e("ns_st_ub",n),e("ns_st_br",n),r!=g.PLAYING&&null!=r||(s=n.ns_st_sq,null!=s&&(o=Number(s),delete n.ns_st_sq)),r!=g.BUFFERING&&(s=n.ns_st_pt,null!=s&&(c=Number(s),delete n.ns_st_pt)),r!=g.PAUSED&&r!=g.IDLE&&null!=r||(s=n.ns_st_pc,null!=s&&(i=Number(s),delete n.ns_st_pc))},createLabels:function(e,n){var s=n||{};return s.ns_st_cn=t.getClipId(),s.ns_st_bt=String(t.getBufferingTime()),e!=_.PLAY&&null!=e||(s.ns_st_sq=String(o)),e!=_.PAUSE&&e!=_.END&&e!=_.KEEP_ALIVE&&e!=_.HEART_BEAT&&null!=e||(s.ns_st_pt=String(t.getPlaybackTime()),s.ns_st_pc=String(i)),r.extend(s,t.getLabels()),s},incrementPauses:function(){i++},incrementStarts:function(){o++},getBufferingTime:function(){var e=a;return u>=0&&(e+=+new Date-u),e},setBufferingTime:function(e){a=e},getPlaybackTime:function(){var e=c;return l>=0&&(e+=+new Date-l),e},setPlaybackTime:function(e){c=e},getPlaybackTimestamp:function(){return l},setPlaybackTimestamp:function(e){l=e},getBufferingTimestamp:function(){return u},setBufferingTimestamp:function(e){u=e},getPauses:function(){return i},setPauses:function(e){i=e},getStarts:function(){return o},setStarts:function(e){o=e}}),s={},t.reset()};return e}(),m=function(){var e=function t(){var e,n,t=this,s=null,i=0,o=0,a=0,u=0,c=0,l=0,f=!1;r.extend(this,{reset:function(e){null!=e&&e.length>0?r.filterMap(n,e):n={},t.setPlaylistId(+new Date+"_"+l),t.setBufferingTime(0),t.setPlaybackTime(0),t.setPauses(0),t.setStarts(0),t.setRebufferCount(0),f=!1},setLabels:function(e,s){null!=e&&r.extend(n,e),t.setRegisters(n,s)},getLabels:function(){return n},setLabel:function(e,n){var r={};r[e]=n,t.setLabels(r,null)},getLabel:function(e){return n[e]},getClip:function(){return s},getPlaylistId:function(){return e},setPlaylistId:function(t){e=t},setRegisters:function(t,n){var r=t.ns_st_sp;null!=r&&(i=Number(r),delete t.ns_st_sp),r=t.ns_st_bc,null!=r&&(a=Number(r),delete t.ns_st_bc),r=t.ns_st_bp,null!=r&&(u=Number(r),delete t.ns_st_bp),r=t.ns_st_id,null!=r&&(e=r,delete t.ns_st_id),n!=g.BUFFERING&&(r=t.ns_st_pa,null!=r&&(c=Number(r),delete t.ns_st_pa)),n!=g.PAUSED&&n!=g.IDLE&&null!=n||(r=t.ns_st_pp,null!=r&&(o=Number(r),delete t.ns_st_pp))},createLabels:function(n,s){var u=s||{};return u.ns_st_bp=String(t.getBufferingTime()),u.ns_st_sp=String(i),u.ns_st_id=String(e),a>0&&(u.ns_st_bc=String(a)),n!=_.PAUSE&&n!=_.END&&n!=_.KEEP_ALIVE&&n!=_.HEART_BEAT&&null!=n||(u.ns_st_pa=String(t.getPlaybackTime()),u.ns_st_pp=String(o)),n!=_.PLAY&&null!=n||t.didFirstPlayOccurred()||(u.ns_st_pb="1",t.setFirstPlayOccurred(!0)),r.extend(u,t.getLabels()),u},incrementStarts:function(){i++},incrementPauses:function(){o++,s.incrementPauses()},setPlaylistCounter:function(e){l=e},incrementPlaylistCounter:function(){l++},addPlaybackTime:function(e){if(s.getPlaybackTimestamp()>=0){var n=e-s.getPlaybackTimestamp();s.setPlaybackTimestamp(-1),s.setPlaybackTime(s.getPlaybackTime()+n),t.setPlaybackTime(t.getPlaybackTime()+n)}},addBufferingTime:function(e){if(s.getBufferingTimestamp()>=0){var n=e-s.getBufferingTimestamp();s.setBufferingTimestamp(-1),s.setBufferingTime(s.getBufferingTime()+n),t.setBufferingTime(t.getBufferingTime()+n)}},getBufferingTime:function(){var e=u;return s.getBufferingTimestamp()>=0&&(e+=+new Date-s.getBufferingTimestamp()),e},setBufferingTime:function(e){u=e},getPlaybackTime:function(){var e=c;return s.getPlaybackTimestamp()>=0&&(e+=+new Date-s.getPlaybackTimestamp()),e},setPlaybackTime:function(e){c=e},getStarts:function(){return i},setStarts:function(e){i=e},getPauses:function(){return o},setPauses:function(e){o=e},getRebufferCount:function(){return a},incrementRebufferCount:function(){a++},setRebufferCount:function(e){a=e},didFirstPlayOccurred:function(){return f},setFirstPlayOccurred:function(e){f=e}}),s=new v,n={},t.reset()};return e}(),b=function(){var s=function(n,s){function i(e){var t=0;if(null!=pe)for(var n=0;n<pe.length;n++){var r=pe[n],s=r.playingtime;if(!s||s>e){t=r.interval;break}}return t}function o(){f();var e=i(ce.getClip().getPlaybackTime());if(e>0){var t=ge>0?ge:e;$=setTimeout(l,t)}ge=0}function a(){f();var e=i(ce.getClip().getPlaybackTime());ge=e-ce.getClip().getPlaybackTime()%e,null!=$&&f()}function u(){ge=0,he=0,ye=0}function l(){ye++;var e=B(_.HEART_BEAT,null);A(e),ge=0,o()}function f(){null!=$&&(clearTimeout($),$=null)}function p(){y(),X=setTimeout(d,de)}function d(){var e=B(_.KEEP_ALIVE,null);A(e),ue++,p()}function y(){null!=X&&(clearTimeout(X),X=null)}function v(){E(),re.isPauseOnBufferingEnabled()&&R(g.PAUSED)&&(Q=setTimeout(b,_e))}function b(){if(J==g.PLAYING){ce.incrementRebufferCount(),ce.incrementPauses();var e=B(_.PAUSE,null);A(e),ue++,J=g.PAUSED}}function E(){null!=Q&&(clearTimeout(Q),Q=null)}function P(e){return e==g.PLAYING||e==g.PAUSED}function O(){Y&&(clearTimeout(Y),Y=null)}function S(e){return e==_.PLAY?g.PLAYING:e==_.PAUSE?g.PAUSED:e==_.BUFFER?g.BUFFERING:e==_.END?g.IDLE:null}function T(e,t,n){if(O(),n)Y=setTimeout(function(e,t){return function(){T(e,t)}}(e,t),n);else if(U(e)){var s=j(),i=oe,o=D(t),a=i>=0?o-i:0;x(j(),t),I(e,t),V(j()),M(e);for(var u=0,c=ne.length;c>u;u++)ne[u](s,e,t,a);w(t),ce.setRegisters(t,e),ce.getClip().setRegisters(t,e);var l=B(g.toEventType(e),t);r.extend(l,t),R(z)&&(A(l),J=z,ue++)}}function w(e){var t=e.ns_st_mp;null!=t&&(Z=t,delete e.ns_st_mp),t=e.ns_st_mv,null!=t&&(ee=t,delete e.ns_st_mv),t=e.ns_st_ec,null!=t&&(ue=Number(t),delete e.ns_st_ec)}function A(e,n){void 0===n&&(n=!0),n&&N(e);var r=re.getPixelURL();if(W){if(!L()){var s=me.am,i=me.et,o=s.newApplicationMeasurement(W,i.HIDDEN,e,r);W.getQueue().offer(o)}}else r&&c.httpGet(t(r,e))}function L(){var e=W.getAppContext(),t=W.getSalt(),n=W.getPixelURL();return null==e||null==t||0==t.length||null==n||0==n.length}function N(e){te=B(null),r.extend(te,e)}function x(e,t){var n=D(t);if(e==g.PLAYING)ce.addPlaybackTime(n),a(),y();else if(e==g.BUFFERING)ce.addBufferingTime(n),E();else if(e==g.IDLE){var s=r.getKeys(ce.getClip().getLabels());ce.getClip().reset(s)}}function I(e,t){var n=D(t),r=C(t);ae=r,e==g.PLAYING?(o(),p(),ce.getClip().setPlaybackTimestamp(n),R(e)&&(ce.getClip().incrementStarts(),ce.getStarts()<1&&ce.setStarts(1))):e==g.PAUSED?R(e)&&ce.incrementPauses():e==g.BUFFERING?(ce.getClip().setBufferingTimestamp(n),fe&&v()):e==g.IDLE&&u()}function R(e){return e!=g.PAUSED&&e!=g.IDLE||J!=g.IDLE&&null!=J?e!=g.BUFFERING&&J!=e:!1}function C(e){var t=-1;return e.hasOwnProperty("ns_st_po")&&(t=r.getInteger(e.ns_st_po)),t}function D(e){var t=-1;return e.hasOwnProperty("ns_ts")&&(t=Number(e.ns_ts)),t}function U(e){return null!=e&&j()!=e}function M(e){z=e,oe=+new Date}function j(){return z}function V(e){K=e}function B(){var e,t;1==arguments.length?(e=g.toEventType(z),t=arguments[0]):(e=arguments[0],t=arguments[1]);var n={};if("undefined"!=typeof document){var s=document;n.c7=s.URL,n.c8=s.title,n.c9=s.referrer}return null!=t&&r.extend(n,t),n.hasOwnProperty("ns_ts")||(n.ns_ts=String(+new Date)),null!=e&&!n.hasOwnProperty("ns_st_ev")&&(n.ns_st_ev=_.toString(e)),re.isPersistentLabelsShared()&&W&&r.extend(n,W.getLabels()),r.extend(n,re.getLabels()),k(e,n),ce.createLabels(e,n),ce.getClip().createLabels(e,n),n.hasOwnProperty("ns_st_mp")||(n.ns_st_mp=Z),n.hasOwnProperty("ns_st_mv")||(n.ns_st_mv=ee),n.hasOwnProperty("ns_st_ub")||(n.ns_st_ub="0"),n.hasOwnProperty("ns_st_br")||(n.ns_st_br="0"),n.hasOwnProperty("ns_st_pn")||(n.ns_st_pn="1"),n.hasOwnProperty("ns_st_tp")||(n.ns_st_tp="1"),n.hasOwnProperty("ns_st_it")||(n.ns_st_it="c"),n.ns_st_sv=h.STREAMSENSE_VERSION,n.ns_type="hidden",n}function k(e,t){var n=t||{};if(n.ns_st_ec=String(ue),!n.hasOwnProperty("ns_st_po")){var s=ae,i=D(n);(e==_.PLAY||e==_.KEEP_ALIVE||e==_.HEART_BEAT||null==e&&z==g.PLAYING)&&(s+=i-ce.getClip().getPlaybackTimestamp()),n.ns_st_po=r.getInteger(s)}return e==_.HEART_BEAT&&(n.ns_st_hc=String(ye)),n}function F(e){var t=D(e);0>t&&(e.ns_ts=String(+new Date))}function G(e,t,n){t=t||{},t.ns_st_ad=1,e>=_.AD_PLAY&&e<=_.AD_CLICK&&re.notify(e,t,n)}function q(e,t){re.notify(_.CUSTOM,e,t)}var H,Y,K,z,W,Q,X,$,J,Z,ee,te,ne,re=this,se=500,ie=null,oe=0,ae=0,ue=0,ce=null,le=!0,fe=!0,pe=h.DEFAULT_HEARTBEAT_INTERVAL,de=h.DEFAULT_KEEP_ALIVE_INTERVAL,_e=h.DEFAULT_PAUSED_ON_BUFFERING_INTERVAL,ge=0,ye=0,he=0,ve=!1,me={};c.autoSelect(),r.extend(this,{reset:function(e){ce.reset(e),ce.setPlaylistCounter(0),ce.setPlaylistId(+new Date+"_1"),ce.getClip().reset(e),null==e||e.isEmpty()?H={}:r.filterMap(H,e),ue=1,ye=0,a(),u(),y(),E(),O(),z=g.IDLE,K=null,oe=-1,J=null,Z=h.DEFAULT_PLAYERNAME,ee=h.STREAMSENSE_VERSION,te=null},setPauseOnBufferingInterval:function(e){_e=e},getPauseOnBufferingInterval:function(){return _e},setKeepAliveInterval:function(e){de=e},getKeepAliveInterval:function(){return de},setHeartbeatIntervals:function(e){pe=e},notify:function(){var e,t,n,s;t=arguments[0],3==arguments.length?(n=arguments[1],s=arguments[2]):(n={},s=arguments[1]),e=S(t);var i=r.extend({},n);if(F(i),i.hasOwnProperty("ns_st_po")||(i.ns_st_po=r.getInteger(s).toString()),t==_.PLAY||t==_.PAUSE||t==_.BUFFER||t==_.END)re.isPausePlaySwitchDelayEnabled()&&P(z)&&P(e)&&(z!=g.PLAYING||e!=g.PAUSED||Y)?T(e,i,se):T(e,i);else{var o=B(t,i);r.extend(o,i),A(o,!1),ue++}},getLabels:function(){return H},getState:function(){return z},setLabels:function(e){null!=e&&(null==H?H=e:r.extend(H,e))},getLabel:function(e){return H[e]},setLabel:function(e,t){null==t?delete H[e]:H[e]=t},setPixelURL:function(e){if(null==e||0==e.length)return null;var t=decodeURIComponent||unescape,n=e.indexOf("?");if(n>=0){if(n<e.length-1){for(var r=e.substring(n+1).split("&"),s=0,i=r.length;i>s;s++){var o=r[s],a=o.split("=");2==a.length?re.setLabel(a[0],t(a[1])):1==a.length&&re.setLabel(h.PAGE_NAME_LABEL,t(a[0]))}e=e.substring(0,n+1)}}else e+="?";return ie=e},getPixelURL:function(){return ie?ie:"undefined"!=typeof ns_p&&"string"==typeof ns_p.src?ie=ns_p.src.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):"string"==typeof ns_pixelUrl?ie=ns_pixelUrl.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):null},isPersistentLabelsShared:function(){return le},setPersistentLabelsShared:function(e){le=e},isPauseOnBufferingEnabled:function(){return fe},setPauseOnBufferingEnabled:function(e){fe=e},isPausePlaySwitchDelayEnabled:function(){return ve},setPausePlaySwitchDelayEnabled:function(e){ve=e},setPausePlaySwitchDelay:function(e){e&&e>0&&(se=e)},getPausePlaySwitchDelay:function(){return se},setClip:function(e,t){var n=!1;return z==g.IDLE&&(ce.getClip().reset(),ce.getClip().setLabels(e,null),t&&ce.incrementStarts(),n=!0),n},setPlaylist:function(e){var t=!1;return z==g.IDLE&&(ce.incrementPlaylistCounter(),ce.reset(),ce.getClip().reset(),ce.setLabels(e,null),t=!0),t},importState:function(e){reset();var t=r.extend({},e);ce.setRegisters(t,null),ce.getClip().setRegisters(t,null),w(t),ue++},exportState:function(){return te},getVersion:function(){return h.STREAMSENSE_VERSION},addListener:function(e){ne.push(e)},removeListener:function(e){ne.splice(r.indexOf(e,ne),1)},getClip:function(){return ce.getClip()},getPlaylist:function(){return ce}}),r.extend(this,{adNotify:G,customNotify:q,viewNotify:function(t,n){t=t||re.getPixelURL(),t&&e(t,n)}}),ns_.comScore&&(me=ns_.comScore.exports,W=me.c()),H={},ue=1,z=g.IDLE,ce=new m,Q=null,fe=!0,$=null,ye=0,u(),X=null,Y=null,ve=!1,J=null,ae=0,ne=[],re.reset(),n&&re.setLabels(n),s&&re.setPixelURL(s)};return function(e){function t(e,t){return O[T]||i(e,t)}function s(){T=-1;for(var e=0;S>=e;e++)if(O.hasOwnProperty(e)){T=e;break}return ns_.StreamSense.activeIndex=T,T}function i(e,t){return e=e||null,t=t||null,e&&"object"==("undefined"==typeof e?"undefined":n(e))&&(t=e,e=null),O[++S]=new ns_.StreamSense(t,e),s(),O[S]}function o(){var e=!1,t=T;if("number"==typeof arguments[0]&&isFinite(arguments[0]))t=arguments[0];else if(arguments[0]instanceof ns_.StreamSense)for(var n in O)if(O[n]===arguments[0]){t=n;break}return O.hasOwnProperty(t)&&(e=O[t],delete O[t],e.reset(),s()),e}function a(e){return e=e||{},t().setPlaylist(e),t().getPlaylist()}function u(e,n,r){return e=e||{},"number"==typeof n&&(e.ns_st_cn=n),t().setClip(e,r),t().getClip()}function c(e,n,r){return"undefined"==typeof e?!1:(r=r||null,n=n||{},t().notify(e,n,r))}function l(e){"undefined"!=typeof e&&t().setLabels(e)}function f(){return t().getLabels()}function p(e){"undefined"!=typeof e&&t().getPlaylist().setLabels(e)}function d(){return t().getPlaylist().getLabels()}function _(e){"undefined"!=typeof e&&t().getClip().setLabels(e)}function g(){return t().getClip().getLabels()}function y(e){return t().reset(e||{})}function h(e){return t().getPlaylist().reset(e||{})}function v(e){return t().getClip().reset(e||{})}function m(e){return e=e||{},t().viewNotify(null,e)}function b(e,n){return arguments.length>2&&(e=arguments[1],n=arguments[2]),e=e||{},"number"==typeof n&&(e.ns_st_po=n),t().customNotify(e,n)}function E(){return t().exportState()}function P(e){t().importState(e)}var O={},S=-1,T=-1;r.extend(e,{activeIndex:T,newInstance:i,"new":i,destroyInstance:o,destroy:o,newPlaylist:a,newClip:u,notify:c,setLabels:l,getLabels:f,setPlaylistLabels:p,getPlaylistLabels:d,setClipLabels:_,getClipLabels:g,resetInstance:y,resetPlaylist:h,resetClip:v,viewEvent:m,customEvent:b,exportState:E,importState:P})}(s),s}();return b.AdEvents=y,b.PlayerEvents=_,ns_.StreamingTag=ns_.StreamingTag||function(){var e=function(){var e=function(e){function t(){if(!ns_.comScore&&r.exists(e))if(m=r.isTrue(e.debug),r.exists(e.customerC2)){var t=e.secure?"https://sb":"http"+("s"==document.location.href.charAt(4)?"s://sb":"://b");v.setPixelURL(t+".scorecardresearch.com/p?c1=2"),v.setLabel("c2",e.customerC2)}else v.setPixelURL(""),m&&console.log("Warning: customerC2 is not provided (or incorrect) in the StreamingTag configuration.");v.setLabel("ns_st_it","r")}function n(e){return r.exists(e)||(e={}),r.exists(e.ns_st_ci)||(e.ns_st_ci="0"),r.exists(e.c3)||(e.c3="*null"),r.exists(e.c4)||(e.c4="*null"),r.exists(e.c6)||(e.c6="*null"),e}function s(e){return p>0&&e>=p?d+=e-p:d=0,d}function i(e){v.getState()!=g.IDLE&&v.getState()!=g.PAUSED?v.notify(_.END,s(e)):v.getState()==g.PAUSED&&v.notify(_.END,d)}function o(e){return a("ns_st_ci",y,e)&&a("c3",y,e)&&a("c4",y,e)&&a("c6",y,e)}function a(e,t,n){if(r.exists(e)&&r.exists(t)&&r.exists(n)){var s=t[e],i=n[e];return r.exists(s)&&r.exists(i)&&s===i}return!1}function u(e,t){i(e),f++;var n={ns_st_cn:f,ns_st_pn:"1",ns_st_tp:"0"};r.extend(n,t),v.setClip(n),y=t,p=e,d=0,v.notify(_.PLAY,d)}function c(e){var t=+new Date;i(t),f++,e=n(e);var s={ns_st_cn:f,ns_st_pn:"1",ns_st_tp:"1",ns_st_ad:"1"};r.extend(s,e),v.setClip(s),d=0,v.notify(_.PLAY,d),p=t,h=!1}function l(e){var t=+new Date;e=n(e),h&&o(e)?(v.getClip().setLabels(e),v.getState()!=g.PLAYING&&(p=t,v.notify(_.PLAY,d))):u(t,e),h=!0}var f=0,p=0,d=0,y=null,h=!1,v=new b,m=!1;r.extend(this,{playAdvertisement:function(){m&&console&&console.warn("Calling deprecated function 'playAdvertisement'. Please call 'playVideoAdvertisement' or 'playAudioAdvertisement' functions instead.");var e={ns_st_ct:"va"};c(e)},playVideoAdvertisement:function(e){var t={ns_st_ct:"va"};e&&r.extend(t,e),c(t)},playAudioAdvertisement:function(e){var t={ns_st_ct:"aa"};e&&r.extend(t,e),c(t)},playContentPart:function(e){m&&console&&console.warn("Calling deprecated function 'playContentPart'. Please call 'playVideoContentPart' or 'playAudioContentPart' functions instead.");var t={ns_st_ct:"vc"};e&&r.extend(t,e),l(t)},playVideoContentPart:function(e){var t={ns_st_ct:"vc"};e&&r.extend(t,e),l(t)},playAudioContentPart:function(e){var t={ns_st_ct:"ac"};e&&r.extend(t,e),l(t)},stop:function(){var e=+new Date;v.notify(_.PAUSE,s(e))}}),t()};return function(e){}(e),e}();return e}(),b}()},222:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function s(e){var t=e.video,n=e.actions,r=parseInt(t.poster_url.match(/\d+/)[0],10);return o["default"].createElement("div",{className:"bulbs-video-cover",onClick:n.revealPlayer},o["default"].createElement(u["default"],null),o["default"].createElement("img",{className:"bulbs-video-poster",imageId:r,src:t.poster_url}))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=s;var i=n(1),o=r(i),a=n(223),u=r(a);s.propTypes={actions:i.PropTypes.object.isRequired,video:i.PropTypes.object.isRequired}},223:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function s(){return o["default"].createElement("svg",{className:"bulbs-video-play-button",viewBox:"0 0 100 100"},o["default"].createElement("circle",{className:"st0 st1",style:{opacity:.5,fill:"white"},cx:"50",cy:"50",r:"45.6"}),o["default"].createElement("path",{className:"st1",style:{fill:"white"},d:"M50,97C24.1,97,3,75.9,3,50S24.1,3,50,3s47,21.1,47,47S75.9,97,50,97z M50,5.8C25.6,5.8,5.8,25.6,5.8,50 S25.6,94.2,50,94.2S94.2,74.4,94.2,50S74.4,5.8,50,5.8z"}),o["default"].createElement("polygon",{className:"st1",style:{fill:"white"},points:"36.8,27.8 74.3,51.1 36.6,74.1"}))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=s;var i=n(1),o=r(i)},224:function(e,t){},226:function(e,t){},228:function(e,t){},230:function(e,t){},232:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var s=n[r],i=Object.getOwnPropertyDescriptor(t,s);i&&i.configurable&&void 0===e[s]&&Object.defineProperty(e,s,i)}return e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):s(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n(1),l=r(c),f=n(34),p=n(177),d=r(p),_=n(214),g=r(_),y=n(215),h=r(y);n(233);var v=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.initialDispatch=function(){this.store.actions.fetchVideo(this.props.src)},t.prototype.componentWillReceiveProps=function(e){this.props.src!==e.src&&this.store.actions.fetchVideo(e.src)},t.prototype.render=function(){return this.state.video?l["default"].createElement("div",{className:"bulbs-video-meta"},l["default"].createElement("h1",{className:"bulbs-video-meta-title"},this.state.video.title),l["default"].createElement("share-tools",{"share-title":this.state.video.title,"share-url":window.location,"data-track-action":this.props.shareTrackAction},l["default"].createElement("share-via-facebook",{label:!0,icon:!0}),l["default"].createElement("share-via-twitter",{label:!0,icon:!0,"twitter-handle":this.props.shareTwitterHandle}),l["default"].createElement("share-via-email",{label:!0,icon:!0,message:this.props.shareEmailMessage}))):l["default"].createElement("div",null)},t}(d["default"]);t["default"]=v,u(v,{displayName:"BulbsVideoMeta",schema:{video:g["default"],videoRequest:h["default"]},propTypes:{shareEmailMessage:c.PropTypes.string.isRequired,shareTrackCatagory:c.PropTypes.string.isRequired,shareTwitterHandle:c.PropTypes.string.isRequired}}),(0,f.registerReactElement)("bulbs-video-meta",v)},233:function(e,t){},235:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var s=n[r],i=Object.getOwnPropertyDescriptor(t,s);i&&i.configurable&&void 0===e[s]&&Object.defineProperty(e,s,i)}return e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):s(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n(1),l=r(c),f=n(34),p=n(177),d=r(p),_=n(223),g=r(_);n(236);var y=n(214),h=r(y),v=n(215),m=r(v),b=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.initialDispatch=function(){this.store.actions.fetchVideo(this.props.src)},t.prototype.componentWillReceiveProps=function(e){this.props.src!==e.src&&this.store.actions.fetchVideo(e.src)},t.prototype.render=function(){if(!this.state.video)return l["default"].createElement("div",null);var e=this.state.video;return l["default"].createElement("div",{className:"bulbs-video-summary"},l["default"].createElement("div",{className:"bulbs-video-poster",style:{position:"relative"}},l["default"].createElement("img",{src:e.poster_url}),l["default"].createElement("div",{className:"bulbs-video-shade"}),"string"==typeof this.props.nowPlaying&&l["default"].createElement("div",{className:"bulbs-video-summary-playing"},"Now Playing"),l["default"].createElement(g["default"],null)),l["default"].createElement("h3",{className:"bulbs-video-summary-title"},this.state.video.title))},t}(d["default"]);t["default"]=b,u(b,{displayName:"BulbsVideoSummary",schema:{video:h["default"],videoRequest:m["default"]},propTypes:{nowPlaying:c.PropTypes.bool}}),(0,f.registerReactElement)("bulbs-video-summary",b)},236:function(e,t){}});
//# sourceMappingURL=bulbs-video.js.map