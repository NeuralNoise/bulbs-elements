{"version":3,"sources":["webpack:///bulbs-slideshow.js","webpack:///./elements/bulbs-slideshow/bulbs-slideshow.js"],"names":["webpackJsonp","0","module","exports","__webpack_require__","_defaults","obj","defaults","keys","Object","getOwnPropertyNames","i","length","key","value","getOwnPropertyDescriptor","configurable","undefined","defineProperty","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","create","constructor","enumerable","writable","setPrototypeOf","getInitialSlideIndex","hash","index","parseInt","match","_register","BulbsSlideshow","_BulbsHTMLElement","this","apply","arguments","attachedCallback","slidesClicked","$element","$","$slideshow","find","$navigation","$navigationLinks","$restartLink","$slideCount","filter","on","createNavigationLinkClickHandler","handleRestartLinkClick","bind","flexslider","animation","animationLoop","animationSpeed","controlNav","directionNav","keyboard","namespace","slideshow","startAt","window","location","smoothHeight","start","render","after","afterSlideTransition","flexSlider","data","direction","event","currentTarget","preventDefault","hasClass","flexAnimate","getTarget","displayCurrentSlideNumber","updateNavigationState","fillPictures","count","currentSlide","currentSlideNumber","text","removeClass","isOnLastSlide","disableNextLinks","isOnFirstSlide","disablePreviousLinks","addClass","picturefill","navigateToNextSlide","BulbsHTMLElement","registerElement","default","268"],"mappings":"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","file":"bulbs-slideshow.js","sourcesContent":["webpackJsonp([16],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _register = __webpack_require__(2);\n\t\n\t__webpack_require__(268);\n\t\n\tfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }\n\t\n\tfunction getInitialSlideIndex(hash) {\n\t  var index = 0;\n\t  if (hash.length > 1) {\n\t    index = parseInt(hash.match(/(\\d+)/)[1], 10) - 1;\n\t  }\n\t  return index;\n\t}\n\t\n\tvar BulbsSlideshow = function (_BulbsHTMLElement) {\n\t  _inherits(BulbsSlideshow, _BulbsHTMLElement);\n\t\n\t  function BulbsSlideshow() {\n\t    _classCallCheck(this, BulbsSlideshow);\n\t\n\t    return _possibleConstructorReturn(this, _BulbsHTMLElement.apply(this, arguments));\n\t  }\n\t\n\t  BulbsSlideshow.prototype.attachedCallback = function attachedCallback() {\n\t    this.slidesClicked = 0;\n\t    var $element = $(this);\n\t    this.$slideshow = $element.find('.slideshow');\n\t    this.$navigation = $element.find('nav');\n\t    this.$navigationLinks = this.$navigation.find('a');\n\t    this.$restartLink = $element.find('.slides-restart a');\n\t    this.$slideCount = $element.find('.slidecount');\n\t    this.$navigationLinks.filter('.next').on('click', this.createNavigationLinkClickHandler('next'));\n\t    this.$navigationLinks.filter('.prev').on('click', this.createNavigationLinkClickHandler('prev'));\n\t    this.$restartLink.on('click', this.handleRestartLinkClick.bind(this));\n\t    this.$slideshow.flexslider({\n\t      animation: 'fade',\n\t      animationLoop: false,\n\t      animationSpeed: 0,\n\t      controlNav: false,\n\t      directionNav: false,\n\t      keyboard: true,\n\t      namespace: 'slides-',\n\t      slideshow: false,\n\t      startAt: getInitialSlideIndex(window.location.hash),\n\t      smoothHeight: true,\n\t      start: this.render.bind(this),\n\t      after: this.afterSlideTransition.bind(this)\n\t    });\n\t    this.flexSlider = this.$slideshow.data('flexslider');\n\t  };\n\t\n\t  BulbsSlideshow.prototype.createNavigationLinkClickHandler = function createNavigationLinkClickHandler(direction) {\n\t    return function (event) {\n\t      var $element = $(event.currentTarget);\n\t      event.preventDefault();\n\t      if (!$element.hasClass('slides-disabled')) {\n\t        this.flexSlider.flexAnimate(this.flexSlider.getTarget(direction));\n\t      }\n\t    }.bind(this);\n\t  };\n\t\n\t  BulbsSlideshow.prototype.handleRestartLinkClick = function handleRestartLinkClick(event) {\n\t    event.preventDefault();\n\t    this.flexSlider.flexslider(0);\n\t  };\n\t\n\t  BulbsSlideshow.prototype.render = function render() {\n\t    this.displayCurrentSlideNumber();\n\t    this.updateNavigationState();\n\t    this.fillPictures();\n\t  };\n\t\n\t  BulbsSlideshow.prototype.displayCurrentSlideNumber = function displayCurrentSlideNumber() {\n\t    var count = this.flexSlider.count;\n\t    var currentSlide = this.currentSlideNumber();\n\t    this.$slideCount.text(currentSlide + ' of ' + count);\n\t  };\n\t\n\t  BulbsSlideshow.prototype.currentSlideNumber = function currentSlideNumber() {\n\t    return this.flexSlider.currentSlide + 1;\n\t  };\n\t\n\t  BulbsSlideshow.prototype.updateNavigationState = function updateNavigationState() {\n\t    this.$navigationLinks.removeClass('slides-disabled');\n\t\n\t    if (this.isOnLastSlide()) {\n\t      this.disableNextLinks();\n\t    }\n\t\n\t    if (this.isOnFirstSlide()) {\n\t      this.disablePreviousLinks();\n\t    }\n\t  };\n\t\n\t  BulbsSlideshow.prototype.isOnLastSlide = function isOnLastSlide() {\n\t    return this.currentSlideNumber() === this.flexSlider.count;\n\t  };\n\t\n\t  BulbsSlideshow.prototype.isOnFirstSlide = function isOnFirstSlide() {\n\t    return this.currentSlideNumber() === 1;\n\t  };\n\t\n\t  BulbsSlideshow.prototype.disableNextLinks = function disableNextLinks() {\n\t    this.$navigationLinks.filter('.next').addClass('slides-disabled');\n\t  };\n\t\n\t  BulbsSlideshow.prototype.disablePreviousLinks = function disablePreviousLinks() {\n\t    this.$navigationLinks.filter('.prev').addClass('slides-disabled');\n\t  };\n\t\n\t  BulbsSlideshow.prototype.fillPictures = function fillPictures() {\n\t    window.picturefill('.slides li, .endcard .summary');\n\t  };\n\t\n\t  BulbsSlideshow.prototype.afterSlideTransition = function afterSlideTransition() {\n\t    this.render();\n\t    this.navigateToNextSlide();\n\t  };\n\t\n\t  BulbsSlideshow.prototype.navigateToNextSlide = function navigateToNextSlide() {\n\t    window.location.hash = 'slide' + this.currentSlideNumber();\n\t  };\n\t\n\t  return BulbsSlideshow;\n\t}(_register.BulbsHTMLElement);\n\t\n\t(0, _register.registerElement)('bulbs-slideshow', BulbsSlideshow);\n\t\n\texports.default = BulbsSlideshow;\n\n/***/ },\n\n/***/ 268:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }\n\n});\n\n\n// WEBPACK FOOTER //\n// bulbs-slideshow.js","import { registerElement, BulbsHTMLElement } from 'bulbs-elements/register';\nimport './bulbs-slideshow.scss';\n\nfunction getInitialSlideIndex (hash) {\n  let index = 0;\n  if (hash.length > 1) {\n    index = parseInt(hash.match(/(\\d+)/)[1], 10) - 1;\n  }\n  return index;\n}\n\nclass BulbsSlideshow extends BulbsHTMLElement {\n  attachedCallback () {\n    this.slidesClicked = 0;\n    let $element = $(this);\n    this.$slideshow = $element.find('.slideshow');\n    this.$navigation = $element.find('nav');\n    this.$navigationLinks = this.$navigation.find('a');\n    this.$restartLink = $element.find('.slides-restart a');\n    this.$slideCount = $element.find('.slidecount');\n    this.$navigationLinks.filter('.next').on('click', this.createNavigationLinkClickHandler('next'));\n    this.$navigationLinks.filter('.prev').on('click', this.createNavigationLinkClickHandler('prev'));\n    this.$restartLink.on('click', this.handleRestartLinkClick.bind(this));\n    this.$slideshow.flexslider({\n      animation: 'fade',\n      animationLoop: false,\n      animationSpeed: 0,\n      controlNav: false,\n      directionNav: false,\n      keyboard: true,\n      namespace: 'slides-',\n      slideshow: false,\n      startAt: getInitialSlideIndex(window.location.hash),\n      smoothHeight: true,\n      start: this.render.bind(this),\n      after: this.afterSlideTransition.bind(this),\n    });\n    this.flexSlider = this.$slideshow.data('flexslider');\n  }\n\n  createNavigationLinkClickHandler (direction) {\n    return function (event) {\n      let $element = $(event.currentTarget);\n      event.preventDefault();\n      if (!$element.hasClass('slides-disabled')) {\n        this.flexSlider.flexAnimate(this.flexSlider.getTarget(direction));\n      }\n    }.bind(this);\n  }\n\n  handleRestartLinkClick (event) {\n    event.preventDefault();\n    this.flexSlider.flexslider(0);\n  }\n\n  render () {\n    this.displayCurrentSlideNumber();\n    this.updateNavigationState();\n    this.fillPictures();\n  }\n\n  displayCurrentSlideNumber () {\n    let count = this.flexSlider.count;\n    let currentSlide = this.currentSlideNumber();\n    this.$slideCount.text(`${currentSlide} of ${count}`);\n  }\n\n  currentSlideNumber () {\n    return this.flexSlider.currentSlide + 1;\n  }\n\n  updateNavigationState () {\n    this.$navigationLinks.removeClass('slides-disabled');\n\n    if (this.isOnLastSlide()) {\n      this.disableNextLinks();\n    }\n\n    if (this.isOnFirstSlide()) {\n      this.disablePreviousLinks();\n    }\n  }\n\n  isOnLastSlide () {\n    return this.currentSlideNumber() === this.flexSlider.count;\n  }\n\n  isOnFirstSlide () {\n    return this.currentSlideNumber() === 1;\n  }\n\n  disableNextLinks () {\n    this.$navigationLinks.filter('.next').addClass('slides-disabled');\n  }\n\n  disablePreviousLinks () {\n    this.$navigationLinks.filter('.prev').addClass('slides-disabled');\n  }\n\n  fillPictures () {\n    window.picturefill('.slides li, .endcard .summary');\n  }\n\n  afterSlideTransition () {\n    this.render();\n    this.navigateToNextSlide();\n  }\n\n  navigateToNextSlide () {\n    window.location.hash = `slide${this.currentSlideNumber()}`;\n  }\n}\n\nregisterElement('bulbs-slideshow', BulbsSlideshow);\n\nexport default BulbsSlideshow;\n\n\n\n// WEBPACK FOOTER //\n// ./elements/bulbs-slideshow/bulbs-slideshow.js"],"sourceRoot":""}