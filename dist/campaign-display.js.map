{"version":3,"sources":["webpack:///./elements/campaign-display/campaign-display.js","webpack:///./elements/campaign-display/campaign-display.scss","webpack:///./elements/campaign-display/fields/campaign-field.js","webpack:///./elements/campaign-display/fields/campaign-request-field.js","webpack:///./elements/campaign-display/components/campaign-display-root.js","webpack:///./~/react-addons-create-fragment/index.js","webpack:///./elements/campaign-display/components/logo.js","webpack:///./elements/campaign-display/components/preamble.js","webpack:///./elements/campaign-display/components/sponsor-name.js","webpack:///./elements/campaign-display/components/dfp-pixel.js"],"names":["CampaignDisplay","props","placement","initialDispatch","src","store","actions","fetchCampaign","componentDidUpdate","prevProps","handleFetchComplete","render","state","campaignRequest","networkError","options","nameOnly","logoOnly","noPixel","noLink","displayName","schema","campaign","propTypes","string","isRequired","preambleText","displayPropType","display","CampaignField","response","CampaignRequestField","initialState","requestInFlight","campaignUrl","credentials","success","fetchCampaignSuccess","failure","fetchCampaignFailure","error","fetchCampaignError","requestFailure","CampaignDisplayRoot","hasImageUrl","image_url","hasValidCampaign","pixelComponent","active","id","logoComponent","sponsorNameComponent","preambleTextComponent","defaultComponents","dfpPixel","logo","preamble","sponsorName","logoOnlyComponents","nameOnlyComponents","childComponents","children","clickthrough_url","defaultProps","shape","bool","number","name","Logo","Preamble","text","SponsorName","DfpPixel","componentDidMount","adsManager","window","BULBS_ELEMENTS_ADS_MANAGER","loadAds","refs","container","console","warn","targeting","dfp_placement","dfp_campaign_id","campaignId","JSON","stringify"],"mappings":"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E;AAa9BC,iBAAc,iBAAUF,MAAV,CAAiBC;AAbD,EAAhC;;mBAgBekB,mB;;;;;;;AC1Hf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,sDAAqD;AACrD,MAAK;AACL;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA,2BAA0B;AAC1B;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,yFAAwF,aAAa;AACrG;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;AACA;;AAEA;AACA,gBAAe;AACf;;AAEA;AACA,+FAA8F,eAAe;AAC7G;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;;AAEA;;AAEA;AACA,yCAAwC;;AAExC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wBAAuB;AACvB;;AAEA;AACA,oBAAmB,qBAAqB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B,yCAAyC;AACxE;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK,cAAc;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,QAAO,iCAAiC;;AAExC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qEAAoE;AACpE;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;;;;ACpbA;;;;;;;;;;;;;;KAEqByB,I;;;;;;;;;kBACnBzD,M,qBAAU;AACR,YACE;AAAA;AAAA,SAAK,WAAU,uBAAf;AACE,8CAAK,KAAK,KAAKV,KAAL,CAAW4C,SAArB;AADF,MADF;AAID,I;;;;;mBANkBuB,I;;;AASrBA,MAAK7C,SAAL,GAAiB;AACfsB,cAAW,iBAAUrB,MAAV,CAAiBC,UADb;AAEfN,WAAQ,iBAAU8C;AAFH,EAAjB,C;;;;;;;;;;;;mBCTwBI,Q;;AAFxB;;;;;;AAEe,UAASA,QAAT,CAAmBpE,KAAnB,EAA0B;AACvC,UAAO;AAAA;AAAA,OAAM,WAAU,2BAAhB;AAA6CA,WAAMqE;AAAnD,IAAP;AACD;;AAEDD,UAAS9C,SAAT,GAAqB;AACnB+C,SAAM,iBAAU9C,MAAV,CAAiBC;AADJ,EAArB,C;;;;;;;;;;;;;ACNA;;;;;;;;;;;;;;KAEqB8C,W;;;;;;;;;yBACnB5D,M,qBAAU;AACR,YAAO;AAAA;AAAA,SAAM,WAAU,+BAAhB;AAAiD,YAAKV,KAAL,CAAWkE;AAA5D,MAAP;AACD,I;;;;;mBAHkBI,W;;;AAMrBA,aAAYhD,SAAZ,GAAwB;AACtB4C,SAAM,iBAAU3C,MAAV,CAAiBC,UADD;AAEtBN,WAAQ,iBAAU8C;AAFI,EAAxB,C;;;;;;;;;;;;;ACRA;;;;;;;;;;;;;;KAEqBO,Q;;;;;;;;;sBAEnBC,iB,gCAAqB;AACnB,SAAMC,aAAaC,OAAOC,0BAA1B;AACA,SAAI,OAAOF,UAAP,KAAsB,WAAtB,IACA,OAAOA,WAAWG,OAAlB,KAA8B,UADlC,EAC8C;AAC5CH,kBAAWG,OAAX,CAAmB,KAAKC,IAAL,CAAUC,SAA7B;AACD,MAHD,MAIK;AACHC,eAAQC,IAAR,CACE,qDACA,8DADA,GAEA,sBAHF;AAKD;AACF,I;;sBAEDtE,M,qBAAU;AACR,SAAIuE,YAAY;AACdC,sBAAe,KAAKlF,KAAL,CAAWC,SADZ;AAEdkF,wBAAiB,KAAKnF,KAAL,CAAWoF;AAFd,MAAhB;;AAKA,YACE;AACI,YAAI,WADR;AAEI,kBAAU,KAFd;AAGI,uBAAa,gBAHjB;AAII,yBAAiBC,KAAKC,SAAL,CAAeL,SAAf,CAJrB,GADF;AAQD,I;;;;;mBA/BkBV,Q;;;AAkCrBA,UAASpD,WAAT,GAAuB,UAAvB;;AAEAoD,UAASjD,SAAT,GAAqB;AACnB8D,eAAY,iBAAUnB,MAAV,CAAiBzC,UADV;AAEnBvB,cAAW,iBAAUsB,MAAV,CAAiBC;AAFT,EAArB,C","file":"campaign-display.js","sourcesContent":["import React, { PropTypes } from 'react';\nimport invariant from 'invariant';\n\nimport BulbsElement from 'bulbs-elements/bulbs-element';\nimport { registerReactElement } from 'bulbs-elements/register';\n\nimport './campaign-display.scss';\n\nimport CampaignField from './fields/campaign-field';\nimport CampaignRequest from './fields/campaign-request-field';\nimport CampaignDisplayRoot from './components/campaign-display-root';\n\nclass CampaignDisplay extends BulbsElement {\n  constructor (props) {\n    invariant(!!props.placement, 'campaign-display component requires a placement');\n    super(props);\n  }\n\n  initialDispatch () {\n    if (this.props.src) {\n      this.store.actions.fetchCampaign(this.props.src);\n    }\n  }\n\n  componentDidUpdate (prevProps) {\n    if (this.props.src !== prevProps.src) {\n      this.store.actions.handleFetchComplete(null);\n      this.initialDispatch();\n    }\n  }\n\n  render () {\n    if (this.state.campaignRequest.networkError) {\n      return <span/>;\n    }\n\n    let options = Object.assign({}, this.state, this.props, {\n      nameOnly: typeof this.props.nameOnly === 'string',\n      logoOnly: typeof this.props.logoOnly === 'string',\n      noPixel: typeof this.props.noPixel === 'string',\n      noLink: typeof this.props.noLink === 'string',\n    });\n\n    return (<CampaignDisplayRoot {...options} />);\n  }\n}\n\nObject.assign(CampaignDisplay, {\n  displayName: 'CampaignDisplay',\n  schema: {\n    campaign: CampaignField,\n    campaignRequest: CampaignRequest,\n  },\n  propTypes: {\n    logoOnly: PropTypes.string,\n    nameOnly: PropTypes.string,\n    noLink: PropTypes.string,\n    noPixel: PropTypes.string,\n    placement: PropTypes.string.isRequired,\n    preambleText: PropTypes.string.isRequired,\n    src: PropTypes.string.isRequired,\n  },\n});\n\nregisterReactElement('campaign-display', CampaignDisplay);\n\nexport default CampaignDisplay;\nexport const displayPropType = CampaignDisplay.propTypes.display;\n\n\n\n// WEBPACK FOOTER //\n// ./elements/campaign-display/campaign-display.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./elements/campaign-display/campaign-display.scss\n// module id = 358\n// module chunks = 33","const CampaignField = {\n  actions: {\n    handleFetchComplete (state, response) {\n      return response;\n    },\n  },\n};\n\nexport default CampaignField;\n\n\n\n// WEBPACK FOOTER //\n// ./elements/campaign-display/fields/campaign-field.js","import { makeRequest } from 'bulbs-elements/util';\n\nconst CampaignRequestField = {\n  initialState: {\n    requestInFlight: false,\n  },\n\n  actions: {\n    fetchCampaign (state, campaignUrl, store) {\n      state.requestInFlight = true;\n      makeRequest(campaignUrl, {\n        credentials: 'include',\n        success: (response) => {\n          store.actions.fetchCampaignSuccess(response);\n          store.actions.handleFetchComplete(response);\n        },\n        failure: store.actions.fetchCampaignFailure,\n        error: store.actions.fetchCampaignError,\n      });\n      return state;\n    },\n\n    fetchCampaignSuccess (state) {\n      state.requestInFlight = false;\n    },\n\n    fetchCampaignFailure (state, response) {\n      state.requestInFlight = false;\n      state.requestFailure = response;\n      return state;\n    },\n\n    fetchCampaignError (state, response) {\n      state.requestInFlight = false;\n      state.networkError = response;\n      return state;\n    },\n  },\n};\n\nexport default CampaignRequestField;\n\n\n\n// WEBPACK FOOTER //\n// ./elements/campaign-display/fields/campaign-request-field.js","import React, { PropTypes, Component } from 'react';\nimport createFragment from 'react-addons-create-fragment';\nimport Logo from './logo';\nimport Preamble from './preamble';\nimport SponsorName from './sponsor-name';\nimport DfpPixel from './dfp-pixel';\n\nclass CampaignDisplayRoot extends Component {\n  constructor (props) {\n    super(props);\n  }\n\n  hasImageUrl () {\n    return !!this.props.campaign.image_url;\n  }\n\n  hasValidCampaign () {\n    return !!this.props.campaign;\n  }\n\n  pixelComponent () {\n    if (this.props.noPixel || !this.props.campaign.active) {\n      return '';\n    }\n\n    return <DfpPixel campaignId={this.props.campaign.id} placement={this.props.placement} />;\n  }\n\n  logoComponent () {\n    if (this.props.logoOnly && !this.hasImageUrl()) {\n      return this.sponsorNameComponent();\n    }\n    return <Logo {...this.props.campaign} />;\n  }\n\n  sponsorNameComponent () {\n    return <SponsorName {...this.props.campaign} />;\n  }\n\n  preambleTextComponent () {\n    return <Preamble text={this.props.preambleText}/>;\n  }\n\n  defaultComponents () {\n    return createFragment({\n      dfpPixel: this.pixelComponent(),\n      logo: this.logoComponent(),\n      preamble: this.preambleTextComponent(),\n      sponsorName: this.sponsorNameComponent(),\n    });\n  }\n\n  logoOnlyComponents () {\n    return createFragment({\n      dfpPixel: this.pixelComponent(),\n      preamble: this.preambleTextComponent(),\n      logo: this.logoComponent(),\n    });\n  }\n\n  nameOnlyComponents () {\n    return createFragment({\n      dfpPixel: this.pixelComponent(),\n      preamble: this.preambleTextComponent(),\n      sponsorName: this.sponsorNameComponent(),\n    });\n  }\n\n  childComponents () {\n    let children;\n    if (this.props.logoOnly) {\n      children = this.logoOnlyComponents();\n    }\n    else if (this.props.nameOnly) {\n      children = this.nameOnlyComponents();\n    }\n    else {\n      children = this.defaultComponents();\n    }\n\n    if (this.props.noLink) {\n      return children;\n    }\n\n    return <a href={this.props.campaign.clickthrough_url}>{children}</a>;\n  }\n\n  render () {\n    if (!this.hasValidCampaign()) { return <div className='inactive-campaign'></div>; }\n    return (\n      <div className='campaign-display' data-track-label={this.props.campaign.clickthrough_url}>\n        <div className='campaign-display-inner'>\n          {this.childComponents()}\n        </div>\n      </div>\n    );\n  }\n}\n\nCampaignDisplayRoot.defaultProps = {\n  logoOnly: false,\n  nameOnly: false,\n  noLink: false,\n  noPixel: false,\n};\n\nCampaignDisplayRoot.propTypes = {\n  campaign: PropTypes.shape({\n    active: PropTypes.bool.isRequired,\n    clickthrough_url: PropTypes.string.isRequired,\n    id: PropTypes.number.isRequired,\n    image_url: PropTypes.string,\n    name: PropTypes.string.isRequired,\n  }),\n  logoOnly: PropTypes.bool,\n  nameOnly: PropTypes.bool,\n  noLink: PropTypes.bool,\n  noPixel: PropTypes.bool,\n  placement: PropTypes.string.isRequired,\n  preambleText: PropTypes.string.isRequired,\n};\n\nexport default CampaignDisplayRoot;\n\n\n\n// WEBPACK FOOTER //\n// ./elements/campaign-display/components/campaign-display-root.js","/**\n * Copyright 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule createReactFragment\n */\n\n'use strict';\n\nvar React = require('react');\n\nvar REACT_ELEMENT_TYPE = (typeof Symbol === 'function' &&\n  Symbol.for &&\n  Symbol.for('react.element')) ||\n  0xeac7;\n\nfunction makeEmptyFunction(arg) {\n  return function () {\n    return arg;\n  };\n}\nvar emptyFunction = function emptyFunction() {};\nemptyFunction.thatReturns = makeEmptyFunction;\nemptyFunction.thatReturnsFalse = makeEmptyFunction(false);\nemptyFunction.thatReturnsTrue = makeEmptyFunction(true);\nemptyFunction.thatReturnsNull = makeEmptyFunction(null);\nemptyFunction.thatReturnsThis = function () {\n  return this;\n};\nemptyFunction.thatReturnsArgument = function (arg) {\n  return arg;\n};\n\nvar validateFormat = function validateFormat(format) {};\n\nif (process.env.NODE_ENV !== 'production') {\n  validateFormat = function validateFormat(format) {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  };\n}\n\nfunction invariant(condition, format, a, b, c, d, e, f) {\n  validateFormat(format);\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(format.replace(/%s/g, function () {\n        return args[argIndex++];\n      }));\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n}\n\nvar warning = emptyFunction;\n\nif (process.env.NODE_ENV !== 'production') {\n  (function () {\n    var printWarning = function printWarning(format) {\n      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      var argIndex = 0;\n      var message = 'Warning: ' + format.replace(/%s/g, function () {\n        return args[argIndex++];\n      });\n      if (typeof console !== 'undefined') {\n        console.error(message);\n      }\n      try {\n        // --- Welcome to debugging React ---\n        // This error was thrown as a convenience so that you can use this stack\n        // to find the callsite that caused this warning to fire.\n        throw new Error(message);\n      } catch (x) {}\n    };\n\n    warning = function warning(condition, format) {\n      if (format === undefined) {\n        throw new Error('`warning(condition, format, ...args)` requires a warning ' + 'message argument');\n      }\n\n      if (format.indexOf('Failed Composite propType: ') === 0) {\n        return; // Ignore CompositeComponent proptype check.\n      }\n\n      if (!condition) {\n        for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n          args[_key2 - 2] = arguments[_key2];\n        }\n\n        printWarning.apply(undefined, [format].concat(args));\n      }\n    };\n  })();\n}\n\nvar SEPARATOR = '.';\nvar SUBSEPARATOR = ':';\n\nvar didWarnAboutMaps = false;\n\nvar ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\nvar FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\nfunction getIteratorFn(maybeIterable) {\n  var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n  if (typeof iteratorFn === 'function') {\n    return iteratorFn;\n  }\n}\n\nfunction escape(key) {\n  var escapeRegex = /[=:]/g;\n  var escaperLookup = {\n    '=': '=0',\n    ':': '=2',\n  };\n  var escapedString = ('' + key).replace(escapeRegex, function(match) {\n    return escaperLookup[match];\n  });\n\n  return '$' + escapedString;\n}\n\nfunction getComponentKey(component, index) {\n  // Do some typechecking here since we call this blindly. We want to ensure\n  // that we don't block potential future ES APIs.\n  if (component && typeof component === 'object' && component.key != null) {\n    // Explicit key\n    return escape(component.key);\n  }\n  // Implicit key determined by the index in the set\n  return index.toString(36);\n}\n\nfunction traverseAllChildrenImpl(\n  children,\n  nameSoFar,\n  callback,\n  traverseContext\n) {\n  var type = typeof children;\n\n  if (type === 'undefined' || type === 'boolean') {\n    // All of the above are perceived as null.\n    children = null;\n  }\n\n  if (\n    children === null ||\n    type === 'string' ||\n    type === 'number' ||\n    // The following is inlined from ReactElement. This means we can optimize\n    // some checks. React Fiber also inlines this logic for similar purposes.\n    (type === 'object' && children.$$typeof === REACT_ELEMENT_TYPE)\n  ) {\n    callback(\n      traverseContext,\n      children,\n      // If it's the only child, treat the name as if it was wrapped in an array\n      // so that it's consistent if the number of children grows.\n      nameSoFar === '' ? SEPARATOR + getComponentKey(children, 0) : nameSoFar\n    );\n    return 1;\n  }\n\n  var child;\n  var nextName;\n  var subtreeCount = 0; // Count of children found in the current subtree.\n  var nextNamePrefix = nameSoFar === '' ? SEPARATOR : nameSoFar + SUBSEPARATOR;\n\n  if (Array.isArray(children)) {\n    for (var i = 0; i < children.length; i++) {\n      child = children[i];\n      nextName = nextNamePrefix + getComponentKey(child, i);\n      subtreeCount += traverseAllChildrenImpl(\n        child,\n        nextName,\n        callback,\n        traverseContext\n      );\n    }\n  } else {\n    var iteratorFn = getIteratorFn(children);\n    if (iteratorFn) {\n      if (process.env.NODE_ENV !== \"production\") {\n        // Warn about using Maps as children\n        if (iteratorFn === children.entries) {\n          warning(\n            didWarnAboutMaps,\n            'Using Maps as children is unsupported and will likely yield ' +\n              'unexpected results. Convert it to a sequence/iterable of keyed ' +\n              'ReactElements instead.'\n          );\n          didWarnAboutMaps = true;\n        }\n      }\n\n      var iterator = iteratorFn.call(children);\n      var step;\n      var ii = 0;\n      while (!(step = iterator.next()).done) {\n        child = step.value;\n        nextName = nextNamePrefix + getComponentKey(child, ii++);\n        subtreeCount += traverseAllChildrenImpl(\n          child,\n          nextName,\n          callback,\n          traverseContext\n        );\n      }\n    } else if (type === 'object') {\n      var addendum = '';\n      if (process.env.NODE_ENV !== \"production\") {\n        addendum = ' If you meant to render a collection of children, use an array ' +\n          'instead or wrap the object using createFragment(object) from the ' +\n          'React add-ons.';\n      }\n      var childrenString = '' + children;\n      invariant(\n        false,\n        'Objects are not valid as a React child (found: %s).%s',\n        childrenString === '[object Object]'\n          ? 'object with keys {' + Object.keys(children).join(', ') + '}'\n          : childrenString,\n        addendum\n      );\n    }\n  }\n\n  return subtreeCount;\n}\n\nfunction traverseAllChildren(children, callback, traverseContext) {\n  if (children == null) {\n    return 0;\n  }\n\n  return traverseAllChildrenImpl(children, '', callback, traverseContext);\n}\n\nvar userProvidedKeyEscapeRegex = /\\/+/g;\nfunction escapeUserProvidedKey(text) {\n  return ('' + text).replace(userProvidedKeyEscapeRegex, '$&/');\n}\n\nfunction cloneAndReplaceKey(oldElement, newKey) {\n  return React.cloneElement(\n    oldElement,\n    { key: newKey },\n    oldElement.props !== undefined\n      ? oldElement.props.children\n      : undefined\n  );\n};\n\nvar DEFAULT_POOL_SIZE = 10;\nvar DEFAULT_POOLER = oneArgumentPooler;\n\nvar oneArgumentPooler = function(copyFieldsFrom) {\n  var Klass = this;\n  if (Klass.instancePool.length) {\n    var instance = Klass.instancePool.pop();\n    Klass.call(instance, copyFieldsFrom);\n    return instance;\n  } else {\n    return new Klass(copyFieldsFrom);\n  }\n};\n\nvar addPoolingTo = function(\n  CopyConstructor,\n  pooler\n) {\n  // Casting as any so that flow ignores the actual implementation and trusts\n  // it to match the type we declared\n  var NewKlass = CopyConstructor;\n  NewKlass.instancePool = [];\n  NewKlass.getPooled = pooler || DEFAULT_POOLER;\n  if (!NewKlass.poolSize) {\n    NewKlass.poolSize = DEFAULT_POOL_SIZE;\n  }\n  NewKlass.release = standardReleaser;\n  return NewKlass;\n};\n\nvar standardReleaser = function(instance) {\n  var Klass = this;\n  invariant(\n    instance instanceof Klass,\n    'Trying to release an instance into a pool of a different type.'\n  );\n  instance.destructor();\n  if (Klass.instancePool.length < Klass.poolSize) {\n    Klass.instancePool.push(instance);\n  }\n};\n\nvar fourArgumentPooler = function(a1, a2, a3, a4) {\n  var Klass = this;\n  if (Klass.instancePool.length) {\n    var instance = Klass.instancePool.pop();\n    Klass.call(instance, a1, a2, a3, a4);\n    return instance;\n  } else {\n    return new Klass(a1, a2, a3, a4);\n  }\n};\n\nfunction MapBookKeeping(mapResult, keyPrefix, mapFunction, mapContext) {\n  this.result = mapResult;\n  this.keyPrefix = keyPrefix;\n  this.func = mapFunction;\n  this.context = mapContext;\n  this.count = 0;\n}\nMapBookKeeping.prototype.destructor = function() {\n  this.result = null;\n  this.keyPrefix = null;\n  this.func = null;\n  this.context = null;\n  this.count = 0;\n};\naddPoolingTo(MapBookKeeping, fourArgumentPooler);\n\nfunction mapSingleChildIntoContext(bookKeeping, child, childKey) {\n  var {result, keyPrefix, func, context} = bookKeeping;\n\n  var mappedChild = func.call(context, child, bookKeeping.count++);\n  if (Array.isArray(mappedChild)) {\n    mapIntoWithKeyPrefixInternal(\n      mappedChild,\n      result,\n      childKey,\n      emptyFunction.thatReturnsArgument\n    );\n  } else if (mappedChild != null) {\n    if (React.isValidElement(mappedChild)) {\n      mappedChild = cloneAndReplaceKey(\n        mappedChild,\n        // Keep both the (mapped) and old keys if they differ, just as\n        // traverseAllChildren used to do for objects as children\n        keyPrefix +\n          (mappedChild.key && (!child || child.key !== mappedChild.key)\n            ? escapeUserProvidedKey(mappedChild.key) + '/'\n            : '') +\n          childKey\n      );\n    }\n    result.push(mappedChild);\n  }\n}\n\nfunction mapIntoWithKeyPrefixInternal(children, array, prefix, func, context) {\n  var escapedPrefix = '';\n  if (prefix != null) {\n    escapedPrefix = escapeUserProvidedKey(prefix) + '/';\n  }\n  var traverseContext = MapBookKeeping.getPooled(\n    array,\n    escapedPrefix,\n    func,\n    context\n  );\n  traverseAllChildren(children, mapSingleChildIntoContext, traverseContext);\n  MapBookKeeping.release(traverseContext);\n}\n\nvar numericPropertyRegex = /^\\d+$/;\n\nvar warnedAboutNumeric = false;\n\nfunction createReactFragment(object) {\n  if (typeof object !== 'object' || !object || Array.isArray(object)) {\n    warning(\n      false,\n      'React.addons.createFragment only accepts a single object. Got: %s',\n      object\n    );\n    return object;\n  }\n  if (React.isValidElement(object)) {\n    warning(\n      false,\n      'React.addons.createFragment does not accept a ReactElement ' +\n        'without a wrapper object.'\n    );\n    return object;\n  }\n\n  invariant(\n    object.nodeType !== 1,\n    'React.addons.createFragment(...): Encountered an invalid child; DOM ' +\n      'elements are not valid children of React components.'\n  );\n\n  var result = [];\n\n  for (var key in object) {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (!warnedAboutNumeric && numericPropertyRegex.test(key)) {\n        warning(\n          false,\n          'React.addons.createFragment(...): Child objects should have ' +\n            'non-numeric keys so ordering is preserved.'\n        );\n        warnedAboutNumeric = true;\n      }\n    }\n    mapIntoWithKeyPrefixInternal(\n      object[key],\n      result,\n      key,\n      emptyFunction.thatReturnsArgument\n    );\n  }\n\n  return result;\n}\n\nmodule.exports = createReactFragment;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-addons-create-fragment/index.js\n// module id = 363\n// module chunks = 33","import React, { Component, PropTypes } from 'react';\n\nexport default class Logo extends Component {\n  render () {\n    return (\n      <div className='campaign-display-logo'>\n        <img src={this.props.image_url} />\n      </div>);\n  }\n}\n\nLogo.propTypes = {\n  image_url: PropTypes.string.isRequired,\n  noLink: PropTypes.bool,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./elements/campaign-display/components/logo.js","import React, { PropTypes } from 'react';\n\nexport default function Preamble (props) {\n  return <span className='campaign-display-preamble'>{props.text}</span>;\n}\n\nPreamble.propTypes = {\n  text: PropTypes.string.isRequired,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./elements/campaign-display/components/preamble.js","import React, { PropTypes, Component } from 'react';\n\nexport default class SponsorName extends Component {\n  render () {\n    return <span className='campaign-display-sponsor-name'>{this.props.name}</span>;\n  }\n}\n\nSponsorName.propTypes = {\n  name: PropTypes.string.isRequired,\n  noLink: PropTypes.bool,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./elements/campaign-display/components/sponsor-name.js","import React, { Component, PropTypes } from 'react';\n\nexport default class DfpPixel extends Component {\n\n  componentDidMount () {\n    const adsManager = window.BULBS_ELEMENTS_ADS_MANAGER;\n    if (typeof adsManager !== 'undefined' &&\n        typeof adsManager.loadAds === 'function') {\n      adsManager.loadAds(this.refs.container);\n    }\n    else {\n      console.warn(\n        '<campaign-display> pixel will not trigger since ' +\n        '`window.BULBS_ELEMENTS_ADS_MANAGER` is not configured to an ' +\n        'AdsManager instance.'\n      );\n    }\n  }\n\n  render () {\n    let targeting = {\n      dfp_placement: this.props.placement,\n      dfp_campaign_id: this.props.campaignId,\n    };\n\n    return (\n      <div\n          ref=\"container\"\n          className=\"dfp\"\n          data-ad-unit=\"campaign-pixel\"\n          data-targeting={ JSON.stringify(targeting) }>\n      </div>\n    );\n  }\n}\n\nDfpPixel.displayName = 'DfpPixel';\n\nDfpPixel.propTypes = {\n  campaignId: PropTypes.number.isRequired,\n  placement: PropTypes.string.isRequired,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./elements/campaign-display/components/dfp-pixel.js"],"sourceRoot":""}