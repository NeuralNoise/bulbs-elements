{"version":3,"sources":["webpack:///bulbs-poll.js","webpack:///./elements/bulbs-poll/bulbs-poll.js","webpack:///./~/invariant/browser.js?9520","webpack:///./lib/bulbs-elements/util/index.js?5c63","webpack:///./lib/bulbs-elements/util/in-view-monitor.js?13b0","webpack:///./lib/bulbs-elements/util/copy-attribute.js?be1d","webpack:///./lib/bulbs-elements/util/filter-bad-response.js?fe9e","webpack:///./lib/bulbs-elements/util/get-response-json.js?10ed","webpack:///./lib/bulbs-elements/util/iterate-object.js?e932","webpack:///./lib/bulbs-elements/util/load-on-demand.js?a3d8","webpack:///./lib/bulbs-elements/util/make-request.js?a5a6","webpack:///./~/clone/clone.js?a97b","webpack:///./lib/bulbs-elements/util/move-children.js?6b5f","webpack:///./lib/bulbs-elements/util/supports-calc-in-transform.js?fe9b","webpack:///./lib/bulbs-elements/bulbs-element.js","webpack:///./lib/bulbs-elements/store/index.js","webpack:///./lib/bulbs-elements/store/store.js","webpack:///./elements/bulbs-poll/bulbs-poll-schema.js","webpack:///./elements/bulbs-poll/fields/poll.js","webpack:///./elements/bulbs-poll/fields/selected-answer.js","webpack:///./elements/bulbs-poll/fields/winning-answers.js","webpack:///./elements/bulbs-poll/fields/vote.js","webpack:///./elements/bulbs-poll/fields/src.js","webpack:///./elements/bulbs-poll/fields/now.js","webpack:///./elements/bulbs-poll/components/root.js","webpack:///./elements/bulbs-poll/components/loading.js","webpack:///./elements/bulbs-poll/components/question.js","webpack:///./elements/bulbs-poll/components/cover.js","webpack:///./elements/bulbs-poll/components/answers.js","webpack:///./elements/bulbs-poll/components/answer.js","webpack:///./~/classnames/index.js","webpack:///./elements/bulbs-poll/components/selection-marker.js","webpack:///./elements/bulbs-poll/components/image-answer.js","webpack:///./elements/bulbs-poll/components/vote-button.js","webpack:///./elements/bulbs-poll/components/request-error.js","webpack:///./elements/bulbs-poll/components/results.js","webpack:///./elements/bulbs-poll/components/results-list.js","webpack:///./elements/bulbs-poll/components/result.js","webpack:///./elements/bulbs-poll/components/image-result.js","webpack:///./elements/bulbs-poll/components/ended.js","webpack:///./elements/bulbs-poll/components/coming-soon.js"],"names":["webpackJsonp","0","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_defaults","defaults","keys","Object","getOwnPropertyNames","i","length","key","value","getOwnPropertyDescriptor","configurable","undefined","defineProperty","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","create","constructor","enumerable","writable","setPrototypeOf","_react","_react2","_register","_bulbsElement","_bulbsElement2","_bulbsPollSchema","_bulbsPollSchema2","_root","_root2","BulbsPoll","_BulbsElement","this","apply","arguments","initialDispatch","store","actions","setSrc","props","src","fetchPollData","getCachedVoteData","render","createElement","data-track-action","data","state","displayName","schema","propTypes","PropTypes","string","isRequired","registerReactElement","1","invariant","condition","format","a","b","c","d","e","f","error","Error","args","argIndex","replace","name","framesToPop","178","_inViewMonitor","_inViewMonitor2","_copyAttribute","_copyAttribute2","_filterBadResponse","_filterBadResponse2","_getResponseJson","_getResponseJson2","_iterateObject","_iterateObject2","_loadOnDemand","_loadOnDemand2","_makeRequest","_makeRequest2","_moveChildren","_moveChildren2","_supportsCalcInTransform","_supportsCalcInTransform2","copyAttribute","filterBadResponse","getResponseJSON","InViewMonitor","iterateObject","loadOnDemand","makeRequest","moveChildren","supportsCalcInTransform","179","isElementInViewport","el","options","rect","getBoundingClientRect","bottom","distanceFromTop","right","left","window","innerWidth","document","documentElement","clientWidth","top","innerHeight","clientHeight","distanceFromBottom","inViewId","initialized","animationRequest","monitoredItems","init","addEventListener","handleDisplayMutation","maybeEmitEvent","monitoredItem","inView","element","event","CustomEvent","dispatchEvent","_event","requestAnimationFrame","forEach","add","_bulbsInView","remove","checkElement","180","attribute","from","to","setAttribute","getAttribute","181","response","Promise","resolve","reject","ok","_es6Promise","_es6Promise2","polyfill","182","json","183","object","fn","184","maybeLoadComponents","animationFrameRequested","pendingComponents","maybeLoadComponent","component","shouldComponentLoad","loadComponent","dequeue","refs","sentinel","setState","load","enqueue","push","index","indexOf","splice","wrapped","LoadOnDemand","componentProps","_React$Component","_this","componentDidMount","componentWillUnmount","WrappedComponent","ref","Component","185","url","_invariant2","success","failure","callbacks","requestOptions","_clone2","redirect","fetch","then","promise","status","_clone","_invariant","186","clone","parent","circular","depth","child","proto","__isArray","__isRegExp","RegExp","source","__getRegExpFlags","lastIndex","__isDate","Date","getTime","useBuffer","Buffer","isBuffer","copy","getPrototypeOf","allParents","allChildren","attrs","set","filter","Infinity","__objToStr","o","toString","re","flags","global","ignoreCase","multiline","clonePrototype","187","Array","slice","childNodes","appendChild","188","_document$createEleme","style","transform","202","setImmediate","_store","_store2","BulbsElement","createStore","subscribeComponent","bind","203","204","collectInitialState","initialState","field","flattenActions","fieldKey","action","actionKey","fieldName","type","wrapActions","wrappedActions","dispatchFunction","deliverSubscriptions","components","payload","DEBUG","console","time","priorState","nextState","_extends","priorFieldValue","nextFieldValue","groupCollapsed","timeEnd","log","groupEnd","assign","target","hasOwnProperty","Store","unsubscribeComponent","205","_poll","_poll2","_selectedAnswer","_selectedAnswer2","_winningAnswers","_winningAnswers2","_vote","_vote2","_src","_src2","_now","_now2","PollSchema","poll","selectedAnswer","winningAnswers","vote","now","206","_toConsumableArray","arr","isArray","arr2","parsePoll","published","end_date","_util","_util2","PollField","answers","requestInFlight","setPollTotalVotes","count","total_votes","updateAnswerVoteCount","answer","find","eachAnswer","sodahead_id","id","answerIndex","dataAnswer","totalVotes","concat","credentials","fetchPollDataSuccess","fetchPollDataFailure","fetchPollDataError","collectWinningAnswers","requestFailure","requestError","resetFetchPollData","_null","207","SelectedAnswerField","selectAnswer","208","WinningAnswersField","highScore","209","cacheKey","pollId","VoteField","voted","pollKey","localStorage","getItem","JSON","parse","makeVoteRequest","method","headers","Accept","Content-Type","body","voteRequestSuccess","voteRequestFailure","voteRequestError","setItem","stringify","resetVoteRequest","210","SrcField","211","NowField","212","Root","pollData","pollNotLoaded","pollIsPublished","pollHasEnded","viewerHasVoted","_loading2","_ended2","_results2","_question2","_comingSoon2","_loading","_question","_results","_ended","_comingSoon","213","Loading","className","214","Question","_props$actions","_props$data","_cover2","_requestError2","reset","_answers2","_voteButton2","_cover","_answers","_voteButton","_requestError","215","Cover","question_text","216","Answers","AnswerType","_answer2","listClassName","answer_type","_imageAnswer2","classNames","_classnames2","bulbs-poll-answers-selected","map","_answer","_imageAnswer","_classnames","array","func","217","_selectionMarker","_selectionMarker2","Answer","_props","isSelected","bulbs-poll-answer-selected","data-track-label","onClick","answer_text","218","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","classes","arg","argType","hasOwn","join","219","SelectionMarker","width","height","cx","cy","r","fill","stroke","strokeWidth","bool","220","ImageAnswer","answer_image_url","221","VoteButton","buttonIsDisabled","bulbs-poll-footer","disabled","222","RequestError","_ref","children","node","223","Results","_resultsList2","_resultsList","224","ResultsList","ResultType","_result2","_imageResult2","_result","_imageResult","225","Result","isWinningAnswer","winningAnswer","isVoteAnswer","bulbs-poll-result-winning","bulbs-poll-result-selected","percent","percentResult","toFixed","226","ImageResult","227","Ended","228","ComingSoon","229"],"mappings":"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","file":"bulbs-poll.js","sourcesContent":["webpackJsonp([3],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _react = __webpack_require__(172);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _register = __webpack_require__(2);\n\t\n\tvar _bulbsElement = __webpack_require__(202);\n\t\n\tvar _bulbsElement2 = _interopRequireDefault(_bulbsElement);\n\t\n\tvar _bulbsPollSchema = __webpack_require__(205);\n\t\n\tvar _bulbsPollSchema2 = _interopRequireDefault(_bulbsPollSchema);\n\t\n\tvar _root = __webpack_require__(212);\n\t\n\tvar _root2 = _interopRequireDefault(_root);\n\t\n\t__webpack_require__(229);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }\n\t\n\tvar BulbsPoll = function (_BulbsElement) {\n\t  _inherits(BulbsPoll, _BulbsElement);\n\t\n\t  function BulbsPoll() {\n\t    _classCallCheck(this, BulbsPoll);\n\t\n\t    return _possibleConstructorReturn(this, _BulbsElement.apply(this, arguments));\n\t  }\n\t\n\t  BulbsPoll.prototype.initialDispatch = function initialDispatch() {\n\t    this.store.actions.setSrc(this.props.src);\n\t    this.store.actions.fetchPollData(this.props.src);\n\t    this.store.actions.getCachedVoteData(this.props.src);\n\t  };\n\t\n\t  BulbsPoll.prototype.render = function render() {\n\t    return _react2.default.createElement(\n\t      'div',\n\t      { 'data-track-action': 'Poll' },\n\t      _react2.default.createElement(_root2.default, {\n\t        data: this.state,\n\t        actions: this.store.actions\n\t      })\n\t    );\n\t  };\n\t\n\t  return BulbsPoll;\n\t}(_bulbsElement2.default);\n\t\n\tBulbsPoll.displayName = 'BulbsPoll';\n\t\n\tBulbsPoll.schema = _bulbsPollSchema2.default;\n\t\n\tBulbsPoll.propTypes = {\n\t  src: _react.PropTypes.string.isRequired\n\t};\n\t\n\t(0, _register.registerReactElement)('bulbs-poll', BulbsPoll);\n\n/***/ },\n\n/***/ 1:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Copyright 2013-2015, Facebook, Inc.\n\t * All rights reserved.\n\t *\n\t * This source code is licensed under the BSD-style license found in the\n\t * LICENSE file in the root directory of this source tree. An additional grant\n\t * of patent rights can be found in the PATENTS file in the same directory.\n\t */\n\t\n\t'use strict';\n\t\n\t/**\n\t * Use invariant() to assert state which your program assumes to be true.\n\t *\n\t * Provide sprintf-style format (only %s is supported) and arguments\n\t * to provide information about what broke and what you were\n\t * expecting.\n\t *\n\t * The invariant message will be stripped in production, but the invariant\n\t * will remain to ensure logic does not differ in production.\n\t */\n\t\n\tvar invariant = function(condition, format, a, b, c, d, e, f) {\n\t  if (false) {\n\t    if (format === undefined) {\n\t      throw new Error('invariant requires an error message argument');\n\t    }\n\t  }\n\t\n\t  if (!condition) {\n\t    var error;\n\t    if (format === undefined) {\n\t      error = new Error(\n\t        'Minified exception occurred; use the non-minified dev environment ' +\n\t        'for the full error message and additional helpful warnings.'\n\t      );\n\t    } else {\n\t      var args = [a, b, c, d, e, f];\n\t      var argIndex = 0;\n\t      error = new Error(\n\t        format.replace(/%s/g, function() { return args[argIndex++]; })\n\t      );\n\t      error.name = 'Invariant Violation';\n\t    }\n\t\n\t    error.framesToPop = 1; // we don't care about invariant's own frame\n\t    throw error;\n\t  }\n\t};\n\t\n\tmodule.exports = invariant;\n\n\n/***/ },\n\n/***/ 178:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _inViewMonitor = __webpack_require__(179);\n\t\n\tvar _inViewMonitor2 = _interopRequireDefault(_inViewMonitor);\n\t\n\tvar _copyAttribute = __webpack_require__(180);\n\t\n\tvar _copyAttribute2 = _interopRequireDefault(_copyAttribute);\n\t\n\tvar _filterBadResponse = __webpack_require__(181);\n\t\n\tvar _filterBadResponse2 = _interopRequireDefault(_filterBadResponse);\n\t\n\tvar _getResponseJson = __webpack_require__(182);\n\t\n\tvar _getResponseJson2 = _interopRequireDefault(_getResponseJson);\n\t\n\tvar _iterateObject = __webpack_require__(183);\n\t\n\tvar _iterateObject2 = _interopRequireDefault(_iterateObject);\n\t\n\tvar _loadOnDemand = __webpack_require__(184);\n\t\n\tvar _loadOnDemand2 = _interopRequireDefault(_loadOnDemand);\n\t\n\tvar _makeRequest = __webpack_require__(185);\n\t\n\tvar _makeRequest2 = _interopRequireDefault(_makeRequest);\n\t\n\tvar _moveChildren = __webpack_require__(187);\n\t\n\tvar _moveChildren2 = _interopRequireDefault(_moveChildren);\n\t\n\tvar _supportsCalcInTransform = __webpack_require__(188);\n\t\n\tvar _supportsCalcInTransform2 = _interopRequireDefault(_supportsCalcInTransform);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tmodule.exports = {\n\t  copyAttribute: _copyAttribute2.default,\n\t  filterBadResponse: _filterBadResponse2.default,\n\t  getResponseJSON: _getResponseJson2.default,\n\t  InViewMonitor: _inViewMonitor2.default,\n\t  iterateObject: _iterateObject2.default,\n\t  loadOnDemand: _loadOnDemand2.default,\n\t  makeRequest: _makeRequest2.default,\n\t  moveChildren: _moveChildren2.default,\n\t  supportsCalcInTransform: _supportsCalcInTransform2.default\n\t};\n\n/***/ },\n\n/***/ 179:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar isElementInViewport = function isElementInViewport(el, options) {\n\t  var rect = el.getBoundingClientRect();\n\t\n\t  return rect.bottom > (options.distanceFromTop || 0) && rect.right > 0 && rect.left < (window.innerWidth || document.documentElement.clientWidth) && rect.top < (window.innerHeight || document.documentElement.clientHeight) + (options.distanceFromBottom || 0);\n\t};\n\t\n\tvar inViewId = 0;\n\tvar initialized = false;\n\tvar animationRequest = void 0;\n\tvar monitoredItems = {};\n\t\n\tvar init = function init() {\n\t  if (initialized === false) {\n\t    initialized = true;\n\t    window.addEventListener('scroll', handleDisplayMutation);\n\t    window.addEventListener('resize', handleDisplayMutation);\n\t  }\n\t};\n\t\n\tvar maybeEmitEvent = function maybeEmitEvent(monitoredItem) {\n\t  var inView = isElementInViewport(monitoredItem.element, monitoredItem.options);\n\t  if (inView && monitoredItem.state === 'out') {\n\t    monitoredItem.state = 'in';\n\t    var event = new CustomEvent('enterviewport');\n\t    monitoredItem.element.dispatchEvent(event);\n\t  } else if (!inView && monitoredItem.state === 'in') {\n\t    monitoredItem.state = 'out';\n\t    var _event = new CustomEvent('exitviewport');\n\t    monitoredItem.element.dispatchEvent(_event);\n\t  }\n\t};\n\t\n\tvar handleDisplayMutation = function handleDisplayMutation() {\n\t  if (!animationRequest) {\n\t    animationRequest = requestAnimationFrame(function () {\n\t      animationRequest = null;\n\t      Object.keys(monitoredItems).forEach(function (key) {\n\t        maybeEmitEvent(monitoredItems[key]);\n\t      });\n\t    });\n\t  }\n\t};\n\t\n\texports.default = {\n\t  add: function add(element) {\n\t    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\t\n\t    init();\n\t    if (!element._bulbsInView) {\n\t      element._bulbsInView = ++inViewId;\n\t    }\n\t    monitoredItems[element._bulbsInView] = {\n\t      element: element,\n\t      state: 'out',\n\t      options: options\n\t    };\n\t    maybeEmitEvent(monitoredItems[element._bulbsInView]);\n\t  },\n\t  remove: function remove(element) {\n\t    delete monitoredItems[element._bulbsInView];\n\t  },\n\t  checkElement: function checkElement(element) {\n\t    maybeEmitEvent(monitoredItems[element._bulbsInView]);\n\t  }\n\t};\n\n/***/ },\n\n/***/ 180:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = copyAttribute;\n\tfunction copyAttribute(attribute, from, to) {\n\t  to.setAttribute(attribute, from.getAttribute(attribute));\n\t}\n\n/***/ },\n\n/***/ 181:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = filterBadResponse;\n\t\n\tvar _es6Promise = __webpack_require__(8);\n\t\n\tvar _es6Promise2 = _interopRequireDefault(_es6Promise);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_es6Promise2.default.polyfill();\n\t\n\tfunction filterBadResponse(response) {\n\t  return new Promise(function (resolve, reject) {\n\t    response.ok ? resolve(response) : reject(response);\n\t  });\n\t}\n\n/***/ },\n\n/***/ 182:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = getResponseJSON;\n\tfunction getResponseJSON(response) {\n\t  return response.json();\n\t}\n\n/***/ },\n\n/***/ 183:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tmodule.exports = function iterateObject() {\n\t  var object = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t  var fn = arguments[1];\n\t\n\t  Object.keys(object).forEach(function (key) {\n\t    fn(object[key], key);\n\t  });\n\t};\n\n/***/ },\n\n/***/ 184:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.LoadOnDemand = undefined;\n\texports.default = loadOnDemand;\n\t\n\tvar _react = __webpack_require__(172);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); } /* eslint-disable no-warning-comments */\n\t// The load-on-demand utility attaches global event listeners for\n\t// * resize\n\t// * scroll\n\t//\n\t// These handlers add a callback to requestAnimationFrame. The callback will be\n\t// queued no more than once per frame.\n\t//\n\t// Wrap your component like this:\n\t//\n\t// import { loadOnDemand } from 'bulbs-elements/util'\n\t//\n\t// class ComponentToLoadOnDemand extends React.Component {\n\t//   render () {\n\t//     return <h1> Hoopla </h1>\n\t//   }\n\t// }\n\t//\n\t// export default loadOnDemand(ComponentToLoadOnDemand)\n\t\n\t\n\taddEventListener('resize', maybeLoadComponents);\n\taddEventListener('scroll', maybeLoadComponents, true);\n\t\n\tvar pendingComponents = [];\n\tvar animationFrameRequested = false;\n\t\n\tfunction maybeLoadComponents() {\n\t  if (animationFrameRequested === false) {\n\t    requestAnimationFrame(function () {\n\t      animationFrameRequested = false;\n\t      pendingComponents.forEach(maybeLoadComponent);\n\t    });\n\t    animationFrameRequested = true;\n\t  }\n\t}\n\t\n\tfunction maybeLoadComponent(component) {\n\t  if (shouldComponentLoad(component)) {\n\t    loadComponent(component);\n\t    dequeue(component);\n\t  }\n\t}\n\t\n\tfunction shouldComponentLoad(component) {\n\t  var distanceFromTop = 200;\n\t  var distanceFromBottom = 200;\n\t  // TODO: Make the distance from the bottom and top of the viewport configurable.\n\t  //       Maybe something like this:\n\t  //\n\t  // let {\n\t  //   distanceFromTop,\n\t  //   distanceFromBottom,\n\t  // } = component.props.config;\n\t  //\n\t  // if (typoof distanceFromTop === 'undefined') {\n\t  //   distanceFromTop = 200;\n\t  // }\n\t  //\n\t  // if (typoof distanceFromBottom === 'undefined') {\n\t  //   distanceFromBottom = 200;\n\t  // }\n\t  //\n\t  // This would require altering the function exported at the bottom this file\n\t  // to take a second argument:\n\t  //\n\t  // function (component, config = {}) {}\n\t  //\n\t  // And updating it's render function to pass config into the wrapped component.\n\t  //\n\t  // Something like this:\n\t  //\n\t  // return (\n\t  //   <WrappedComponent\n\t  //     config={config}\n\t  //     component={component}\n\t  //     componentProps={props}\n\t  //   />;\n\t  // );\n\t\n\t  var rect = component.refs.sentinel.getBoundingClientRect();\n\t  return rect.bottom > -distanceFromTop && rect.top < window.innerHeight + distanceFromBottom;\n\t}\n\t\n\tfunction loadComponent(component) {\n\t  component.setState({ load: true });\n\t}\n\t\n\tfunction enqueue(component) {\n\t  pendingComponents.push(component);\n\t}\n\t\n\tfunction dequeue(component) {\n\t  var index = pendingComponents.indexOf(component);\n\t  if (index > -1) {\n\t    pendingComponents.splice(index, 1);\n\t  }\n\t}\n\t\n\tvar LoadOnDemand = exports.LoadOnDemand = function (_React$Component) {\n\t  _inherits(LoadOnDemand, _React$Component);\n\t\n\t  function LoadOnDemand(props) {\n\t    _classCallCheck(this, LoadOnDemand);\n\t\n\t    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\t\n\t    _this.state = { load: false };\n\t    return _this;\n\t  }\n\t\n\t  LoadOnDemand.prototype.componentDidMount = function componentDidMount() {\n\t    enqueue(this);\n\t    maybeLoadComponent(this);\n\t  };\n\t\n\t  LoadOnDemand.prototype.componentWillUnmount = function componentWillUnmount() {\n\t    dequeue(this);\n\t  };\n\t\n\t  LoadOnDemand.prototype.render = function render() {\n\t    var WrappedComponent = this.props.component; // eslint-disable-line react/prop-types\n\t    if (this.state.load) {\n\t      return _react2.default.createElement(WrappedComponent, this.props.componentProps); // eslint-disable-line react/prop-types\n\t    }\n\t\n\t    return _react2.default.createElement('div', { ref: 'sentinel' });\n\t  };\n\t\n\t  return LoadOnDemand;\n\t}(_react2.default.Component);\n\t\n\tfunction loadOnDemand(component) {\n\t  var wrapped = function wrapped(props) {\n\t    // eslint-disable-line react/no-multi-comp\n\t    return _react2.default.createElement(LoadOnDemand, {\n\t      component: component,\n\t      componentProps: props\n\t    });\n\t  };\n\t\n\t  wrapped.displayName = 'LoadOnDemand(' + component.displayName + ')';\n\t  return wrapped;\n\t}\n\n/***/ },\n\n/***/ 185:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = makeRequest;\n\t\n\tvar _clone = __webpack_require__(186);\n\t\n\tvar _clone2 = _interopRequireDefault(_clone);\n\t\n\tvar _invariant = __webpack_require__(1);\n\t\n\tvar _invariant2 = _interopRequireDefault(_invariant);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction makeRequest(url) {\n\t  var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\t\n\t  (0, _invariant2.default)(options.success, 'makeRequest MUST have a success callback');\n\t  (0, _invariant2.default)(options.failure, 'makeRequest MUST have a failure callback');\n\t  (0, _invariant2.default)(options.error, 'makeRequest MUST have an error callback');\n\t\n\t  var success = options.success;\n\t  var failure = options.failure;\n\t  var error = options.error;\n\t\n\t  var callbacks = { success: success, failure: failure, error: error };\n\t  var requestOptions = (0, _clone2.default)(options);\n\t\n\t  // defensively deleting these options\n\t  // so we don't pass them through to fetch\n\t  delete requestOptions.success;\n\t  delete requestOptions.failure;\n\t  delete requestOptions.error;\n\t\n\t  if (!options.redirect) {\n\t    requestOptions.redirect = 'follow';\n\t  }\n\t\n\t  return fetch(url, requestOptions).then(function (response) {\n\t    var promise = void 0;\n\t    if (response.status < 300) {\n\t      promise = response.json().then(callbacks.success);\n\t    } else if (response.status >= 400) {\n\t      promise = response.json().then(callbacks.failure);\n\t    }\n\t    return promise;\n\t  }).catch(callbacks.error);\n\t}\n\n/***/ },\n\n/***/ 186:\n/***/ function(module, exports) {\n\n\tvar clone = (function() {\n\t'use strict';\n\t\n\t/**\n\t * Clones (copies) an Object using deep copying.\n\t *\n\t * This function supports circular references by default, but if you are certain\n\t * there are no circular references in your object, you can save some CPU time\n\t * by calling clone(obj, false).\n\t *\n\t * Caution: if `circular` is false and `parent` contains circular references,\n\t * your program may enter an infinite loop and crash.\n\t *\n\t * @param `parent` - the object to be cloned\n\t * @param `circular` - set to true if the object to be cloned may contain\n\t *    circular references. (optional - true by default)\n\t * @param `depth` - set to a number if the object is only to be cloned to\n\t *    a particular depth. (optional - defaults to Infinity)\n\t * @param `prototype` - sets the prototype to be used when cloning an object.\n\t *    (optional - defaults to parent prototype).\n\t*/\n\tfunction clone(parent, circular, depth, prototype) {\n\t  var filter;\n\t  if (typeof circular === 'object') {\n\t    depth = circular.depth;\n\t    prototype = circular.prototype;\n\t    filter = circular.filter;\n\t    circular = circular.circular\n\t  }\n\t  // maintain two arrays for circular references, where corresponding parents\n\t  // and children have the same index\n\t  var allParents = [];\n\t  var allChildren = [];\n\t\n\t  var useBuffer = typeof Buffer != 'undefined';\n\t\n\t  if (typeof circular == 'undefined')\n\t    circular = true;\n\t\n\t  if (typeof depth == 'undefined')\n\t    depth = Infinity;\n\t\n\t  // recurse this function so we don't reset allParents and allChildren\n\t  function _clone(parent, depth) {\n\t    // cloning null always returns null\n\t    if (parent === null)\n\t      return null;\n\t\n\t    if (depth == 0)\n\t      return parent;\n\t\n\t    var child;\n\t    var proto;\n\t    if (typeof parent != 'object') {\n\t      return parent;\n\t    }\n\t\n\t    if (clone.__isArray(parent)) {\n\t      child = [];\n\t    } else if (clone.__isRegExp(parent)) {\n\t      child = new RegExp(parent.source, __getRegExpFlags(parent));\n\t      if (parent.lastIndex) child.lastIndex = parent.lastIndex;\n\t    } else if (clone.__isDate(parent)) {\n\t      child = new Date(parent.getTime());\n\t    } else if (useBuffer && Buffer.isBuffer(parent)) {\n\t      child = new Buffer(parent.length);\n\t      parent.copy(child);\n\t      return child;\n\t    } else {\n\t      if (typeof prototype == 'undefined') {\n\t        proto = Object.getPrototypeOf(parent);\n\t        child = Object.create(proto);\n\t      }\n\t      else {\n\t        child = Object.create(prototype);\n\t        proto = prototype;\n\t      }\n\t    }\n\t\n\t    if (circular) {\n\t      var index = allParents.indexOf(parent);\n\t\n\t      if (index != -1) {\n\t        return allChildren[index];\n\t      }\n\t      allParents.push(parent);\n\t      allChildren.push(child);\n\t    }\n\t\n\t    for (var i in parent) {\n\t      var attrs;\n\t      if (proto) {\n\t        attrs = Object.getOwnPropertyDescriptor(proto, i);\n\t      }\n\t\n\t      if (attrs && attrs.set == null) {\n\t        continue;\n\t      }\n\t      child[i] = _clone(parent[i], depth - 1);\n\t    }\n\t\n\t    return child;\n\t  }\n\t\n\t  return _clone(parent, depth);\n\t}\n\t\n\t/**\n\t * Simple flat clone using prototype, accepts only objects, usefull for property\n\t * override on FLAT configuration object (no nested props).\n\t *\n\t * USE WITH CAUTION! This may not behave as you wish if you do not know how this\n\t * works.\n\t */\n\tclone.clonePrototype = function clonePrototype(parent) {\n\t  if (parent === null)\n\t    return null;\n\t\n\t  var c = function () {};\n\t  c.prototype = parent;\n\t  return new c();\n\t};\n\t\n\t// private utility functions\n\t\n\tfunction __objToStr(o) {\n\t  return Object.prototype.toString.call(o);\n\t};\n\tclone.__objToStr = __objToStr;\n\t\n\tfunction __isDate(o) {\n\t  return typeof o === 'object' && __objToStr(o) === '[object Date]';\n\t};\n\tclone.__isDate = __isDate;\n\t\n\tfunction __isArray(o) {\n\t  return typeof o === 'object' && __objToStr(o) === '[object Array]';\n\t};\n\tclone.__isArray = __isArray;\n\t\n\tfunction __isRegExp(o) {\n\t  return typeof o === 'object' && __objToStr(o) === '[object RegExp]';\n\t};\n\tclone.__isRegExp = __isRegExp;\n\t\n\tfunction __getRegExpFlags(re) {\n\t  var flags = '';\n\t  if (re.global) flags += 'g';\n\t  if (re.ignoreCase) flags += 'i';\n\t  if (re.multiline) flags += 'm';\n\t  return flags;\n\t};\n\tclone.__getRegExpFlags = __getRegExpFlags;\n\t\n\treturn clone;\n\t})();\n\t\n\tif (typeof module === 'object' && module.exports) {\n\t  module.exports = clone;\n\t}\n\n\n/***/ },\n\n/***/ 187:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = moveChildren;\n\tfunction moveChildren(from, to) {\n\t  Array.prototype.forEach.call(Array.prototype.slice.call(from.childNodes), function (child) {\n\t    return to.appendChild(child);\n\t  });\n\t}\n\n/***/ },\n\n/***/ 188:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\t// Older versions of IE do not support css calc in transforms.\n\t// We can detect this feature by setting the transform style of\n\t// an element to a calc string. In non-supporting browsers, further\n\t// reads of this property will return an empty string.\n\tvar _document$createEleme = document.createElement('div');\n\t\n\tvar style = _document$createEleme.style;\n\t\n\tstyle.transform = 'translateX(calc(100% - 10px))';\n\t\n\t// This CANNOT be checked in the assignment expression.\n\t// non-supporting browsers will return the string with calc\n\t// from the assignment, and then the empty string on access.\n\texports.default = style.transform !== '';\n\n/***/ },\n\n/***/ 202:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(setImmediate) {'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _react = __webpack_require__(172);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _store = __webpack_require__(203);\n\t\n\tvar _store2 = _interopRequireDefault(_store);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }\n\t\n\tvar BulbsElement = function (_React$Component) {\n\t  _inherits(BulbsElement, _React$Component);\n\t\n\t  function BulbsElement(props) {\n\t    _classCallCheck(this, BulbsElement);\n\t\n\t    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\t\n\t    _this.store = _this.createStore();\n\t    if (_this.store) {\n\t      _this.store.subscribeComponent(_this);\n\t      setImmediate(_this.initialDispatch.bind(_this));\n\t    }\n\t    return _this;\n\t  }\n\t\n\t  BulbsElement.prototype.createStore = function createStore() {\n\t    var store = void 0;\n\t    if (this.constructor.schema) {\n\t      store = new _store2.default({\n\t        schema: this.constructor.schema\n\t      });\n\t    }\n\t    return store;\n\t  };\n\t\n\t  BulbsElement.prototype.initialDispatch = function initialDispatch() {};\n\t\n\t  return BulbsElement;\n\t}(_react2.default.Component);\n\t\n\texports.default = BulbsElement;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(3).setImmediate))\n\n/***/ },\n\n/***/ 203:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _store = __webpack_require__(204);\n\t\n\tvar _store2 = _interopRequireDefault(_store);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\texports.default = _store2.default;\n\n/***/ },\n\n/***/ 204:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _clone = __webpack_require__(186);\n\t\n\tvar _clone2 = _interopRequireDefault(_clone);\n\t\n\tvar _iterateObject = __webpack_require__(183);\n\t\n\tvar _iterateObject2 = _interopRequireDefault(_iterateObject);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar DEBUG = false; // placeholder for real implementation\n\t\n\tvar Store = function () {\n\t  function Store(options) {\n\t    _classCallCheck(this, Store);\n\t\n\t    this.actions = wrapActions(options.schema, this);\n\t    this.state = collectInitialState(options.schema);\n\t    this.components = [];\n\t    if (DEBUG) {\n\t      console.log('%cCREATED STORE', 'color:green');\n\t    }\n\t  }\n\t\n\t  Store.prototype.subscribeComponent = function subscribeComponent(component) {\n\t    this.components.push(component);\n\t    component.state = this.state;\n\t  };\n\t\n\t  Store.prototype.unsubscribeComponent = function unsubscribeComponent(component) {\n\t    var index = this.components.indexOf(component);\n\t    if (index > -1) {\n\t      this.components.splice(index, 1);\n\t    }\n\t  };\n\t\n\t  return Store;\n\t}();\n\t\n\texports.default = Store;\n\t\n\t\n\tfunction collectInitialState(schema) {\n\t  var initialState = {};\n\t  (0, _iterateObject2.default)(schema, function (field, key) {\n\t    initialState[key] = (0, _clone2.default)(field.initialState);\n\t  });\n\t  return initialState;\n\t}\n\t\n\tfunction flattenActions(schema) {\n\t  var actions = {};\n\t  (0, _iterateObject2.default)(schema, function (field, fieldKey) {\n\t    (0, _iterateObject2.default)(field.actions, function (action, actionKey) {\n\t      action.fieldName = fieldKey;\n\t      action.type = actionKey;\n\t      actions[actionKey] = action;\n\t    });\n\t  });\n\t\n\t  return actions;\n\t}\n\t\n\tfunction wrapActions(schema, store) {\n\t  var actions = flattenActions(schema);\n\t  var wrappedActions = {};\n\t  (0, _iterateObject2.default)(actions, function (action, actionKey) {\n\t    wrappedActions[actionKey] = dispatchFunction.bind(null, store, action);\n\t  });\n\t  return wrappedActions;\n\t}\n\t\n\tfunction deliverSubscriptions(store) {\n\t  store.components.forEach(function (component) {\n\t    component.setState(store.state);\n\t  });\n\t}\n\t\n\tfunction dispatchFunction(store, action, payload) {\n\t  if (DEBUG) {\n\t    console.time('dispatch ' + action.type);\n\t  }\n\t\n\t  var priorState = store.state;\n\t  var nextState = _extends({}, priorState);\n\t  var priorFieldValue = priorState[action.fieldName];\n\t  var nextFieldValue = (0, _clone2.default)(priorFieldValue);\n\t\n\t  nextState[action.fieldName] = action(nextFieldValue, payload, store);\n\t\n\t  // HACK : workaround for broken state modification\n\t  if (typeof nextState[action.fieldName] !== 'undefined') {\n\t    store.state = nextState;\n\t  }\n\t\n\t  deliverSubscriptions(store);\n\t\n\t  if (DEBUG) {\n\t    console.groupCollapsed('DISPATCH %c' + action.type + ' %c=> %c' + action.fieldName, 'color:green', 'color:auto', 'color:blue');\n\t    console.timeEnd('dispatch ' + action.type);\n\t    console.log('PAYLOAD: ', payload);\n\t    console.log('PREV VALUE: ', priorFieldValue);\n\t    console.log('NEXT VALUE: ', nextFieldValue);\n\t    console.log('PREV STORE: ', priorState);\n\t    console.log('NEXT STORE: ', nextState);\n\t    console.groupEnd();\n\t  }\n\t}\n\n/***/ },\n\n/***/ 205:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _poll = __webpack_require__(206);\n\t\n\tvar _poll2 = _interopRequireDefault(_poll);\n\t\n\tvar _selectedAnswer = __webpack_require__(207);\n\t\n\tvar _selectedAnswer2 = _interopRequireDefault(_selectedAnswer);\n\t\n\tvar _winningAnswers = __webpack_require__(208);\n\t\n\tvar _winningAnswers2 = _interopRequireDefault(_winningAnswers);\n\t\n\tvar _vote = __webpack_require__(209);\n\t\n\tvar _vote2 = _interopRequireDefault(_vote);\n\t\n\tvar _src = __webpack_require__(210);\n\t\n\tvar _src2 = _interopRequireDefault(_src);\n\t\n\tvar _now = __webpack_require__(211);\n\t\n\tvar _now2 = _interopRequireDefault(_now);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar PollSchema = {\n\t  poll: _poll2.default,\n\t  selectedAnswer: _selectedAnswer2.default,\n\t  winningAnswers: _winningAnswers2.default,\n\t  vote: _vote2.default,\n\t  src: _src2.default,\n\t  now: _now2.default\n\t};\n\t\n\texports.default = PollSchema;\n\n/***/ },\n\n/***/ 206:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(setImmediate) {'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _util = __webpack_require__(178);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction parsePoll(poll) {\n\t  if (poll.published) {\n\t    poll.published = new Date(poll.published);\n\t  }\n\t\n\t  if (poll.end_date) {\n\t    poll.end_date = new Date(poll.end_date);\n\t  }\n\t\n\t  return poll;\n\t}\n\t\n\tvar PollField = {\n\t  initialState: {\n\t    data: {\n\t      answers: []\n\t    },\n\t    requestInFlight: false\n\t  },\n\t  actions: {\n\t    setPollTotalVotes: function setPollTotalVotes(state, count) {\n\t      state.data.total_votes = count;\n\t      return state;\n\t    },\n\t    updateAnswerVoteCount: function updateAnswerVoteCount(state, vote) {\n\t      var answer = state.data.answers.find(function (eachAnswer) {\n\t        return eachAnswer.sodahead_id === vote.answer.id;\n\t      });\n\t\n\t      var answerIndex = void 0;\n\t      state.data.answers.forEach(function (dataAnswer, index) {\n\t        if (dataAnswer.id === answer.id) {\n\t          answerIndex = index;\n\t        }\n\t      });\n\t      answer.total_votes = vote.answer.totalVotes;\n\t      state.data.answers = [].concat(_toConsumableArray(state.data.answers.slice(0, answerIndex)), [answer], _toConsumableArray(state.data.answers.slice(answerIndex + 1)));\n\t\n\t      return state;\n\t    },\n\t    fetchPollData: function fetchPollData(state, src, store) {\n\t      src || (src = store.src);\n\t      store.src = src;\n\t      _util2.default.makeRequest(src, {\n\t        credentials: 'include',\n\t        success: store.actions.fetchPollDataSuccess,\n\t        failure: store.actions.fetchPollDataFailure,\n\t        error: store.actions.fetchPollDataError\n\t      });\n\t      state.requestInFlight = true;\n\t      return state;\n\t    },\n\t    fetchPollDataSuccess: function fetchPollDataSuccess(state, data, store) {\n\t      state.data = parsePoll(data);\n\t      state.requestInFlight = false;\n\t\n\t      setImmediate(function () {\n\t        store.actions.collectWinningAnswers(store.state.poll.data.answers);\n\t      });\n\t\n\t      return state;\n\t    },\n\t    fetchPollDataFailure: function fetchPollDataFailure(state, failure) {\n\t      state.requestFailure = failure;\n\t      state.requestInFlight = false;\n\t      return state;\n\t    },\n\t    fetchPollDataError: function fetchPollDataError(state, error) {\n\t      state.requestError = error;\n\t      state.requestInFlight = false;\n\t      return state;\n\t    },\n\t    resetFetchPollData: function resetFetchPollData(state, _null, store) {\n\t      state.requestInFlight = false;\n\t      delete state.requestFailure;\n\t      delete state.requestError;\n\t      setImmediate(store.actions.fetchPollData);\n\t      return state;\n\t    }\n\t  }\n\t};\n\t\n\texports.default = PollField;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(3).setImmediate))\n\n/***/ },\n\n/***/ 207:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar SelectedAnswerField = {\n\t  initialState: {},\n\t  actions: {\n\t    selectAnswer: function selectAnswer(state, answer) {\n\t      return state && state.id === answer.id ? {} : answer;\n\t    }\n\t  }\n\t};\n\t\n\texports.default = SelectedAnswerField;\n\n/***/ },\n\n/***/ 208:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar WinningAnswersField = {\n\t  initialState: [],\n\t  actions: {\n\t    collectWinningAnswers: function collectWinningAnswers(state) {\n\t      var answers = arguments.length <= 1 || arguments[1] === undefined ? [] : arguments[1];\n\t\n\t      var highScore = 0;\n\t      var winningAnswers = [];\n\t\n\t      answers.forEach(function (eachAnswer) {\n\t        if (eachAnswer.total_votes === highScore) {\n\t          winningAnswers.push(eachAnswer);\n\t        } else if (eachAnswer.total_votes > highScore) {\n\t          highScore = eachAnswer.total_votes;\n\t          winningAnswers = [eachAnswer];\n\t        }\n\t      });\n\t\n\t      return winningAnswers;\n\t    }\n\t  }\n\t};\n\t\n\texports.default = WinningAnswersField;\n\n/***/ },\n\n/***/ 209:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(setImmediate) {'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _util = __webpack_require__(178);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction cacheKey(pollId) {\n\t  return 'bulbs-poll:' + pollId + ':vote';\n\t}\n\t\n\tvar VoteField = {\n\t  initialState: {\n\t    voted: false\n\t  },\n\t  actions: {\n\t    getCachedVoteData: function getCachedVoteData(state, pollKey) {\n\t      var value = localStorage.getItem(cacheKey(pollKey));\n\t      if (value) {\n\t        state.voted = true;\n\t        state.data = JSON.parse(value);\n\t      }\n\t      return state;\n\t    },\n\t    makeVoteRequest: function makeVoteRequest(state, answer, store) {\n\t      var poll = store.state.poll;\n\t\n\t      var url = 'https://onion.sodahead.com/api/polls/' + poll.data.sodahead_id + '/vote/';\n\t      _util2.default.makeRequest(url, {\n\t        method: 'post',\n\t        headers: {\n\t          'Accept': 'application/json',\n\t          'Content-Type': 'application/json'\n\t        },\n\t        body: 'answer=' + answer.sodahead_id,\n\t        success: store.actions.voteRequestSuccess,\n\t        failure: store.actions.voteRequestFailure,\n\t        error: store.actions.voteRequestError\n\t      });\n\t\n\t      state.requestInFlight = true;\n\t      return state;\n\t    },\n\t    voteRequestSuccess: function voteRequestSuccess(state, data, store) {\n\t      localStorage.setItem(cacheKey(store.state.src), JSON.stringify(data.vote));\n\t      setImmediate(function () {\n\t        store.actions.setPollTotalVotes(data.poll.totalVotes);\n\t        store.actions.updateAnswerVoteCount(data.vote);\n\t        store.actions.collectWinningAnswers(store.state.poll.data.answers);\n\t      });\n\t      state.voted = true;\n\t      state.data = data.vote;\n\t      state.requestInFlight = false;\n\t      return state;\n\t    },\n\t    voteRequestFailure: function voteRequestFailure(state, failure) {\n\t      state.requestFailure = failure;\n\t      state.requestInFlight = false;\n\t      return state;\n\t    },\n\t    voteRequestError: function voteRequestError(state, error) {\n\t      state.requestInFlight = false;\n\t      state.requestError = error;\n\t      return state;\n\t    },\n\t    resetVoteRequest: function resetVoteRequest(state) {\n\t      state.requestInFlight = false;\n\t      delete state.requestFailure;\n\t      delete state.requestError;\n\t      return state;\n\t    }\n\t  }\n\t};\n\t\n\texports.default = VoteField;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(3).setImmediate))\n\n/***/ },\n\n/***/ 210:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar SrcField = {\n\t  initialState: '',\n\t  actions: {\n\t    setSrc: function setSrc(state, src) {\n\t      return src;\n\t    }\n\t  }\n\t};\n\t\n\texports.default = SrcField;\n\n/***/ },\n\n/***/ 211:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar NowField = {\n\t  initialState: new Date()\n\t};\n\t\n\texports.default = NowField;\n\n/***/ },\n\n/***/ 212:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = Root;\n\t\n\tvar _react = __webpack_require__(172);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _loading = __webpack_require__(213);\n\t\n\tvar _loading2 = _interopRequireDefault(_loading);\n\t\n\tvar _question = __webpack_require__(214);\n\t\n\tvar _question2 = _interopRequireDefault(_question);\n\t\n\tvar _results = __webpack_require__(223);\n\t\n\tvar _results2 = _interopRequireDefault(_results);\n\t\n\tvar _ended = __webpack_require__(227);\n\t\n\tvar _ended2 = _interopRequireDefault(_ended);\n\t\n\tvar _comingSoon = __webpack_require__(228);\n\t\n\tvar _comingSoon2 = _interopRequireDefault(_comingSoon);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction Root(props) {\n\t  var pollData = props.data.poll.data;\n\t  var now = props.data.now;\n\t  var pollNotLoaded = !pollData.id;\n\t  var pollIsPublished = pollData.published && pollData.published <= now;\n\t  var pollHasEnded = pollData.end_date && pollData.end_date <= now;\n\t  var viewerHasVoted = props.data.vote.voted;\n\t\n\t  if (pollNotLoaded) {\n\t    return _react2.default.createElement(_loading2.default, null);\n\t  } else if (!pollIsPublished) {\n\t    return _react2.default.createElement(_comingSoon2.default, null);\n\t  } else if (pollHasEnded) {\n\t    return _react2.default.createElement(_ended2.default, {\n\t      data: props.data\n\t    });\n\t  } else if (viewerHasVoted) {\n\t    return _react2.default.createElement(_results2.default, {\n\t      data: props.data\n\t    });\n\t  } else if (pollIsPublished) {\n\t    return _react2.default.createElement(_question2.default, {\n\t      actions: props.actions,\n\t      data: props.data\n\t    });\n\t  }\n\t}\n\t\n\tRoot.propTypes = {\n\t  actions: _react.PropTypes.object.isRequired,\n\t  data: _react.PropTypes.object.isRequired\n\t};\n\n/***/ },\n\n/***/ 213:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = Loading;\n\t\n\tvar _react = __webpack_require__(172);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction Loading() {\n\t  return _react2.default.createElement(\n\t    'div',\n\t    { className: 'bulbs-poll-loading' },\n\t    'Loading Poll...'\n\t  );\n\t}\n\n/***/ },\n\n/***/ 214:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = Question;\n\t\n\tvar _react = __webpack_require__(172);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _cover = __webpack_require__(215);\n\t\n\tvar _cover2 = _interopRequireDefault(_cover);\n\t\n\tvar _answers = __webpack_require__(216);\n\t\n\tvar _answers2 = _interopRequireDefault(_answers);\n\t\n\tvar _voteButton = __webpack_require__(221);\n\t\n\tvar _voteButton2 = _interopRequireDefault(_voteButton);\n\t\n\tvar _requestError = __webpack_require__(222);\n\t\n\tvar _requestError2 = _interopRequireDefault(_requestError);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction Question(props) {\n\t  var _props$actions = props.actions;\n\t  var selectAnswer = _props$actions.selectAnswer;\n\t  var makeVoteRequest = _props$actions.makeVoteRequest;\n\t  var resetFetchPollData = _props$actions.resetFetchPollData;\n\t  var resetVoteRequest = _props$actions.resetVoteRequest;\n\t  var _props$data = props.data;\n\t  var poll = _props$data.poll;\n\t  var selectedAnswer = _props$data.selectedAnswer;\n\t  var vote = _props$data.vote;\n\t\n\t\n\t  return _react2.default.createElement(\n\t    'div',\n\t    null,\n\t    _react2.default.createElement(_cover2.default, { poll: poll }),\n\t    _react2.default.createElement(\n\t      _requestError2.default,\n\t      {\n\t        error: poll.requestError,\n\t        reset: resetFetchPollData\n\t      },\n\t      'Could not connect to network when fetching poll data.'\n\t    ),\n\t    _react2.default.createElement(\n\t      _requestError2.default,\n\t      {\n\t        error: vote.requestError,\n\t        reset: resetVoteRequest\n\t      },\n\t      'Could not connect to network when placing your vote.'\n\t    ),\n\t    _react2.default.createElement(_answers2.default, {\n\t      poll: poll,\n\t      answers: poll.data.answers,\n\t      selectAnswer: selectAnswer,\n\t      selectedAnswer: selectedAnswer\n\t    }),\n\t    _react2.default.createElement(_voteButton2.default, {\n\t      selectedAnswer: selectedAnswer,\n\t      makeVoteRequest: makeVoteRequest\n\t    })\n\t  );\n\t}\n\t\n\tQuestion.propTypes = {\n\t  actions: _react.PropTypes.object.isRequired,\n\t  data: _react.PropTypes.object.isRequired\n\t};\n\n/***/ },\n\n/***/ 215:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = Cover;\n\t\n\tvar _react = __webpack_require__(172);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction Cover(props) {\n\t  var poll = props.poll;\n\t\n\t  return _react2.default.createElement(\n\t    \"header\",\n\t    { className: \"bulbs-poll-cover\" },\n\t    _react2.default.createElement(\n\t      \"h1\",\n\t      { className: \"bulbs-poll-cover-title\" },\n\t      poll.data.question_text\n\t    )\n\t  );\n\t}\n\t\n\tCover.propTypes = {\n\t  poll: _react.PropTypes.object.isRequired\n\t};\n\n/***/ },\n\n/***/ 216:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\texports.default = Answers;\n\t\n\tvar _react = __webpack_require__(172);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _answer = __webpack_require__(217);\n\t\n\tvar _answer2 = _interopRequireDefault(_answer);\n\t\n\tvar _imageAnswer = __webpack_require__(220);\n\t\n\tvar _imageAnswer2 = _interopRequireDefault(_imageAnswer);\n\t\n\tvar _classnames = __webpack_require__(218);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction Answers(props) {\n\t  var AnswerType = _answer2.default;\n\t  var listClassName = 'bulbs-poll-answers';\n\t  if (props.poll.data.answer_type === 'imageText') {\n\t    AnswerType = _imageAnswer2.default;\n\t    listClassName = 'bulbs-poll-image-answers';\n\t  }\n\t\n\t  var classNames = (0, _classnames2.default)(listClassName, {\n\t    'bulbs-poll-answers-selected': props.selectedAnswer.id\n\t  });\n\t\n\t  return _react2.default.createElement(\n\t    'ul',\n\t    { className: classNames },\n\t    props.answers.map(function (answer, index) {\n\t      return _react2.default.createElement(AnswerType, _extends({\n\t        key: index,\n\t        answer: answer\n\t      }, props));\n\t    })\n\t  );\n\t}\n\t\n\tAnswers.propTypes = {\n\t  answers: _react.PropTypes.array.isRequired,\n\t  poll: _react.PropTypes.object.isRequired,\n\t  selectAnswer: _react.PropTypes.func.isRequired,\n\t  selectedAnswer: _react.PropTypes.object.isRequired\n\t};\n\n/***/ },\n\n/***/ 217:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _react = __webpack_require__(172);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _classnames = __webpack_require__(218);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar _selectionMarker = __webpack_require__(219);\n\t\n\tvar _selectionMarker2 = _interopRequireDefault(_selectionMarker);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }\n\t\n\tvar Answer = function (_React$Component) {\n\t  _inherits(Answer, _React$Component);\n\t\n\t  function Answer() {\n\t    _classCallCheck(this, Answer);\n\t\n\t    return _possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n\t  }\n\t\n\t  Answer.prototype.selectAnswer = function selectAnswer() {\n\t    this.props.selectAnswer(this.props.answer);\n\t  };\n\t\n\t  Answer.prototype.render = function render() {\n\t    var _props = this.props;\n\t    var answer = _props.answer;\n\t    var selectedAnswer = _props.selectedAnswer;\n\t\n\t\n\t    var isSelected = answer.id === selectedAnswer.id;\n\t    var className = (0, _classnames2.default)('bulbs-poll-answer', {\n\t      'bulbs-poll-answer-selected': isSelected\n\t    });\n\t\n\t    return _react2.default.createElement(\n\t      'li',\n\t      {\n\t        'data-track-label': 'Option',\n\t        className: className,\n\t        onClick: this.selectAnswer\n\t      },\n\t      _react2.default.createElement(_selectionMarker2.default, { isSelected: isSelected }),\n\t      answer.answer_text\n\t    );\n\t  };\n\t\n\t  return Answer;\n\t}(_react2.default.Component);\n\t\n\texports.default = Answer;\n\t\n\t\n\tAnswer.propTypes = {\n\t  answer: _react.PropTypes.object.isRequired,\n\t  selectAnswer: _react.PropTypes.func.isRequired,\n\t  selectedAnswer: _react.PropTypes.object\n\t};\n\n/***/ },\n\n/***/ 218:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n\t  Copyright (c) 2016 Jed Watson.\n\t  Licensed under the MIT License (MIT), see\n\t  http://jedwatson.github.io/classnames\n\t*/\n\t/* global define */\n\t\n\t(function () {\n\t\t'use strict';\n\t\n\t\tvar hasOwn = {}.hasOwnProperty;\n\t\n\t\tfunction classNames () {\n\t\t\tvar classes = [];\n\t\n\t\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\t\tvar arg = arguments[i];\n\t\t\t\tif (!arg) continue;\n\t\n\t\t\t\tvar argType = typeof arg;\n\t\n\t\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\t\tclasses.push(arg);\n\t\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\t\tclasses.push(classNames.apply(null, arg));\n\t\t\t\t} else if (argType === 'object') {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn classes.join(' ');\n\t\t}\n\t\n\t\tif (typeof module !== 'undefined' && module.exports) {\n\t\t\tmodule.exports = classNames;\n\t\t} else if (true) {\n\t\t\t// register as 'classnames', consistent with npm package name\n\t\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function () {\n\t\t\t\treturn classNames;\n\t\t\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\t} else {\n\t\t\twindow.classNames = classNames;\n\t\t}\n\t}());\n\n\n/***/ },\n\n/***/ 219:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = SelectionMarker;\n\t\n\tvar _react = __webpack_require__(172);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction SelectionMarker(props) {\n\t  var isSelected = props.isSelected;\n\t\n\t\n\t  return _react2.default.createElement(\n\t    \"svg\",\n\t    { width: \"20px\", height: \"20px\" },\n\t    _react2.default.createElement(\"circle\", { cx: \"10\", cy: \"10\", r: \"8\", fill: \"none\", stroke: \"black\", strokeWidth: \"2px\" }),\n\t    _react2.default.createElement(\"circle\", { cx: \"10\", cy: \"10\", r: \"5\", fill: isSelected ? 'black' : 'none' })\n\t  );\n\t}\n\t\n\tSelectionMarker.propTypes = {\n\t  isSelected: _react.PropTypes.bool\n\t};\n\n/***/ },\n\n/***/ 220:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _react = __webpack_require__(172);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _classnames = __webpack_require__(218);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar _selectionMarker = __webpack_require__(219);\n\t\n\tvar _selectionMarker2 = _interopRequireDefault(_selectionMarker);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }\n\t\n\tvar ImageAnswer = function (_React$Component) {\n\t  _inherits(ImageAnswer, _React$Component);\n\t\n\t  function ImageAnswer() {\n\t    _classCallCheck(this, ImageAnswer);\n\t\n\t    return _possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n\t  }\n\t\n\t  ImageAnswer.prototype.selectAnswer = function selectAnswer() {\n\t    this.props.selectAnswer(this.props.answer);\n\t  };\n\t\n\t  ImageAnswer.prototype.render = function render() {\n\t    var _props = this.props;\n\t    var answer = _props.answer;\n\t    var selectedAnswer = _props.selectedAnswer;\n\t\n\t\n\t    var isSelected = answer.id === selectedAnswer.id;\n\t    var className = (0, _classnames2.default)('bulbs-poll-image-answer', {\n\t      'bulbs-poll-answer-selected': isSelected\n\t    });\n\t\n\t    return _react2.default.createElement(\n\t      'li',\n\t      {\n\t        'data-track-label': 'Option',\n\t        className: className,\n\t        onClick: this.selectAnswer\n\t      },\n\t      _react2.default.createElement('img', { src: answer.answer_image_url }),\n\t      _react2.default.createElement(\n\t        'div',\n\t        { className: 'answer-image-text' },\n\t        _react2.default.createElement(_selectionMarker2.default, { isSelected: isSelected }),\n\t        answer.answer_text\n\t      )\n\t    );\n\t  };\n\t\n\t  return ImageAnswer;\n\t}(_react2.default.Component);\n\t\n\texports.default = ImageAnswer;\n\t\n\t\n\tImageAnswer.propTypes = {\n\t  answer: _react.PropTypes.object.isRequired,\n\t  selectAnswer: _react.PropTypes.func.isRequired,\n\t  selectedAnswer: _react.PropTypes.object\n\t};\n\n/***/ },\n\n/***/ 221:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _react = __webpack_require__(172);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _classnames = __webpack_require__(218);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }\n\t\n\tvar VoteButton = function (_React$Component) {\n\t  _inherits(VoteButton, _React$Component);\n\t\n\t  function VoteButton() {\n\t    _classCallCheck(this, VoteButton);\n\t\n\t    return _possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n\t  }\n\t\n\t  VoteButton.prototype.makeVoteRequest = function makeVoteRequest() {\n\t    if (this.props.selectedAnswer) {\n\t      this.props.makeVoteRequest(this.props.selectedAnswer);\n\t    }\n\t  };\n\t\n\t  VoteButton.prototype.render = function render() {\n\t    var selectedAnswer = this.props.selectedAnswer;\n\t\n\t\n\t    var buttonIsDisabled = true;\n\t    if (selectedAnswer && selectedAnswer.id) {\n\t      buttonIsDisabled = false;\n\t    }\n\t\n\t    var classes = (0, _classnames2.default)('bulbs-poll-vote', {\n\t      'bulbs-poll-footer': true\n\t    });\n\t\n\t    return _react2.default.createElement(\n\t      'button',\n\t      {\n\t        'data-track-label': 'Submit',\n\t        className: classes,\n\t        onClick: this.makeVoteRequest,\n\t        disabled: buttonIsDisabled\n\t      },\n\t      'Vote'\n\t    );\n\t  };\n\t\n\t  return VoteButton;\n\t}(_react2.default.Component);\n\t\n\texports.default = VoteButton;\n\t\n\t\n\tVoteButton.propTypes = {\n\t  makeVoteRequest: _react.PropTypes.func,\n\t  selectedAnswer: _react.PropTypes.object\n\t};\n\n/***/ },\n\n/***/ 222:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = RequestError;\n\t\n\tvar _react = __webpack_require__(172);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction RequestError(_ref) {\n\t  var error = _ref.error;\n\t  var children = _ref.children;\n\t  var reset = _ref.reset;\n\t\n\t  if (error) {\n\t    return _react2.default.createElement(\n\t      \"div\",\n\t      { className: \"bulbs-poll-network-error\" },\n\t      _react2.default.createElement(\n\t        \"p\",\n\t        null,\n\t        children\n\t      ),\n\t      _react2.default.createElement(\n\t        \"button\",\n\t        { onClick: reset },\n\t        \"OK\"\n\t      )\n\t    );\n\t  }\n\t\n\t  return _react2.default.createElement(\"div\", null);\n\t}\n\t\n\tRequestError.propTypes = {\n\t  children: _react.PropTypes.node,\n\t  error: _react.PropTypes.object,\n\t  reset: _react.PropTypes.func\n\t};\n\n/***/ },\n\n/***/ 223:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = Results;\n\t\n\tvar _react = __webpack_require__(172);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _classnames = __webpack_require__(218);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar _cover = __webpack_require__(215);\n\t\n\tvar _cover2 = _interopRequireDefault(_cover);\n\t\n\tvar _resultsList = __webpack_require__(224);\n\t\n\tvar _resultsList2 = _interopRequireDefault(_resultsList);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction Results(props) {\n\t  var className = (0, _classnames2.default)('bulbs-poll-results', {});\n\t  var _props$data = props.data;\n\t  var poll = _props$data.poll;\n\t  var winningAnswers = _props$data.winningAnswers;\n\t  var vote = _props$data.vote;\n\t\n\t\n\t  return _react2.default.createElement(\n\t    'div',\n\t    { className: className },\n\t    _react2.default.createElement(_cover2.default, { poll: poll }),\n\t    _react2.default.createElement(_resultsList2.default, {\n\t      poll: poll,\n\t      winningAnswers: winningAnswers,\n\t      vote: vote\n\t    }),\n\t    _react2.default.createElement(\n\t      'div',\n\t      { className: 'bulbs-poll-thank-you bulbs-poll-footer' },\n\t      'Thanks for voting!'\n\t    )\n\t  );\n\t}\n\t\n\tResults.propTypes = {\n\t  data: _react.PropTypes.object.isRequired\n\t};\n\n/***/ },\n\n/***/ 224:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = ResultsList;\n\t\n\tvar _react = __webpack_require__(172);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _result = __webpack_require__(225);\n\t\n\tvar _result2 = _interopRequireDefault(_result);\n\t\n\tvar _imageResult = __webpack_require__(226);\n\t\n\tvar _imageResult2 = _interopRequireDefault(_imageResult);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction ResultsList(props) {\n\t  var poll = props.poll;\n\t  var winningAnswers = props.winningAnswers;\n\t  var vote = props.vote;\n\t\n\t  var ResultType = _result2.default;\n\t  var listClassName = 'bulbs-poll-results-list';\n\t  if (props.poll.data.answer_type === 'imageText') {\n\t    ResultType = _imageResult2.default;\n\t    listClassName = 'bulbs-poll-image-results-list';\n\t  }\n\t  return _react2.default.createElement(\n\t    'ul',\n\t    { className: listClassName },\n\t    poll.data.answers.map(function (answer, index) {\n\t      return _react2.default.createElement(ResultType, {\n\t        key: index,\n\t        answer: answer,\n\t        poll: poll,\n\t        vote: vote,\n\t        winningAnswers: winningAnswers\n\t      });\n\t    })\n\t  );\n\t}\n\t\n\tResultsList.propTypes = {\n\t  poll: _react.PropTypes.object.isRequired,\n\t  vote: _react.PropTypes.object.isRequired,\n\t  winningAnswers: _react.PropTypes.array.isRequired\n\t};\n\n/***/ },\n\n/***/ 225:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = Result;\n\t\n\tvar _react = __webpack_require__(172);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _classnames = __webpack_require__(218);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar _selectionMarker = __webpack_require__(219);\n\t\n\tvar _selectionMarker2 = _interopRequireDefault(_selectionMarker);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction Result(props) {\n\t  var answer = props.answer;\n\t  var poll = props.poll;\n\t  var vote = props.vote;\n\t  var winningAnswers = props.winningAnswers;\n\t\n\t\n\t  var isWinningAnswer = winningAnswers.find(function (winningAnswer) {\n\t    return winningAnswer.sodahead_id === answer.sodahead_id;\n\t  });\n\t\n\t  var isVoteAnswer = !!(vote.data && vote.data.answer.id === answer.sodahead_id);\n\t\n\t  var className = (0, _classnames2.default)('bulbs-poll-result', {\n\t    'bulbs-poll-result-winning': isWinningAnswer,\n\t    'bulbs-poll-result-selected': isVoteAnswer\n\t  });\n\t  var total_votes = answer.total_votes;\n\t\n\t  var percent = void 0;\n\t  if (poll.data.total_votes > 1) {\n\t    percent = total_votes / poll.data.total_votes * 100;\n\t  } else {\n\t    percent = total_votes * 100;\n\t  }\n\t  var percentResult = percent.toFixed(0) + '%';\n\t\n\t  return _react2.default.createElement(\n\t    'li',\n\t    { className: className },\n\t    _react2.default.createElement('div', {\n\t      className: 'bulbs-poll-answer-bar',\n\t      style: { width: percentResult }\n\t    }),\n\t    _react2.default.createElement(\n\t      'div',\n\t      { className: 'bulbs-poll-answer-title' },\n\t      _react2.default.createElement(_selectionMarker2.default, { isSelected: isVoteAnswer }),\n\t      _react2.default.createElement(\n\t        'span',\n\t        { className: 'bulbs-poll-answer-text' },\n\t        answer.answer_text\n\t      ),\n\t      _react2.default.createElement(\n\t        'span',\n\t        { className: 'bulbs-poll-answer-result' },\n\t        percentResult\n\t      )\n\t    )\n\t  );\n\t}\n\t\n\tResult.propTypes = {\n\t  answer: _react.PropTypes.object.isRequired,\n\t  poll: _react.PropTypes.object.isRequired,\n\t  vote: _react.PropTypes.object.isRequired,\n\t  winningAnswers: _react.PropTypes.array.isRequired\n\t};\n\n/***/ },\n\n/***/ 226:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = ImageResult;\n\t\n\tvar _react = __webpack_require__(172);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _classnames = __webpack_require__(218);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar _selectionMarker = __webpack_require__(219);\n\t\n\tvar _selectionMarker2 = _interopRequireDefault(_selectionMarker);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction ImageResult(props) {\n\t  var answer = props.answer;\n\t  var poll = props.poll;\n\t  var vote = props.vote;\n\t  var winningAnswers = props.winningAnswers;\n\t\n\t\n\t  var isWinningAnswer = winningAnswers.find(function (winningAnswer) {\n\t    return winningAnswer.sodahead_id === answer.sodahead_id;\n\t  });\n\t\n\t  var isVoteAnswer = !!(vote.data && vote.data.answer.id === answer.sodahead_id);\n\t\n\t  var className = (0, _classnames2.default)('bulbs-poll-image-result', {\n\t    'bulbs-poll-result-winning': isWinningAnswer,\n\t    'bulbs-poll-result-selected': isVoteAnswer\n\t  });\n\t  var total_votes = answer.total_votes;\n\t\n\t  var percent = void 0;\n\t  if (poll.data.total_votes > 1) {\n\t    percent = total_votes / poll.data.total_votes * 100;\n\t  } else {\n\t    percent = total_votes * 100;\n\t  }\n\t  var percentResult = percent.toFixed(0) + '%';\n\t\n\t  return _react2.default.createElement(\n\t    'li',\n\t    { className: className },\n\t    _react2.default.createElement(\n\t      'div',\n\t      { className: 'result-image-list-item' },\n\t      _react2.default.createElement('div', {\n\t        className: 'bulbs-poll-image-answer-bar',\n\t        style: { height: percentResult }\n\t      }),\n\t      _react2.default.createElement(\n\t        'div',\n\t        { className: 'bulbs-poll-image-answer-title' },\n\t        _react2.default.createElement('img', { src: answer.answer_image_url }),\n\t        _react2.default.createElement(\n\t          'div',\n\t          { className: 'answer-image-text' },\n\t          _react2.default.createElement(_selectionMarker2.default, { isSelected: isVoteAnswer }),\n\t          _react2.default.createElement(\n\t            'span',\n\t            { className: 'bulbs-poll-image-answer-text' },\n\t            answer.answer_text\n\t          )\n\t        )\n\t      )\n\t    ),\n\t    _react2.default.createElement(\n\t      'div',\n\t      { className: 'bulbs-poll-answer-result' },\n\t      percentResult\n\t    )\n\t  );\n\t}\n\t\n\tImageResult.propTypes = {\n\t  answer: _react.PropTypes.object.isRequired,\n\t  poll: _react.PropTypes.object.isRequired,\n\t  vote: _react.PropTypes.object.isRequired,\n\t  winningAnswers: _react.PropTypes.array.isRequired\n\t};\n\n/***/ },\n\n/***/ 227:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = Ended;\n\t\n\tvar _react = __webpack_require__(172);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _cover = __webpack_require__(215);\n\t\n\tvar _cover2 = _interopRequireDefault(_cover);\n\t\n\tvar _resultsList = __webpack_require__(224);\n\t\n\tvar _resultsList2 = _interopRequireDefault(_resultsList);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction Ended(props) {\n\t  var _props$data = props.data;\n\t  var poll = _props$data.poll;\n\t  var winningAnswers = _props$data.winningAnswers;\n\t  var vote = _props$data.vote;\n\t\n\t\n\t  return _react2.default.createElement(\n\t    'div',\n\t    { className: 'bulbs-poll-ended' },\n\t    _react2.default.createElement(_cover2.default, { poll: poll }),\n\t    _react2.default.createElement(_resultsList2.default, {\n\t      poll: poll,\n\t      winningAnswers: winningAnswers,\n\t      vote: vote\n\t    }),\n\t    _react2.default.createElement(\n\t      'div',\n\t      { className: 'bulbs-poll-ended-message bulbs-poll-footer' },\n\t      'Poll Closed'\n\t    )\n\t  );\n\t}\n\t\n\tEnded.propTypes = {\n\t  data: _react.PropTypes.object.isRequired\n\t};\n\n/***/ },\n\n/***/ 228:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = ComingSoon;\n\t\n\tvar _react = __webpack_require__(172);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _voteButton = __webpack_require__(221);\n\t\n\tvar _voteButton2 = _interopRequireDefault(_voteButton);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction ComingSoon() {\n\t  return _react2.default.createElement(\n\t    'div',\n\t    { className: 'bulbs-poll-coming-soon' },\n\t    _react2.default.createElement(\n\t      'div',\n\t      { className: 'bulbs-poll-coming-soon-message' },\n\t      'Poll Coming Soon'\n\t    ),\n\t    _react2.default.createElement(_voteButton2.default, null)\n\t  );\n\t}\n\n/***/ },\n\n/***/ 229:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** bulbs-poll.js\n **/","import React, { PropTypes } from 'react';\nimport { registerReactElement } from 'bulbs-elements/register';\nimport BulbsElement from 'bulbs-elements/bulbs-element';\n\nimport PollSchema from './bulbs-poll-schema';\n\nimport BulbsPollRoot from './components/root';\n\nimport './bulbs-poll.scss';\n\nclass BulbsPoll extends BulbsElement {\n  initialDispatch () {\n    this.store.actions.setSrc(this.props.src);\n    this.store.actions.fetchPollData(this.props.src);\n    this.store.actions.getCachedVoteData(this.props.src);\n  }\n\n  render () {\n    return (\n      <div data-track-action='Poll'>\n        <BulbsPollRoot\n          data={this.state}\n          actions={this.store.actions}\n        />\n      </div>\n    );\n  }\n}\n\nBulbsPoll.displayName = 'BulbsPoll';\n\nBulbsPoll.schema = PollSchema;\n\nBulbsPoll.propTypes = {\n  src: PropTypes.string.isRequired,\n};\n\nregisterReactElement('bulbs-poll', BulbsPoll);\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-poll/bulbs-poll.js\n **/","/**\n * Copyright 2013-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/invariant/browser.js\n ** module id = 1\n ** module chunks = 0 3 5 9 11 14 15 16 17\n **/","import InViewMonitor from './in-view-monitor';\nimport copyAttribute from './copy-attribute';\nimport filterBadResponse from './filter-bad-response';\nimport getResponseJSON from './get-response-json';\nimport iterateObject from './iterate-object';\nimport loadOnDemand from './load-on-demand';\nimport makeRequest from './make-request';\nimport moveChildren from './move-children';\nimport supportsCalcInTransform from './supports-calc-in-transform';\n\nmodule.exports = {\n  copyAttribute,\n  filterBadResponse,\n  getResponseJSON,\n  InViewMonitor,\n  iterateObject,\n  loadOnDemand,\n  makeRequest,\n  moveChildren,\n  supportsCalcInTransform,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/bulbs-elements/util/index.js\n **/","const isElementInViewport = (el, options) => {\n  let rect = el.getBoundingClientRect();\n\n  return rect.bottom > (options.distanceFromTop || 0) &&\n    rect.right > 0 &&\n    rect.left < (window.innerWidth || document.documentElement.clientWidth) &&\n    rect.top < (window.innerHeight || document.documentElement.clientHeight) + (options.distanceFromBottom || 0)\n  ;\n};\n\nlet inViewId = 0;\nlet initialized = false;\nlet animationRequest;\nlet monitoredItems = {};\n\nconst init = () => {\n  if (initialized === false) {\n    initialized = true;\n    window.addEventListener('scroll', handleDisplayMutation);\n    window.addEventListener('resize', handleDisplayMutation);\n  }\n};\n\nconst maybeEmitEvent = (monitoredItem) => {\n  let inView = isElementInViewport(monitoredItem.element, monitoredItem.options);\n  if (inView && monitoredItem.state === 'out') {\n    monitoredItem.state = 'in';\n    let event = new CustomEvent('enterviewport');\n    monitoredItem.element.dispatchEvent(event);\n  }\n  else if (!inView && monitoredItem.state === 'in') {\n    monitoredItem.state = 'out';\n    let event = new CustomEvent('exitviewport');\n    monitoredItem.element.dispatchEvent(event);\n  }\n};\n\nconst handleDisplayMutation = () => {\n  if (!animationRequest) {\n    animationRequest = requestAnimationFrame(() => {\n      animationRequest = null;\n      Object.keys(monitoredItems).forEach((key) => {\n        maybeEmitEvent(monitoredItems[key]);\n      });\n    });\n  }\n};\n\nexport default {\n  add (element, options = {}) {\n    init();\n    if (!element._bulbsInView) {\n      element._bulbsInView = ++inViewId;\n    }\n    monitoredItems[element._bulbsInView] = {\n      element,\n      state: 'out',\n      options,\n    };\n    maybeEmitEvent(monitoredItems[element._bulbsInView]);\n  },\n\n  remove (element) {\n    delete monitoredItems[element._bulbsInView];\n  },\n\n  checkElement (element) {\n    maybeEmitEvent(monitoredItems[element._bulbsInView]);\n  },\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/bulbs-elements/util/in-view-monitor.js\n **/","export default function copyAttribute (attribute, from, to) {\n  to.setAttribute(attribute, from.getAttribute(attribute));\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/bulbs-elements/util/copy-attribute.js\n **/","import es6Promise from 'es6-promise';\nes6Promise.polyfill();\n\nexport default function filterBadResponse (response) {\n  return new Promise((resolve, reject) => {\n    response.ok ? resolve(response) : reject(response);\n  });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/bulbs-elements/util/filter-bad-response.js\n **/","export default function getResponseJSON (response) {\n  return response.json();\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/bulbs-elements/util/get-response-json.js\n **/","module.exports = function iterateObject (object = {}, fn) {\n  Object.keys(object).forEach((key) => {\n    fn(object[key], key);\n  });\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/bulbs-elements/util/iterate-object.js\n **/","/* eslint-disable no-warning-comments */\n// The load-on-demand utility attaches global event listeners for\n// * resize\n// * scroll\n//\n// These handlers add a callback to requestAnimationFrame. The callback will be\n// queued no more than once per frame.\n//\n// Wrap your component like this:\n//\n// import { loadOnDemand } from 'bulbs-elements/util'\n//\n// class ComponentToLoadOnDemand extends React.Component {\n//   render () {\n//     return <h1> Hoopla </h1>\n//   }\n// }\n//\n// export default loadOnDemand(ComponentToLoadOnDemand)\nimport React from 'react';\n\naddEventListener('resize', maybeLoadComponents);\naddEventListener('scroll', maybeLoadComponents, true);\n\nconst pendingComponents = [];\nlet animationFrameRequested = false;\n\nfunction maybeLoadComponents () {\n  if (animationFrameRequested === false) {\n    requestAnimationFrame(() => {\n      animationFrameRequested = false;\n      pendingComponents.forEach(maybeLoadComponent);\n    });\n    animationFrameRequested = true;\n  }\n}\n\nfunction maybeLoadComponent (component) {\n  if (shouldComponentLoad(component)) {\n    loadComponent(component);\n    dequeue(component);\n  }\n}\n\nfunction shouldComponentLoad (component) {\n  let distanceFromTop = 200;\n  let distanceFromBottom = 200;\n  // TODO: Make the distance from the bottom and top of the viewport configurable.\n  //       Maybe something like this:\n  //\n  // let {\n  //   distanceFromTop,\n  //   distanceFromBottom,\n  // } = component.props.config;\n  //\n  // if (typoof distanceFromTop === 'undefined') {\n  //   distanceFromTop = 200;\n  // }\n  //\n  // if (typoof distanceFromBottom === 'undefined') {\n  //   distanceFromBottom = 200;\n  // }\n  //\n  // This would require altering the function exported at the bottom this file\n  // to take a second argument:\n  //\n  // function (component, config = {}) {}\n  //\n  // And updating it's render function to pass config into the wrapped component.\n  //\n  // Something like this:\n  //\n  // return (\n  //   <WrappedComponent\n  //     config={config}\n  //     component={component}\n  //     componentProps={props}\n  //   />;\n  // );\n\n  let rect = component.refs.sentinel.getBoundingClientRect();\n  return rect.bottom > -distanceFromTop && rect.top < window.innerHeight + distanceFromBottom;\n}\n\nfunction loadComponent (component) {\n  component.setState({ load: true });\n}\n\nfunction enqueue (component) {\n  pendingComponents.push(component);\n}\n\nfunction dequeue (component) {\n  let index = pendingComponents.indexOf(component);\n  if (index > -1) {\n    pendingComponents.splice(index, 1);\n  }\n}\n\nexport class LoadOnDemand extends React.Component {\n  constructor (props) {\n    super(props);\n    this.state = { load: false };\n  }\n\n  componentDidMount () {\n    enqueue(this);\n    maybeLoadComponent(this);\n  }\n\n  componentWillUnmount () {\n    dequeue(this);\n  }\n\n  render () {\n    let WrappedComponent = this.props.component; // eslint-disable-line react/prop-types\n    if (this.state.load) {\n      return <WrappedComponent {...this.props.componentProps}/>; // eslint-disable-line react/prop-types\n    }\n\n    return <div ref=\"sentinel\"/>;\n  }\n}\n\nexport default function loadOnDemand (component) {\n  const wrapped = (props) => { // eslint-disable-line react/no-multi-comp\n    return (\n      <LoadOnDemand\n        component={component}\n        componentProps={props}\n      />\n    );\n  };\n\n  wrapped.displayName = `LoadOnDemand(${component.displayName})`;\n  return wrapped;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/bulbs-elements/util/load-on-demand.js\n **/","import cloneObject from 'clone';\nimport invariant from 'invariant';\n\nexport default function makeRequest (url, options = {}) {\n  invariant(options.success, 'makeRequest MUST have a success callback');\n  invariant(options.failure, 'makeRequest MUST have a failure callback');\n  invariant(options.error, 'makeRequest MUST have an error callback');\n\n  let { success, failure, error } = options;\n  let callbacks = { success, failure, error };\n  let requestOptions = cloneObject(options);\n\n  // defensively deleting these options\n  // so we don't pass them through to fetch\n  delete requestOptions.success;\n  delete requestOptions.failure;\n  delete requestOptions.error;\n\n  if (!options.redirect) {\n    requestOptions.redirect = 'follow';\n  }\n\n  return fetch(url, requestOptions)\n    .then((response) => {\n      let promise;\n      if (response.status < 300) {\n        promise = response.json().then(callbacks.success);\n      }\n      else if (response.status >= 400) {\n        promise = response.json().then(callbacks.failure);\n      }\n      return promise;\n    })\n    .catch(callbacks.error);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/bulbs-elements/util/make-request.js\n **/","var clone = (function() {\n'use strict';\n\n/**\n * Clones (copies) an Object using deep copying.\n *\n * This function supports circular references by default, but if you are certain\n * there are no circular references in your object, you can save some CPU time\n * by calling clone(obj, false).\n *\n * Caution: if `circular` is false and `parent` contains circular references,\n * your program may enter an infinite loop and crash.\n *\n * @param `parent` - the object to be cloned\n * @param `circular` - set to true if the object to be cloned may contain\n *    circular references. (optional - true by default)\n * @param `depth` - set to a number if the object is only to be cloned to\n *    a particular depth. (optional - defaults to Infinity)\n * @param `prototype` - sets the prototype to be used when cloning an object.\n *    (optional - defaults to parent prototype).\n*/\nfunction clone(parent, circular, depth, prototype) {\n  var filter;\n  if (typeof circular === 'object') {\n    depth = circular.depth;\n    prototype = circular.prototype;\n    filter = circular.filter;\n    circular = circular.circular\n  }\n  // maintain two arrays for circular references, where corresponding parents\n  // and children have the same index\n  var allParents = [];\n  var allChildren = [];\n\n  var useBuffer = typeof Buffer != 'undefined';\n\n  if (typeof circular == 'undefined')\n    circular = true;\n\n  if (typeof depth == 'undefined')\n    depth = Infinity;\n\n  // recurse this function so we don't reset allParents and allChildren\n  function _clone(parent, depth) {\n    // cloning null always returns null\n    if (parent === null)\n      return null;\n\n    if (depth == 0)\n      return parent;\n\n    var child;\n    var proto;\n    if (typeof parent != 'object') {\n      return parent;\n    }\n\n    if (clone.__isArray(parent)) {\n      child = [];\n    } else if (clone.__isRegExp(parent)) {\n      child = new RegExp(parent.source, __getRegExpFlags(parent));\n      if (parent.lastIndex) child.lastIndex = parent.lastIndex;\n    } else if (clone.__isDate(parent)) {\n      child = new Date(parent.getTime());\n    } else if (useBuffer && Buffer.isBuffer(parent)) {\n      child = new Buffer(parent.length);\n      parent.copy(child);\n      return child;\n    } else {\n      if (typeof prototype == 'undefined') {\n        proto = Object.getPrototypeOf(parent);\n        child = Object.create(proto);\n      }\n      else {\n        child = Object.create(prototype);\n        proto = prototype;\n      }\n    }\n\n    if (circular) {\n      var index = allParents.indexOf(parent);\n\n      if (index != -1) {\n        return allChildren[index];\n      }\n      allParents.push(parent);\n      allChildren.push(child);\n    }\n\n    for (var i in parent) {\n      var attrs;\n      if (proto) {\n        attrs = Object.getOwnPropertyDescriptor(proto, i);\n      }\n\n      if (attrs && attrs.set == null) {\n        continue;\n      }\n      child[i] = _clone(parent[i], depth - 1);\n    }\n\n    return child;\n  }\n\n  return _clone(parent, depth);\n}\n\n/**\n * Simple flat clone using prototype, accepts only objects, usefull for property\n * override on FLAT configuration object (no nested props).\n *\n * USE WITH CAUTION! This may not behave as you wish if you do not know how this\n * works.\n */\nclone.clonePrototype = function clonePrototype(parent) {\n  if (parent === null)\n    return null;\n\n  var c = function () {};\n  c.prototype = parent;\n  return new c();\n};\n\n// private utility functions\n\nfunction __objToStr(o) {\n  return Object.prototype.toString.call(o);\n};\nclone.__objToStr = __objToStr;\n\nfunction __isDate(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Date]';\n};\nclone.__isDate = __isDate;\n\nfunction __isArray(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Array]';\n};\nclone.__isArray = __isArray;\n\nfunction __isRegExp(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object RegExp]';\n};\nclone.__isRegExp = __isRegExp;\n\nfunction __getRegExpFlags(re) {\n  var flags = '';\n  if (re.global) flags += 'g';\n  if (re.ignoreCase) flags += 'i';\n  if (re.multiline) flags += 'm';\n  return flags;\n};\nclone.__getRegExpFlags = __getRegExpFlags;\n\nreturn clone;\n})();\n\nif (typeof module === 'object' && module.exports) {\n  module.exports = clone;\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/clone/clone.js\n ** module id = 186\n ** module chunks = 0 3 11 12 14 15 16 17\n **/","export default function moveChildren (from, to) {\n  Array.prototype.forEach.call(\n    Array.prototype.slice.call(from.childNodes),\n    child => to.appendChild(child)\n  );\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/bulbs-elements/util/move-children.js\n **/","// Older versions of IE do not support css calc in transforms.\n// We can detect this feature by setting the transform style of\n// an element to a calc string. In non-supporting browsers, further\n// reads of this property will return an empty string.\nlet { style } = document.createElement('div');\nstyle.transform = 'translateX(calc(100% - 10px))';\n\n// This CANNOT be checked in the assignment expression.\n// non-supporting browsers will return the string with calc\n// from the assignment, and then the empty string on access.\nexport default style.transform !== '';\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/bulbs-elements/util/supports-calc-in-transform.js\n **/","import React from 'react';\nimport Store from './store';\n\nexport default class BulbsElement extends React.Component {\n  constructor (props) {\n    super(props);\n    this.store = this.createStore();\n    if (this.store) {\n      this.store.subscribeComponent(this);\n      setImmediate(this.initialDispatch.bind(this));\n    }\n  }\n\n  createStore () {\n    let store;\n    if (this.constructor.schema) {\n      store = new Store({\n        schema: this.constructor.schema,\n      });\n    }\n    return store;\n  }\n\n  initialDispatch () { }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/bulbs-elements/bulbs-element.js\n **/","import Store from './store';\nexport default Store;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/bulbs-elements/store/index.js\n **/","import cloneObject from 'clone';\nimport iterateObject from 'bulbs-elements/util/iterate-object';\nconst DEBUG = false; // placeholder for real implementation\n\nexport default class Store {\n  constructor (options) {\n    this.actions = wrapActions(options.schema, this);\n    this.state = collectInitialState(options.schema);\n    this.components = [];\n    if (DEBUG) {\n      console.log('%cCREATED STORE', 'color:green');\n    }\n  }\n\n  subscribeComponent (component) {\n    this.components.push(component);\n    component.state = this.state;\n  }\n\n  unsubscribeComponent (component) {\n    let index = this.components.indexOf(component);\n    if (index > -1) {\n      this.components.splice(index, 1);\n    }\n  }\n}\n\nfunction collectInitialState (schema) {\n  let initialState = {};\n  iterateObject(schema, (field, key) => {\n    initialState[key] = cloneObject(field.initialState);\n  });\n  return initialState;\n}\n\nfunction flattenActions (schema) {\n  let actions = {};\n  iterateObject(schema, (field, fieldKey) => {\n    iterateObject(field.actions, (action, actionKey) => {\n      action.fieldName = fieldKey;\n      action.type = actionKey;\n      actions[actionKey] = action;\n    });\n  });\n\n  return actions;\n}\n\nfunction wrapActions (schema, store) {\n  let actions = flattenActions(schema);\n  let wrappedActions = {};\n  iterateObject(actions, (action, actionKey) => {\n    wrappedActions[actionKey] = dispatchFunction.bind(null, store, action);\n  });\n  return wrappedActions;\n}\n\nfunction deliverSubscriptions (store) {\n  store.components.forEach((component) => {\n    component.setState(store.state);\n  });\n}\n\nfunction dispatchFunction (store, action, payload) {\n  if (DEBUG) {\n    console.time(`dispatch ${action.type}`);\n  }\n\n  let priorState = store.state;\n  let nextState = Object.assign({}, priorState);\n  let priorFieldValue = priorState[action.fieldName];\n  let nextFieldValue = cloneObject(priorFieldValue);\n\n  nextState[action.fieldName] = action(nextFieldValue, payload, store);\n\n  // HACK : workaround for broken state modification\n  if (typeof nextState[action.fieldName] !== 'undefined') {\n    store.state = nextState;\n  }\n\n  deliverSubscriptions(store);\n\n  if (DEBUG) {\n    console.groupCollapsed(\n      `DISPATCH %c${action.type} %c=> %c${action.fieldName}`,\n      'color:green',\n      'color:auto',\n      'color:blue'\n    );\n    console.timeEnd(`dispatch ${action.type}`);\n    console.log('PAYLOAD: ', payload);\n    console.log('PREV VALUE: ', priorFieldValue);\n    console.log('NEXT VALUE: ', nextFieldValue);\n    console.log('PREV STORE: ', priorState);\n    console.log('NEXT STORE: ', nextState);\n    console.groupEnd();\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/bulbs-elements/store/store.js\n **/","import PollField from './fields/poll';\nimport SelectedAnswerField from './fields/selected-answer';\nimport WinningAnswersField from './fields/winning-answers';\nimport VoteField from './fields/vote';\nimport SrcField from './fields/src';\nimport NowField from './fields/now';\n\nconst PollSchema = {\n  poll: PollField,\n  selectedAnswer: SelectedAnswerField,\n  winningAnswers: WinningAnswersField,\n  vote: VoteField,\n  src: SrcField,\n  now: NowField,\n};\n\nexport default PollSchema;\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-poll/bulbs-poll-schema.js\n **/","import util from 'bulbs-elements/util';\n\nfunction parsePoll (poll) {\n  if (poll.published) {\n    poll.published = new Date(poll.published);\n  }\n\n  if (poll.end_date) {\n    poll.end_date = new Date(poll.end_date);\n  }\n\n  return poll;\n}\n\nconst PollField = {\n  initialState: {\n    data: {\n      answers: [],\n    },\n    requestInFlight: false,\n  },\n  actions: {\n    setPollTotalVotes (state, count) {\n      state.data.total_votes = count;\n      return state;\n    },\n    updateAnswerVoteCount (state, vote) {\n      let answer = state.data.answers.find((eachAnswer) => {\n        return eachAnswer.sodahead_id === vote.answer.id;\n      });\n\n      let answerIndex;\n      state.data.answers.forEach((dataAnswer, index) => {\n        if (dataAnswer.id === answer.id) {\n          answerIndex = index;\n        }\n      });\n      answer.total_votes = vote.answer.totalVotes;\n      state.data.answers = [\n        ...state.data.answers.slice(0, answerIndex),\n        answer,\n        ...state.data.answers.slice(answerIndex + 1),\n      ];\n\n      return state;\n    },\n    fetchPollData (state, src, store) {\n      src || (src = store.src);\n      store.src = src;\n      util.makeRequest(src, {\n        credentials: 'include',\n        success: store.actions.fetchPollDataSuccess,\n        failure: store.actions.fetchPollDataFailure,\n        error: store.actions.fetchPollDataError,\n      });\n      state.requestInFlight = true;\n      return state;\n    },\n    fetchPollDataSuccess (state, data, store) {\n      state.data = parsePoll(data);\n      state.requestInFlight = false;\n\n      setImmediate(() => {\n        store.actions.collectWinningAnswers(store.state.poll.data.answers);\n      });\n\n      return state;\n    },\n    fetchPollDataFailure (state, failure) {\n      state.requestFailure = failure;\n      state.requestInFlight = false;\n      return state;\n    },\n    fetchPollDataError (state, error) {\n      state.requestError = error;\n      state.requestInFlight = false;\n      return state;\n    },\n    resetFetchPollData (state, _null, store) {\n      state.requestInFlight = false;\n      delete state.requestFailure;\n      delete state.requestError;\n      setImmediate(store.actions.fetchPollData);\n      return state;\n    },\n  },\n};\n\nexport default PollField;\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-poll/fields/poll.js\n **/","const SelectedAnswerField = {\n  initialState: {},\n  actions: {\n    selectAnswer (state, answer) {\n      return (state && state.id === answer.id) ? {} : answer;\n    },\n  },\n};\n\nexport default SelectedAnswerField;\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-poll/fields/selected-answer.js\n **/","const WinningAnswersField = {\n  initialState: [],\n  actions: {\n    collectWinningAnswers (state, answers = []) {\n      let highScore = 0;\n      let winningAnswers = [];\n\n      answers.forEach((eachAnswer) => {\n        if (eachAnswer.total_votes === highScore) {\n          winningAnswers.push(eachAnswer);\n        }\n        else if (eachAnswer.total_votes > highScore) {\n          highScore = eachAnswer.total_votes;\n          winningAnswers = [eachAnswer];\n        }\n      });\n\n      return winningAnswers;\n    },\n  },\n};\n\nexport default WinningAnswersField;\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-poll/fields/winning-answers.js\n **/","import util from 'bulbs-elements/util';\n\nfunction cacheKey (pollId) {\n  return `bulbs-poll:${pollId}:vote`;\n}\n\nconst VoteField = {\n  initialState: {\n    voted: false,\n  },\n  actions: {\n    getCachedVoteData (state, pollKey) {\n      let value = localStorage.getItem(cacheKey(pollKey));\n      if (value) {\n        state.voted = true;\n        state.data = JSON.parse(value);\n      }\n      return state;\n    },\n    makeVoteRequest (state, answer, store) {\n      let { poll } = store.state;\n      let url = `https://onion.sodahead.com/api/polls/${poll.data.sodahead_id}/vote/`;\n      util.makeRequest(url, {\n        method: 'post',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n        },\n        body: `answer=${answer.sodahead_id}`,\n        success: store.actions.voteRequestSuccess,\n        failure: store.actions.voteRequestFailure,\n        error: store.actions.voteRequestError,\n      });\n\n      state.requestInFlight = true;\n      return state;\n    },\n    voteRequestSuccess (state, data, store) {\n      localStorage.setItem(cacheKey(store.state.src), JSON.stringify(data.vote));\n      setImmediate(() => {\n        store.actions.setPollTotalVotes(data.poll.totalVotes);\n        store.actions.updateAnswerVoteCount(data.vote);\n        store.actions.collectWinningAnswers(store.state.poll.data.answers);\n      });\n      state.voted = true;\n      state.data = data.vote;\n      state.requestInFlight = false;\n      return state;\n    },\n    voteRequestFailure (state, failure) {\n      state.requestFailure = failure;\n      state.requestInFlight = false;\n      return state;\n    },\n    voteRequestError (state, error) {\n      state.requestInFlight = false;\n      state.requestError = error;\n      return state;\n    },\n    resetVoteRequest (state) {\n      state.requestInFlight = false;\n      delete state.requestFailure;\n      delete state.requestError;\n      return state;\n    },\n  },\n};\n\nexport default VoteField;\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-poll/fields/vote.js\n **/","const SrcField = {\n  initialState: '',\n  actions: {\n    setSrc (state, src) {\n      return src;\n    },\n  },\n};\n\nexport default SrcField;\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-poll/fields/src.js\n **/","const NowField = {\n  initialState: new Date(),\n};\n\nexport default NowField;\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-poll/fields/now.js\n **/","import React, { PropTypes } from 'react';\n\nimport PollLoading from './loading';\nimport PollQuestion from './question';\nimport PollResults from './results';\nimport PollEnded from './ended';\nimport ComingSoon from './coming-soon';\n\nexport default function Root (props) {\n  let pollData = props.data.poll.data;\n  let now = props.data.now;\n  let pollNotLoaded = !pollData.id;\n  let pollIsPublished = pollData.published && pollData.published <= now;\n  let pollHasEnded = pollData.end_date && pollData.end_date <= now;\n  let viewerHasVoted = props.data.vote.voted;\n\n  if (pollNotLoaded) {\n    return <PollLoading/>;\n  }\n  else if (!pollIsPublished) {\n    return <ComingSoon/>;\n  }\n  else if (pollHasEnded) {\n    return <PollEnded\n      data={props.data}\n    />;\n  }\n  else if (viewerHasVoted) {\n    return <PollResults\n      data={props.data}\n    />;\n  }\n  else if (pollIsPublished) {\n    return <PollQuestion\n      actions={props.actions}\n      data={props.data}\n    />;\n  }\n}\n\nRoot.propTypes = {\n  actions: PropTypes.object.isRequired,\n  data: PropTypes.object.isRequired,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-poll/components/root.js\n **/","import React from 'react';\n\nexport default function Loading () {\n  return (\n    <div className='bulbs-poll-loading'>\n      Loading Poll...\n    </div>\n  );\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-poll/components/loading.js\n **/","import React, { PropTypes } from 'react';\n\nimport Cover from './cover';\nimport Answers from './answers';\nimport VoteButton from './vote-button';\nimport RequestError from './request-error';\n\nexport default function Question (props) {\n  let {\n    selectAnswer,\n    makeVoteRequest,\n    resetFetchPollData,\n    resetVoteRequest,\n  } = props.actions;\n\n  let {\n    poll,\n    selectedAnswer,\n    vote,\n  } = props.data;\n\n  return (\n    <div>\n      <Cover poll={poll} />\n\n      <RequestError\n        error={poll.requestError}\n        reset={resetFetchPollData}\n      >\n        Could not connect to network when fetching poll data.\n      </RequestError>\n\n      <RequestError\n        error={vote.requestError}\n        reset={resetVoteRequest}\n      >\n        Could not connect to network when placing your vote.\n      </RequestError>\n\n      <Answers\n        poll={poll}\n        answers={poll.data.answers}\n        selectAnswer={selectAnswer}\n        selectedAnswer={selectedAnswer}\n      />\n\n      <VoteButton\n        selectedAnswer={selectedAnswer}\n        makeVoteRequest={makeVoteRequest}\n      />\n    </div>\n  );\n}\n\nQuestion.propTypes = {\n  actions: PropTypes.object.isRequired,\n  data: PropTypes.object.isRequired,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-poll/components/question.js\n **/","import React, { PropTypes } from 'react';\n\nexport default function Cover (props) {\n  let { poll } = props;\n  return (\n    <header className=\"bulbs-poll-cover\">\n      <h1 className=\"bulbs-poll-cover-title\">\n        { poll.data.question_text }\n      </h1>\n    </header>\n  );\n}\n\nCover.propTypes = {\n  poll: PropTypes.object.isRequired,\n};\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-poll/components/cover.js\n **/","import React, { PropTypes } from 'react';\nimport Answer from './answer';\nimport ImageAnswer from './image-answer';\nimport classnames from 'classnames';\n\nexport default function Answers (props) {\n  let AnswerType = Answer;\n  let listClassName = 'bulbs-poll-answers';\n  if (props.poll.data.answer_type === 'imageText') {\n    AnswerType = ImageAnswer;\n    listClassName = 'bulbs-poll-image-answers';\n  }\n\n  let classNames = classnames(listClassName, {\n    'bulbs-poll-answers-selected': props.selectedAnswer.id,\n  });\n\n  return (\n    <ul className={classNames}>\n      {\n        props.answers.map((answer, index) => {\n          return <AnswerType\n            key={index}\n            answer={answer}\n            {...props}\n          />;\n        })\n      }\n    </ul>\n  );\n}\n\nAnswers.propTypes = {\n  answers: PropTypes.array.isRequired,\n  poll: PropTypes.object.isRequired,\n  selectAnswer: PropTypes.func.isRequired,\n  selectedAnswer: PropTypes.object.isRequired,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-poll/components/answers.js\n **/","import React, { PropTypes } from 'react';\nimport classnames from 'classnames';\nimport SelectionMarker from './selection-marker';\n\nexport default class Answer extends React.Component {\n  selectAnswer () {\n    this.props.selectAnswer(this.props.answer);\n  }\n\n  render () {\n    let {\n      answer,\n      selectedAnswer,\n    } = this.props;\n\n    let isSelected = answer.id === selectedAnswer.id;\n    let className = classnames('bulbs-poll-answer', {\n      'bulbs-poll-answer-selected': isSelected,\n    });\n\n    return (\n      <li\n        data-track-label='Option'\n        className={className}\n        onClick={this.selectAnswer}\n      >\n        <SelectionMarker isSelected={isSelected} />\n        { answer.answer_text }\n      </li>\n    );\n  }\n}\n\nAnswer.propTypes = {\n  answer: PropTypes.object.isRequired,\n  selectAnswer: PropTypes.func.isRequired,\n  selectedAnswer: PropTypes.object,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-poll/components/answer.js\n **/","/*!\n  Copyright (c) 2016 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tclasses.push(classNames.apply(null, arg));\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/classnames/index.js\n ** module id = 218\n ** module chunks = 3\n **/","import React, { PropTypes } from 'react';\n\nexport default function SelectionMarker (props) {\n  let {\n    isSelected,\n  } = props;\n\n  return (\n    <svg width=\"20px\" height=\"20px\">\n      <circle cx=\"10\" cy=\"10\" r=\"8\" fill=\"none\" stroke=\"black\" strokeWidth=\"2px\" />\n      <circle cx=\"10\" cy=\"10\" r=\"5\" fill={isSelected ? 'black' : 'none' } />\n    </svg>\n  );\n}\n\nSelectionMarker.propTypes = {\n  isSelected: PropTypes.bool,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-poll/components/selection-marker.js\n **/","import React, { PropTypes } from 'react';\nimport classnames from 'classnames';\nimport SelectionMarker from './selection-marker';\n\nexport default class ImageAnswer extends React.Component {\n  selectAnswer () {\n    this.props.selectAnswer(this.props.answer);\n  }\n\n  render () {\n    let {\n      answer,\n      selectedAnswer,\n    } = this.props;\n\n    let isSelected = answer.id === selectedAnswer.id;\n    let className = classnames('bulbs-poll-image-answer', {\n      'bulbs-poll-answer-selected': isSelected,\n    });\n\n    return (\n      <li\n        data-track-label='Option'\n        className={className}\n        onClick={this.selectAnswer}\n      >\n        <img src={ answer.answer_image_url }/>\n        <div className=\"answer-image-text\">\n          <SelectionMarker isSelected={isSelected} />\n          { answer.answer_text }\n        </div>\n      </li>\n    );\n  }\n}\n\nImageAnswer.propTypes = {\n  answer: PropTypes.object.isRequired,\n  selectAnswer: PropTypes.func.isRequired,\n  selectedAnswer: PropTypes.object,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-poll/components/image-answer.js\n **/","import React, { PropTypes } from 'react';\nimport classnames from 'classnames';\n\nexport default class VoteButton extends React.Component {\n  makeVoteRequest () {\n    if (this.props.selectedAnswer) {\n      this.props.makeVoteRequest(this.props.selectedAnswer);\n    }\n  }\n  render () {\n    let { selectedAnswer } = this.props;\n\n    let buttonIsDisabled = true;\n    if (selectedAnswer && selectedAnswer.id) {\n      buttonIsDisabled = false;\n    }\n\n    let classes = classnames('bulbs-poll-vote', {\n      'bulbs-poll-footer': true,\n    });\n\n    return (\n      <button\n        data-track-label='Submit'\n        className={classes}\n        onClick={this.makeVoteRequest}\n        disabled={buttonIsDisabled}\n      >\n        Vote\n      </button>\n    );\n  }\n}\n\nVoteButton.propTypes = {\n  makeVoteRequest: PropTypes.func,\n  selectedAnswer: PropTypes.object,\n};\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-poll/components/vote-button.js\n **/","import React, { PropTypes } from 'react';\n\nexport default function RequestError ({ error, children, reset }) {\n  if (error) {\n    return (\n      <div className=\"bulbs-poll-network-error\">\n        <p>\n          { children }\n        </p>\n        <button onClick={reset}>OK</button>\n      </div>\n    );\n  }\n\n  return <div />;\n}\n\nRequestError.propTypes = {\n  children: PropTypes.node,\n  error: PropTypes.object,\n  reset: PropTypes.func,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-poll/components/request-error.js\n **/","import React, { PropTypes } from 'react';\nimport classnames from 'classnames';\n\nimport Cover from './cover';\nimport ResultsList from './results-list';\n\nexport default function Results (props) {\n  let className = classnames('bulbs-poll-results', {});\n  let {\n    poll,\n    winningAnswers,\n    vote,\n  } = props.data;\n\n  return (\n    <div className={className}>\n      <Cover poll={poll} />\n      <ResultsList\n        poll={poll}\n        winningAnswers={winningAnswers}\n        vote={vote}\n      />\n      <div className='bulbs-poll-thank-you bulbs-poll-footer'>\n        Thanks for voting!\n      </div>\n    </div>\n  );\n}\n\nResults.propTypes = {\n  data: PropTypes.object.isRequired,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-poll/components/results.js\n **/","import React, { PropTypes } from 'react';\nimport Result from './result';\nimport ImageResult from './image-result';\n\nexport default function ResultsList (props) {\n  let {\n    poll,\n    winningAnswers,\n    vote,\n  } = props;\n  let ResultType = Result;\n  let listClassName = 'bulbs-poll-results-list';\n  if(props.poll.data.answer_type === 'imageText') {\n    ResultType = ImageResult;\n    listClassName = 'bulbs-poll-image-results-list';\n  }\n  return (\n    <ul className={listClassName}>\n      {\n        poll.data.answers.map((answer, index) => {\n          return <ResultType\n            key={index}\n            answer={answer}\n            poll={poll}\n            vote={vote}\n            winningAnswers={winningAnswers}\n          />;\n        })\n      }\n    </ul>\n  );\n}\n\nResultsList.propTypes = {\n  poll: PropTypes.object.isRequired,\n  vote: PropTypes.object.isRequired,\n  winningAnswers: PropTypes.array.isRequired,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-poll/components/results-list.js\n **/","import React, { PropTypes } from 'react';\nimport classnames from 'classnames';\nimport SelectionMarker from './selection-marker';\n\nexport default function Result (props) {\n  let {\n    answer,\n    poll,\n    vote,\n    winningAnswers,\n  } = props;\n\n  let isWinningAnswer = winningAnswers.find((winningAnswer) => {\n    return winningAnswer.sodahead_id === answer.sodahead_id;\n  });\n\n  let isVoteAnswer = !!(vote.data && vote.data.answer.id === answer.sodahead_id);\n\n  let className = classnames('bulbs-poll-result', {\n    'bulbs-poll-result-winning': isWinningAnswer,\n    'bulbs-poll-result-selected': isVoteAnswer,\n  });\n  let { total_votes } = answer;\n  let percent;\n  if(poll.data.total_votes > 1) {\n    percent = (total_votes / poll.data.total_votes) * 100;\n  }\n  else {\n    percent = total_votes * 100;\n  }\n  let percentResult = `${percent.toFixed(0)}%`;\n\n  return (\n    <li className={className}>\n      <div\n        className='bulbs-poll-answer-bar'\n        style={{ width: percentResult }}\n      />\n      <div className='bulbs-poll-answer-title'>\n        <SelectionMarker isSelected={isVoteAnswer}/>\n        <span className='bulbs-poll-answer-text'>\n          { answer.answer_text }\n        </span>\n        <span className='bulbs-poll-answer-result'>\n          { percentResult }\n        </span>\n      </div>\n    </li>\n  );\n}\n\nResult.propTypes = {\n  answer: PropTypes.object.isRequired,\n  poll: PropTypes.object.isRequired,\n  vote: PropTypes.object.isRequired,\n  winningAnswers: PropTypes.array.isRequired,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-poll/components/result.js\n **/","import React, { PropTypes } from 'react';\nimport classnames from 'classnames';\nimport SelectionMarker from './selection-marker';\n\nexport default function ImageResult (props) {\n  let {\n    answer,\n    poll,\n    vote,\n    winningAnswers,\n  } = props;\n\n  let isWinningAnswer = winningAnswers.find((winningAnswer) => {\n    return winningAnswer.sodahead_id === answer.sodahead_id;\n  });\n\n  let isVoteAnswer = !!(vote.data && vote.data.answer.id === answer.sodahead_id);\n\n  let className = classnames('bulbs-poll-image-result', {\n    'bulbs-poll-result-winning': isWinningAnswer,\n    'bulbs-poll-result-selected': isVoteAnswer,\n  });\n  let { total_votes } = answer;\n  let percent;\n  if(poll.data.total_votes > 1) {\n    percent = (total_votes / poll.data.total_votes) * 100;\n  }\n  else {\n    percent = total_votes * 100;\n  }\n  let percentResult = `${percent.toFixed(0)}%`;\n\n  return (\n    <li className={className}>\n      <div className=\"result-image-list-item\">\n        <div\n          className='bulbs-poll-image-answer-bar'\n          style={{ height: percentResult }}\n        />\n        <div className='bulbs-poll-image-answer-title'>\n          <img src={ answer.answer_image_url } />\n          <div className=\"answer-image-text\">\n            <SelectionMarker isSelected={isVoteAnswer}/>\n            <span className='bulbs-poll-image-answer-text'>\n              { answer.answer_text }\n            </span>\n          </div>\n        </div>\n      </div>\n      <div className='bulbs-poll-answer-result'>\n        { percentResult }\n      </div>\n    </li>\n  );\n}\n\nImageResult.propTypes = {\n  answer: PropTypes.object.isRequired,\n  poll: PropTypes.object.isRequired,\n  vote: PropTypes.object.isRequired,\n  winningAnswers: PropTypes.array.isRequired,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-poll/components/image-result.js\n **/","import React, { PropTypes } from 'react';\nimport Cover from './cover';\nimport ResultsList from './results-list';\n\nexport default function Ended (props) {\n  let {\n    poll,\n    winningAnswers,\n    vote,\n  } = props.data;\n\n  return (\n    <div className='bulbs-poll-ended'>\n      <Cover poll={poll}/>\n      <ResultsList\n        poll={poll}\n        winningAnswers={winningAnswers}\n        vote={vote}\n      />\n      <div className='bulbs-poll-ended-message bulbs-poll-footer'>\n        Poll Closed\n      </div>\n    </div>\n  );\n}\n\nEnded.propTypes = {\n  data: PropTypes.object.isRequired,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-poll/components/ended.js\n **/","import React from 'react';\nimport VoteButton from './vote-button';\n\nexport default function ComingSoon () {\n  return (\n    <div className='bulbs-poll-coming-soon'>\n      <div className='bulbs-poll-coming-soon-message'>Poll Coming Soon</div>\n      <VoteButton/>\n    </div>\n  );\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-poll/components/coming-soon.js\n **/"],"sourceRoot":""}