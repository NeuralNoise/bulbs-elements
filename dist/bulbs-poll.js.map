{"version":3,"sources":["webpack:///dist/bulbs-poll.js","webpack:///./elements/bulbs-poll/bulbs-poll.js","webpack:///./elements/bulbs-poll/bulbs-poll-schema.js","webpack:///./elements/bulbs-poll/fields/poll.js","webpack:///./lib/bulbs-elements/util/index.js","webpack:///./lib/bulbs-elements/util/make-request.js","webpack:///./~/invariant/browser.js","webpack:///./elements/bulbs-poll/fields/selected-answer.js","webpack:///./elements/bulbs-poll/fields/winning-answers.js","webpack:///./elements/bulbs-poll/fields/vote.js","webpack:///./elements/bulbs-poll/fields/src.js","webpack:///./elements/bulbs-poll/fields/now.js","webpack:///./elements/bulbs-poll/components/root.js","webpack:///./elements/bulbs-poll/components/loading.js","webpack:///./elements/bulbs-poll/components/question.js","webpack:///./elements/bulbs-poll/components/cover.js","webpack:///./elements/bulbs-poll/components/answers.js","webpack:///./elements/bulbs-poll/components/answer.js","webpack:///./elements/bulbs-poll/components/selection-marker.js","webpack:///./elements/bulbs-poll/components/image-answer.js","webpack:///./elements/bulbs-poll/components/vote-button.js","webpack:///./elements/bulbs-poll/components/request-error.js","webpack:///./elements/bulbs-poll/components/results.js","webpack:///./elements/bulbs-poll/components/results-list.js","webpack:///./elements/bulbs-poll/components/result.js","webpack:///./elements/bulbs-poll/components/image-result.js","webpack:///./elements/bulbs-poll/components/ended.js","webpack:///./elements/bulbs-poll/components/coming-soon.js"],"names":["webpackJsonp",0,"module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_defaults","defaults","keys","Object","getOwnPropertyNames","i","length","key","value","getOwnPropertyDescriptor","configurable","undefined","defineProperty","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","create","constructor","enumerable","writable","setPrototypeOf","_react","_react2","_register","_bulbsElement","_bulbsElement2","_bulbsPollSchema","_bulbsPollSchema2","_root","_root2","BulbsPoll","_BulbsElement","this","apply","arguments","initialDispatch","store","actions","setSrc","props","src","fetchPollData","getCachedVoteData","render","createElement","data-track-action","data","state","displayName","schema","propTypes","PropTypes","string","isRequired","registerReactElement",184,"_poll","_poll2","_selectedAnswer","_selectedAnswer2","_winningAnswers","_winningAnswers2","_vote","_vote2","_src","_src2","_now","_now2","PollSchema","poll","selectedAnswer","winningAnswers","vote","now",185,"setImmediate","_toConsumableArray","arr","Array","isArray","arr2","from","parsePoll","published","Date","end_date","_arrayFind","_arrayFind2","_util","_util2","PollField","initialState","answers","requestInFlight","setPollTotalVotes","count","total_votes","updateAnswerVoteCount","answer","eachAnswer","sodahead_id","id","answerIndex","forEach","dataAnswer","index","totalVotes","concat","slice","makeRequest","credentials","success","fetchPollDataSuccess","failure","fetchPollDataFailure","error","fetchPollDataError","collectWinningAnswers","requestFailure","requestError","resetFetchPollData","_null",187,"_makeRequest","_makeRequest2","_iterateObject","_iterateObject2","iterateObject",188,"url","options","_invariant2","callbacks","requestOptions","_clone2","redirect","fetch","then","response","promise","status","json","_clone","_invariant",189,"invariant","condition","format","a","b","c","d","e","f","Error","args","argIndex","replace","name","framesToPop",190,"SelectedAnswerField","selectAnswer",191,"WinningAnswersField","highScore","push",192,"cacheKey","pollId","VoteField","voted","pollKey","localStorage","getItem","JSON","parse","makeVoteRequest","method","headers","Accept","Content-Type","body","voteRequestSuccess","voteRequestFailure","voteRequestError","setItem","stringify","resetVoteRequest",193,"SrcField",194,"NowField",195,"Root","pollData","pollNotLoaded","pollIsPublished","pollHasEnded","viewerHasVoted","_loading2","_ended2","_results2","_question2","_comingSoon2","_loading","_question","_results","_ended","_comingSoon","object",196,"Loading","className",197,"Question","_props$actions","_props$data","_cover2","_requestError2","reset","_answers2","_voteButton2","_cover","_answers","_voteButton","_requestError",198,"Cover","thumbnail","_croppedImage2","image","question_text","_croppedImage",200,"Answers","AnswerType","_answer2","listClassName","answer_type","_imageAnswer2","classNames","_classnames2","bulbs-poll-answers-selected","map","_extends","assign","target","source","hasOwnProperty","_answer","_imageAnswer","_classnames","array","func",201,"Answer","isSelected","bulbs-poll-answer-selected","data-track-label","onClick","bind","_selectionMarker2","answer_text","_selectionMarker",203,"SelectionMarker","width","height","cx","cy","r","fill","stroke","strokeWidth","bool",204,"ImageAnswer","answer_image_url",205,"VoteButton","handleClick","buttonIsDisabled","classes","bulbs-poll-footer","disabled",206,"RequestError","_ref","children",207,"Results","_resultsList2","_resultsList",208,"ResultsList","ResultType","_result2","_imageResult2","_result","_imageResult",209,"Result","isWinningAnswer","winningAnswer","isVoteAnswer","bulbs-poll-result-winning","bulbs-poll-result-selected","percent","percentResult","toFixed","style",210,"ImageResult",211,"Ended",212,"ComingSoon",213],"mappings":"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","file":"dist/bulbs-poll.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _register = __webpack_require__(31);\n\t\n\tvar _bulbsElement = __webpack_require__(175);\n\t\n\tvar _bulbsElement2 = _interopRequireDefault(_bulbsElement);\n\t\n\tvar _bulbsPollSchema = __webpack_require__(184);\n\t\n\tvar _bulbsPollSchema2 = _interopRequireDefault(_bulbsPollSchema);\n\t\n\tvar _root = __webpack_require__(195);\n\t\n\tvar _root2 = _interopRequireDefault(_root);\n\t\n\t__webpack_require__(213);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }\n\t\n\tvar BulbsPoll = function (_BulbsElement) {\n\t  _inherits(BulbsPoll, _BulbsElement);\n\t\n\t  function BulbsPoll() {\n\t    _classCallCheck(this, BulbsPoll);\n\t\n\t    return _possibleConstructorReturn(this, _BulbsElement.apply(this, arguments));\n\t  }\n\t\n\t  BulbsPoll.prototype.initialDispatch = function initialDispatch() {\n\t    this.store.actions.setSrc(this.props.src);\n\t    this.store.actions.fetchPollData(this.props.src);\n\t    this.store.actions.getCachedVoteData(this.props.src);\n\t  };\n\t\n\t  BulbsPoll.prototype.render = function render() {\n\t    return _react2.default.createElement(\n\t      'div',\n\t      { 'data-track-action': 'Poll' },\n\t      _react2.default.createElement(_root2.default, {\n\t        data: this.state,\n\t        actions: this.store.actions\n\t      })\n\t    );\n\t  };\n\t\n\t  return BulbsPoll;\n\t}(_bulbsElement2.default);\n\t\n\tBulbsPoll.displayName = 'BulbsPoll';\n\t\n\tBulbsPoll.schema = _bulbsPollSchema2.default;\n\t\n\tBulbsPoll.propTypes = {\n\t  src: _react.PropTypes.string.isRequired\n\t};\n\t\n\t(0, _register.registerReactElement)('bulbs-poll', BulbsPoll);\n\n/***/ },\n\n/***/ 184:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _poll = __webpack_require__(185);\n\t\n\tvar _poll2 = _interopRequireDefault(_poll);\n\t\n\tvar _selectedAnswer = __webpack_require__(190);\n\t\n\tvar _selectedAnswer2 = _interopRequireDefault(_selectedAnswer);\n\t\n\tvar _winningAnswers = __webpack_require__(191);\n\t\n\tvar _winningAnswers2 = _interopRequireDefault(_winningAnswers);\n\t\n\tvar _vote = __webpack_require__(192);\n\t\n\tvar _vote2 = _interopRequireDefault(_vote);\n\t\n\tvar _src = __webpack_require__(193);\n\t\n\tvar _src2 = _interopRequireDefault(_src);\n\t\n\tvar _now = __webpack_require__(194);\n\t\n\tvar _now2 = _interopRequireDefault(_now);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar PollSchema = {\n\t  poll: _poll2.default,\n\t  selectedAnswer: _selectedAnswer2.default,\n\t  winningAnswers: _winningAnswers2.default,\n\t  vote: _vote2.default,\n\t  src: _src2.default,\n\t  now: _now2.default\n\t};\n\t\n\texports.default = PollSchema;\n\n/***/ },\n\n/***/ 185:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(setImmediate) {'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _arrayFind = __webpack_require__(186);\n\t\n\tvar _arrayFind2 = _interopRequireDefault(_arrayFind);\n\t\n\tvar _util = __webpack_require__(187);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction parsePoll(poll) {\n\t  if (poll.published) {\n\t    poll.published = new Date(poll.published);\n\t  }\n\t\n\t  if (poll.end_date) {\n\t    poll.end_date = new Date(poll.end_date);\n\t  }\n\t\n\t  return poll;\n\t}\n\t\n\tvar PollField = {\n\t  initialState: {\n\t    data: {\n\t      answers: []\n\t    },\n\t    requestInFlight: false\n\t  },\n\t  actions: {\n\t    setPollTotalVotes: function setPollTotalVotes(state, count) {\n\t      state.data.total_votes = count;\n\t      return state;\n\t    },\n\t    updateAnswerVoteCount: function updateAnswerVoteCount(state, vote) {\n\t      var answer = (0, _arrayFind2.default)(state.data.answers, function (eachAnswer) {\n\t        return eachAnswer.sodahead_id === vote.answer.id;\n\t      });\n\t\n\t      var answerIndex = void 0;\n\t      state.data.answers.forEach(function (dataAnswer, index) {\n\t        if (dataAnswer.id === answer.id) {\n\t          answerIndex = index;\n\t        }\n\t      });\n\t      answer.total_votes = vote.answer.totalVotes;\n\t      state.data.answers = [].concat(_toConsumableArray(state.data.answers.slice(0, answerIndex)), [answer], _toConsumableArray(state.data.answers.slice(answerIndex + 1)));\n\t\n\t      return state;\n\t    },\n\t    fetchPollData: function fetchPollData(state, src, store) {\n\t      src || (src = store.src);\n\t      store.src = src;\n\t      _util2.default.makeRequest(src, {\n\t        credentials: 'include',\n\t        success: store.actions.fetchPollDataSuccess,\n\t        failure: store.actions.fetchPollDataFailure,\n\t        error: store.actions.fetchPollDataError\n\t      });\n\t      state.requestInFlight = true;\n\t      return state;\n\t    },\n\t    fetchPollDataSuccess: function fetchPollDataSuccess(state, data, store) {\n\t      state.data = parsePoll(data);\n\t      state.requestInFlight = false;\n\t\n\t      setImmediate(function () {\n\t        store.actions.collectWinningAnswers(store.state.poll.data.answers);\n\t      });\n\t\n\t      return state;\n\t    },\n\t    fetchPollDataFailure: function fetchPollDataFailure(state, failure) {\n\t      state.requestFailure = failure;\n\t      state.requestInFlight = false;\n\t      return state;\n\t    },\n\t    fetchPollDataError: function fetchPollDataError(state, error) {\n\t      state.requestError = error;\n\t      state.requestInFlight = false;\n\t      return state;\n\t    },\n\t    resetFetchPollData: function resetFetchPollData(state, _null, store) {\n\t      state.requestInFlight = false;\n\t      delete state.requestFailure;\n\t      delete state.requestError;\n\t      setImmediate(store.actions.fetchPollData);\n\t      return state;\n\t    }\n\t  }\n\t};\n\t\n\texports.default = PollField;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(32).setImmediate))\n\n/***/ },\n\n/***/ 187:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _makeRequest = __webpack_require__(188);\n\t\n\tvar _makeRequest2 = _interopRequireDefault(_makeRequest);\n\t\n\tvar _iterateObject = __webpack_require__(183);\n\t\n\tvar _iterateObject2 = _interopRequireDefault(_iterateObject);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tmodule.exports = {\n\t  makeRequest: _makeRequest2.default,\n\t  iterateObject: _iterateObject2.default\n\t};\n\n/***/ },\n\n/***/ 188:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = makeRequest;\n\t\n\tvar _clone = __webpack_require__(178);\n\t\n\tvar _clone2 = _interopRequireDefault(_clone);\n\t\n\tvar _invariant = __webpack_require__(189);\n\t\n\tvar _invariant2 = _interopRequireDefault(_invariant);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction makeRequest(url) {\n\t  var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\t\n\t  (0, _invariant2.default)(options.success, 'makeRequest MUST have a success callback');\n\t  (0, _invariant2.default)(options.failure, 'makeRequest MUST have a failure callback');\n\t  (0, _invariant2.default)(options.error, 'makeRequest MUST have an error callback');\n\t\n\t  var success = options.success;\n\t  var failure = options.failure;\n\t  var error = options.error;\n\t\n\t  var callbacks = { success: success, failure: failure, error: error };\n\t  var requestOptions = (0, _clone2.default)(options);\n\t\n\t  // defensively deleting these options\n\t  // so we don't pass them through to fetch\n\t  delete requestOptions.success;\n\t  delete requestOptions.failure;\n\t  delete requestOptions.error;\n\t\n\t  if (!options.redirect) {\n\t    requestOptions.redirect = 'follow';\n\t  }\n\t\n\t  return fetch(url, requestOptions).then(function (response) {\n\t    var promise = void 0;\n\t    if (response.status < 300) {\n\t      promise = response.json().then(callbacks.success);\n\t    } else if (response.status >= 400) {\n\t      promise = response.json().then(callbacks.failure);\n\t    }\n\t    return promise;\n\t  }).catch(callbacks.error);\n\t}\n\n/***/ },\n\n/***/ 189:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Copyright 2013-2015, Facebook, Inc.\n\t * All rights reserved.\n\t *\n\t * This source code is licensed under the BSD-style license found in the\n\t * LICENSE file in the root directory of this source tree. An additional grant\n\t * of patent rights can be found in the PATENTS file in the same directory.\n\t */\n\t\n\t'use strict';\n\t\n\t/**\n\t * Use invariant() to assert state which your program assumes to be true.\n\t *\n\t * Provide sprintf-style format (only %s is supported) and arguments\n\t * to provide information about what broke and what you were\n\t * expecting.\n\t *\n\t * The invariant message will be stripped in production, but the invariant\n\t * will remain to ensure logic does not differ in production.\n\t */\n\t\n\tvar invariant = function(condition, format, a, b, c, d, e, f) {\n\t  if (false) {\n\t    if (format === undefined) {\n\t      throw new Error('invariant requires an error message argument');\n\t    }\n\t  }\n\t\n\t  if (!condition) {\n\t    var error;\n\t    if (format === undefined) {\n\t      error = new Error(\n\t        'Minified exception occurred; use the non-minified dev environment ' +\n\t        'for the full error message and additional helpful warnings.'\n\t      );\n\t    } else {\n\t      var args = [a, b, c, d, e, f];\n\t      var argIndex = 0;\n\t      error = new Error(\n\t        format.replace(/%s/g, function() { return args[argIndex++]; })\n\t      );\n\t      error.name = 'Invariant Violation';\n\t    }\n\t\n\t    error.framesToPop = 1; // we don't care about invariant's own frame\n\t    throw error;\n\t  }\n\t};\n\t\n\tmodule.exports = invariant;\n\n\n/***/ },\n\n/***/ 190:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar SelectedAnswerField = {\n\t  initialState: {},\n\t  actions: {\n\t    selectAnswer: function selectAnswer(state, answer) {\n\t      return state && state.id === answer.id ? {} : answer;\n\t    }\n\t  }\n\t};\n\t\n\texports.default = SelectedAnswerField;\n\n/***/ },\n\n/***/ 191:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar WinningAnswersField = {\n\t  initialState: [],\n\t  actions: {\n\t    collectWinningAnswers: function collectWinningAnswers(state) {\n\t      var answers = arguments.length <= 1 || arguments[1] === undefined ? [] : arguments[1];\n\t\n\t      var highScore = 0;\n\t      var winningAnswers = [];\n\t\n\t      answers.forEach(function (eachAnswer) {\n\t        if (eachAnswer.total_votes === highScore) {\n\t          winningAnswers.push(eachAnswer);\n\t        } else if (eachAnswer.total_votes > highScore) {\n\t          highScore = eachAnswer.total_votes;\n\t          winningAnswers = [eachAnswer];\n\t        }\n\t      });\n\t\n\t      return winningAnswers;\n\t    }\n\t  }\n\t};\n\t\n\texports.default = WinningAnswersField;\n\n/***/ },\n\n/***/ 192:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(setImmediate) {'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _util = __webpack_require__(187);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction cacheKey(pollId) {\n\t  return 'bulbs-poll:' + pollId + ':vote';\n\t}\n\t\n\tvar VoteField = {\n\t  initialState: {\n\t    voted: false\n\t  },\n\t  actions: {\n\t    getCachedVoteData: function getCachedVoteData(state, pollKey) {\n\t      var value = localStorage.getItem(cacheKey(pollKey));\n\t      if (value) {\n\t        state.voted = true;\n\t        state.data = JSON.parse(value);\n\t      }\n\t      return state;\n\t    },\n\t    makeVoteRequest: function makeVoteRequest(state, answer, store) {\n\t      var poll = store.state.poll;\n\t\n\t      var url = 'https://onion.sodahead.com/api/polls/' + poll.data.sodahead_id + '/vote/';\n\t      _util2.default.makeRequest(url, {\n\t        method: 'post',\n\t        headers: {\n\t          'Accept': 'application/json',\n\t          'Content-Type': 'application/json'\n\t        },\n\t        body: 'answer=' + answer.sodahead_id,\n\t        success: store.actions.voteRequestSuccess,\n\t        failure: store.actions.voteRequestFailure,\n\t        error: store.actions.voteRequestError\n\t      });\n\t\n\t      state.requestInFlight = true;\n\t      return state;\n\t    },\n\t    voteRequestSuccess: function voteRequestSuccess(state, data, store) {\n\t      localStorage.setItem(cacheKey(store.state.src), JSON.stringify(data.vote));\n\t      setImmediate(function () {\n\t        store.actions.setPollTotalVotes(data.poll.totalVotes);\n\t        store.actions.updateAnswerVoteCount(data.vote);\n\t        store.actions.collectWinningAnswers(store.state.poll.data.answers);\n\t      });\n\t      state.voted = true;\n\t      state.data = data.vote;\n\t      state.requestInFlight = false;\n\t      return state;\n\t    },\n\t    voteRequestFailure: function voteRequestFailure(state, failure) {\n\t      state.requestFailure = failure;\n\t      state.requestInFlight = false;\n\t      return state;\n\t    },\n\t    voteRequestError: function voteRequestError(state, error) {\n\t      state.requestInFlight = false;\n\t      state.requestError = error;\n\t      return state;\n\t    },\n\t    resetVoteRequest: function resetVoteRequest(state) {\n\t      state.requestInFlight = false;\n\t      delete state.requestFailure;\n\t      delete state.requestError;\n\t      return state;\n\t    }\n\t  }\n\t};\n\t\n\texports.default = VoteField;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(32).setImmediate))\n\n/***/ },\n\n/***/ 193:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar SrcField = {\n\t  initialState: '',\n\t  actions: {\n\t    setSrc: function setSrc(state, src) {\n\t      return src;\n\t    }\n\t  }\n\t};\n\t\n\texports.default = SrcField;\n\n/***/ },\n\n/***/ 194:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar NowField = {\n\t  initialState: new Date()\n\t};\n\t\n\texports.default = NowField;\n\n/***/ },\n\n/***/ 195:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = Root;\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _loading = __webpack_require__(196);\n\t\n\tvar _loading2 = _interopRequireDefault(_loading);\n\t\n\tvar _question = __webpack_require__(197);\n\t\n\tvar _question2 = _interopRequireDefault(_question);\n\t\n\tvar _results = __webpack_require__(207);\n\t\n\tvar _results2 = _interopRequireDefault(_results);\n\t\n\tvar _ended = __webpack_require__(211);\n\t\n\tvar _ended2 = _interopRequireDefault(_ended);\n\t\n\tvar _comingSoon = __webpack_require__(212);\n\t\n\tvar _comingSoon2 = _interopRequireDefault(_comingSoon);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction Root(props) {\n\t  var pollData = props.data.poll.data;\n\t  var now = props.data.now;\n\t  var pollNotLoaded = !pollData.id;\n\t  var pollIsPublished = pollData.published && pollData.published <= now;\n\t  var pollHasEnded = pollData.end_date && pollData.end_date <= now;\n\t  var viewerHasVoted = props.data.vote.voted;\n\t\n\t  if (pollNotLoaded) {\n\t    return _react2.default.createElement(_loading2.default, null);\n\t  } else if (!pollIsPublished) {\n\t    return _react2.default.createElement(_comingSoon2.default, null);\n\t  } else if (pollHasEnded) {\n\t    return _react2.default.createElement(_ended2.default, {\n\t      data: props.data\n\t    });\n\t  } else if (viewerHasVoted) {\n\t    return _react2.default.createElement(_results2.default, {\n\t      data: props.data\n\t    });\n\t  } else if (pollIsPublished) {\n\t    return _react2.default.createElement(_question2.default, {\n\t      actions: props.actions,\n\t      data: props.data\n\t    });\n\t  }\n\t}\n\t\n\tRoot.propTypes = {\n\t  actions: _react.PropTypes.object.isRequired,\n\t  data: _react.PropTypes.object.isRequired\n\t};\n\n/***/ },\n\n/***/ 196:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = Loading;\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction Loading() {\n\t  return _react2.default.createElement(\n\t    'div',\n\t    { className: 'bulbs-poll-loading' },\n\t    'Loading Poll...'\n\t  );\n\t}\n\n/***/ },\n\n/***/ 197:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = Question;\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _cover = __webpack_require__(198);\n\t\n\tvar _cover2 = _interopRequireDefault(_cover);\n\t\n\tvar _answers = __webpack_require__(200);\n\t\n\tvar _answers2 = _interopRequireDefault(_answers);\n\t\n\tvar _voteButton = __webpack_require__(205);\n\t\n\tvar _voteButton2 = _interopRequireDefault(_voteButton);\n\t\n\tvar _requestError = __webpack_require__(206);\n\t\n\tvar _requestError2 = _interopRequireDefault(_requestError);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction Question(props) {\n\t  var _props$actions = props.actions;\n\t  var selectAnswer = _props$actions.selectAnswer;\n\t  var makeVoteRequest = _props$actions.makeVoteRequest;\n\t  var resetFetchPollData = _props$actions.resetFetchPollData;\n\t  var resetVoteRequest = _props$actions.resetVoteRequest;\n\t  var _props$data = props.data;\n\t  var poll = _props$data.poll;\n\t  var selectedAnswer = _props$data.selectedAnswer;\n\t  var vote = _props$data.vote;\n\t\n\t\n\t  return _react2.default.createElement(\n\t    'div',\n\t    null,\n\t    _react2.default.createElement(_cover2.default, { poll: poll }),\n\t    _react2.default.createElement(\n\t      _requestError2.default,\n\t      {\n\t        error: poll.requestError,\n\t        reset: resetFetchPollData\n\t      },\n\t      'Could not connect to network when fetching poll data.'\n\t    ),\n\t    _react2.default.createElement(\n\t      _requestError2.default,\n\t      {\n\t        error: vote.requestError,\n\t        reset: resetVoteRequest\n\t      },\n\t      'Could not connect to network when placing your vote.'\n\t    ),\n\t    _react2.default.createElement(_answers2.default, {\n\t      answers: poll.data.answers,\n\t      selectAnswer: selectAnswer,\n\t      selectedAnswer: selectedAnswer,\n\t      poll: poll\n\t    }),\n\t    _react2.default.createElement(_voteButton2.default, {\n\t      selectedAnswer: selectedAnswer,\n\t      makeVoteRequest: makeVoteRequest\n\t    })\n\t  );\n\t}\n\t\n\tQuestion.propTypes = {\n\t  actions: _react.PropTypes.object.isRequired,\n\t  data: _react.PropTypes.object.isRequired\n\t};\n\n/***/ },\n\n/***/ 198:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = Cover;\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _croppedImage = __webpack_require__(199);\n\t\n\tvar _croppedImage2 = _interopRequireDefault(_croppedImage);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction Cover(props) {\n\t  var poll = props.poll;\n\t\n\t  return _react2.default.createElement(\n\t    'header',\n\t    { className: 'bulbs-poll-cover' },\n\t    poll.data.thumbnail ? _react2.default.createElement(_croppedImage2.default, { image: poll.data.thumbnail }) : null,\n\t    _react2.default.createElement(\n\t      'h1',\n\t      { className: 'bulbs-poll-cover-title' },\n\t      poll.data.question_text\n\t    )\n\t  );\n\t}\n\t\n\tCover.propTypes = {\n\t  poll: _react.PropTypes.object.isRequired\n\t};\n\n/***/ },\n\n/***/ 200:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\texports.default = Answers;\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _answer = __webpack_require__(201);\n\t\n\tvar _answer2 = _interopRequireDefault(_answer);\n\t\n\tvar _imageAnswer = __webpack_require__(204);\n\t\n\tvar _imageAnswer2 = _interopRequireDefault(_imageAnswer);\n\t\n\tvar _classnames = __webpack_require__(202);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction Answers(props) {\n\t  var AnswerType = _answer2.default;\n\t  var listClassName = 'bulbs-poll-answers';\n\t  if (props.poll.data.answer_type === 'imageText') {\n\t    AnswerType = _imageAnswer2.default;\n\t    listClassName = 'bulbs-poll-image-answers';\n\t  }\n\t\n\t  var classNames = (0, _classnames2.default)(listClassName, {\n\t    'bulbs-poll-answers-selected': props.selectedAnswer.id\n\t  });\n\t  return _react2.default.createElement(\n\t    'ul',\n\t    { className: classNames },\n\t    props.answers.map(function (answer, index) {\n\t      return _react2.default.createElement(AnswerType, _extends({\n\t        key: index,\n\t        answer: answer\n\t      }, props));\n\t    })\n\t  );\n\t}\n\t\n\tAnswers.propTypes = {\n\t  answers: _react.PropTypes.array.isRequired,\n\t  poll: _react.PropTypes.object.isRequired,\n\t  selectAnswer: _react.PropTypes.func.isRequired,\n\t  selectedAnswer: _react.PropTypes.object.isRequired\n\t};\n\n/***/ },\n\n/***/ 201:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = Answer;\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _classnames = __webpack_require__(202);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar _selectionMarker = __webpack_require__(203);\n\t\n\tvar _selectionMarker2 = _interopRequireDefault(_selectionMarker);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction Answer(props) {\n\t  var answer = props.answer;\n\t  var selectAnswer = props.selectAnswer;\n\t  var selectedAnswer = props.selectedAnswer;\n\t\n\t\n\t  var isSelected = answer.id === selectedAnswer.id;\n\t  var className = (0, _classnames2.default)('bulbs-poll-answer', {\n\t    'bulbs-poll-answer-selected': isSelected\n\t  });\n\t\n\t  return _react2.default.createElement(\n\t    'li',\n\t    {\n\t      'data-track-label': 'Option',\n\t      className: className,\n\t      onClick: selectAnswer.bind(null, answer)\n\t    },\n\t    _react2.default.createElement(_selectionMarker2.default, { isSelected: isSelected }),\n\t    answer.answer_text\n\t  );\n\t}\n\t\n\tAnswer.propTypes = {\n\t  answer: _react.PropTypes.object.isRequired,\n\t  selectAnswer: _react.PropTypes.func.isRequired,\n\t  selectedAnswer: _react.PropTypes.object\n\t};\n\n/***/ },\n\n/***/ 203:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = SelectionMarker;\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction SelectionMarker(props) {\n\t  var isSelected = props.isSelected;\n\t\n\t\n\t  return _react2.default.createElement(\n\t    \"svg\",\n\t    { width: \"20px\", height: \"20px\" },\n\t    _react2.default.createElement(\"circle\", { cx: \"10\", cy: \"10\", r: \"8\", fill: \"none\", stroke: \"black\", strokeWidth: \"2px\" }),\n\t    _react2.default.createElement(\"circle\", { cx: \"10\", cy: \"10\", r: \"5\", fill: isSelected ? 'black' : 'none' })\n\t  );\n\t}\n\t\n\tSelectionMarker.propTypes = {\n\t  isSelected: _react.PropTypes.bool\n\t};\n\n/***/ },\n\n/***/ 204:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = ImageAnswer;\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _classnames = __webpack_require__(202);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar _selectionMarker = __webpack_require__(203);\n\t\n\tvar _selectionMarker2 = _interopRequireDefault(_selectionMarker);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction ImageAnswer(props) {\n\t  var answer = props.answer;\n\t  var selectAnswer = props.selectAnswer;\n\t  var selectedAnswer = props.selectedAnswer;\n\t\n\t\n\t  var isSelected = answer.id === selectedAnswer.id;\n\t  var className = (0, _classnames2.default)('bulbs-poll-image-answer', {\n\t    'bulbs-poll-answer-selected': isSelected\n\t  });\n\t\n\t  return _react2.default.createElement(\n\t    'li',\n\t    {\n\t      'data-track-label': 'Option',\n\t      className: className,\n\t      onClick: selectAnswer.bind(null, answer)\n\t    },\n\t    _react2.default.createElement('img', { src: answer.answer_image_url }),\n\t    _react2.default.createElement(\n\t      'div',\n\t      { className: 'answer-image-text' },\n\t      _react2.default.createElement(_selectionMarker2.default, { isSelected: isSelected }),\n\t      answer.answer_text\n\t    )\n\t  );\n\t}\n\t\n\tImageAnswer.propTypes = {\n\t  answer: _react.PropTypes.object.isRequired,\n\t  selectAnswer: _react.PropTypes.func.isRequired,\n\t  selectedAnswer: _react.PropTypes.object\n\t};\n\n/***/ },\n\n/***/ 205:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = VoteButton;\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _classnames = __webpack_require__(202);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction VoteButton(props) {\n\t  var selectedAnswer = props.selectedAnswer;\n\t\n\t\n\t  var buttonIsDisabled = true;\n\t  if (selectedAnswer && selectedAnswer.id) {\n\t    buttonIsDisabled = false;\n\t  }\n\t\n\t  function handleClick() {\n\t    if (selectedAnswer) {\n\t      props.makeVoteRequest(selectedAnswer);\n\t    }\n\t  }\n\t\n\t  var classes = (0, _classnames2.default)('bulbs-poll-vote', {\n\t    'bulbs-poll-footer': true\n\t  });\n\t\n\t  return _react2.default.createElement(\n\t    'button',\n\t    {\n\t      'data-track-label': 'Submit',\n\t      className: classes,\n\t      onClick: handleClick,\n\t      disabled: buttonIsDisabled\n\t    },\n\t    'Vote'\n\t  );\n\t}\n\t\n\tVoteButton.propTypes = {\n\t  makeVoteRequest: _react.PropTypes.func,\n\t  selectedAnswer: _react.PropTypes.object\n\t};\n\n/***/ },\n\n/***/ 206:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = RequestError;\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction RequestError(_ref) {\n\t  var error = _ref.error;\n\t  var children = _ref.children;\n\t  var reset = _ref.reset;\n\t\n\t  if (error) {\n\t    return _react2.default.createElement(\n\t      \"div\",\n\t      { className: \"bulbs-poll-network-error\" },\n\t      _react2.default.createElement(\n\t        \"p\",\n\t        null,\n\t        children\n\t      ),\n\t      _react2.default.createElement(\n\t        \"button\",\n\t        { onClick: reset },\n\t        \"OK\"\n\t      )\n\t    );\n\t  } else {\n\t    return _react2.default.createElement(\"div\", null);\n\t  }\n\t}\n\n/***/ },\n\n/***/ 207:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = Results;\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _classnames = __webpack_require__(202);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar _cover = __webpack_require__(198);\n\t\n\tvar _cover2 = _interopRequireDefault(_cover);\n\t\n\tvar _resultsList = __webpack_require__(208);\n\t\n\tvar _resultsList2 = _interopRequireDefault(_resultsList);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction Results(props) {\n\t  var className = (0, _classnames2.default)('bulbs-poll-results', {});\n\t  var _props$data = props.data;\n\t  var poll = _props$data.poll;\n\t  var winningAnswers = _props$data.winningAnswers;\n\t  var vote = _props$data.vote;\n\t\n\t\n\t  return _react2.default.createElement(\n\t    'div',\n\t    { className: className },\n\t    _react2.default.createElement(_cover2.default, { poll: poll }),\n\t    _react2.default.createElement(_resultsList2.default, {\n\t      poll: poll,\n\t      winningAnswers: winningAnswers,\n\t      vote: vote\n\t    }),\n\t    _react2.default.createElement(\n\t      'div',\n\t      { className: 'bulbs-poll-thank-you bulbs-poll-footer' },\n\t      'Thanks for voting!'\n\t    )\n\t  );\n\t}\n\t\n\tResults.propTypes = {\n\t  data: _react.PropTypes.object.isRequired\n\t};\n\n/***/ },\n\n/***/ 208:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = ResultsList;\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _result = __webpack_require__(209);\n\t\n\tvar _result2 = _interopRequireDefault(_result);\n\t\n\tvar _imageResult = __webpack_require__(210);\n\t\n\tvar _imageResult2 = _interopRequireDefault(_imageResult);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction ResultsList(props) {\n\t  var poll = props.poll;\n\t  var winningAnswers = props.winningAnswers;\n\t  var vote = props.vote;\n\t\n\t  var ResultType = _result2.default;\n\t  var listClassName = 'bulbs-poll-results-list';\n\t  if (props.poll.data.answer_type === 'imageText') {\n\t    ResultType = _imageResult2.default;\n\t    listClassName = 'bulbs-poll-image-results-list';\n\t  }\n\t  return _react2.default.createElement(\n\t    'ul',\n\t    { className: listClassName },\n\t    poll.data.answers.map(function (answer, index) {\n\t      return _react2.default.createElement(ResultType, {\n\t        key: index,\n\t        answer: answer,\n\t        poll: poll,\n\t        vote: vote,\n\t        winningAnswers: winningAnswers\n\t      });\n\t    })\n\t  );\n\t}\n\t\n\tResultsList.propTypes = {\n\t  poll: _react.PropTypes.object.isRequired,\n\t  vote: _react.PropTypes.object.isRequired,\n\t  winningAnswers: _react.PropTypes.array.isRequired\n\t};\n\n/***/ },\n\n/***/ 209:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = Result;\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _classnames = __webpack_require__(202);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar _selectionMarker = __webpack_require__(203);\n\t\n\tvar _selectionMarker2 = _interopRequireDefault(_selectionMarker);\n\t\n\tvar _arrayFind = __webpack_require__(186);\n\t\n\tvar _arrayFind2 = _interopRequireDefault(_arrayFind);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction Result(props) {\n\t  var answer = props.answer;\n\t  var poll = props.poll;\n\t  var vote = props.vote;\n\t  var winningAnswers = props.winningAnswers;\n\t\n\t\n\t  var isWinningAnswer = (0, _arrayFind2.default)(winningAnswers, function (winningAnswer) {\n\t    return winningAnswer.sodahead_id === answer.sodahead_id;\n\t  });\n\t\n\t  var isVoteAnswer = !!(vote.data && vote.data.answer.id === answer.sodahead_id);\n\t\n\t  var className = (0, _classnames2.default)('bulbs-poll-result', {\n\t    'bulbs-poll-result-winning': isWinningAnswer,\n\t    'bulbs-poll-result-selected': isVoteAnswer\n\t  });\n\t  var total_votes = answer.total_votes;\n\t\n\t  var percent = void 0;\n\t  if (poll.data.total_votes > 1) {\n\t    percent = total_votes / poll.data.total_votes * 100;\n\t  } else {\n\t    percent = total_votes * 100;\n\t  }\n\t  var percentResult = percent.toFixed(0) + '%';\n\t\n\t  return _react2.default.createElement(\n\t    'li',\n\t    { className: className },\n\t    _react2.default.createElement('div', {\n\t      className: 'bulbs-poll-answer-bar',\n\t      style: { width: percentResult }\n\t    }),\n\t    _react2.default.createElement(\n\t      'div',\n\t      { className: 'bulbs-poll-answer-title' },\n\t      _react2.default.createElement(_selectionMarker2.default, { isSelected: isVoteAnswer }),\n\t      _react2.default.createElement(\n\t        'span',\n\t        { className: 'bulbs-poll-answer-text' },\n\t        answer.answer_text\n\t      ),\n\t      _react2.default.createElement(\n\t        'span',\n\t        { className: 'bulbs-poll-answer-result' },\n\t        percentResult\n\t      )\n\t    )\n\t  );\n\t}\n\t\n\tResult.propTypes = {\n\t  answer: _react.PropTypes.object.isRequired,\n\t  poll: _react.PropTypes.object.isRequired,\n\t  vote: _react.PropTypes.object.isRequired,\n\t  winningAnswers: _react.PropTypes.array.isRequired\n\t};\n\n/***/ },\n\n/***/ 210:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = ImageResult;\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _classnames = __webpack_require__(202);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar _selectionMarker = __webpack_require__(203);\n\t\n\tvar _selectionMarker2 = _interopRequireDefault(_selectionMarker);\n\t\n\tvar _arrayFind = __webpack_require__(186);\n\t\n\tvar _arrayFind2 = _interopRequireDefault(_arrayFind);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction ImageResult(props) {\n\t  var answer = props.answer;\n\t  var poll = props.poll;\n\t  var vote = props.vote;\n\t  var winningAnswers = props.winningAnswers;\n\t\n\t\n\t  var isWinningAnswer = (0, _arrayFind2.default)(winningAnswers, function (winningAnswer) {\n\t    return winningAnswer.sodahead_id === answer.sodahead_id;\n\t  });\n\t\n\t  var isVoteAnswer = !!(vote.data && vote.data.answer.id === answer.sodahead_id);\n\t\n\t  var className = (0, _classnames2.default)('bulbs-poll-image-result', {\n\t    'bulbs-poll-result-winning': isWinningAnswer,\n\t    'bulbs-poll-result-selected': isVoteAnswer\n\t  });\n\t  var total_votes = answer.total_votes;\n\t\n\t  var percent = void 0;\n\t  if (poll.data.total_votes > 1) {\n\t    percent = total_votes / poll.data.total_votes * 100;\n\t  } else {\n\t    percent = total_votes * 100;\n\t  }\n\t  var percentResult = percent.toFixed(0) + '%';\n\t\n\t  return _react2.default.createElement(\n\t    'li',\n\t    { className: className },\n\t    _react2.default.createElement(\n\t      'div',\n\t      { className: 'result-image-list-item' },\n\t      _react2.default.createElement('div', {\n\t        className: 'bulbs-poll-image-answer-bar',\n\t        style: { height: percentResult }\n\t      }),\n\t      _react2.default.createElement(\n\t        'div',\n\t        { className: 'bulbs-poll-image-answer-title' },\n\t        _react2.default.createElement('img', { src: answer.answer_image_url }),\n\t        _react2.default.createElement(\n\t          'div',\n\t          { className: 'answer-image-text' },\n\t          _react2.default.createElement(_selectionMarker2.default, { isSelected: isVoteAnswer }),\n\t          _react2.default.createElement(\n\t            'span',\n\t            { className: 'bulbs-poll-image-answer-text' },\n\t            answer.answer_text\n\t          )\n\t        )\n\t      )\n\t    ),\n\t    _react2.default.createElement(\n\t      'div',\n\t      { className: 'bulbs-poll-answer-result' },\n\t      percentResult\n\t    )\n\t  );\n\t}\n\t\n\tImageResult.propTypes = {\n\t  answer: _react.PropTypes.object.isRequired,\n\t  poll: _react.PropTypes.object.isRequired,\n\t  vote: _react.PropTypes.object.isRequired,\n\t  winningAnswers: _react.PropTypes.array.isRequired\n\t};\n\n/***/ },\n\n/***/ 211:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = Ended;\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _cover = __webpack_require__(198);\n\t\n\tvar _cover2 = _interopRequireDefault(_cover);\n\t\n\tvar _resultsList = __webpack_require__(208);\n\t\n\tvar _resultsList2 = _interopRequireDefault(_resultsList);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction Ended(props) {\n\t  var _props$data = props.data;\n\t  var poll = _props$data.poll;\n\t  var winningAnswers = _props$data.winningAnswers;\n\t  var vote = _props$data.vote;\n\t\n\t\n\t  return _react2.default.createElement(\n\t    'div',\n\t    { className: 'bulbs-poll-ended' },\n\t    _react2.default.createElement(_cover2.default, { poll: poll }),\n\t    _react2.default.createElement(_resultsList2.default, {\n\t      poll: poll,\n\t      winningAnswers: winningAnswers,\n\t      vote: vote\n\t    }),\n\t    _react2.default.createElement(\n\t      'div',\n\t      { className: 'bulbs-poll-ended-message bulbs-poll-footer' },\n\t      'Poll Closed'\n\t    )\n\t  );\n\t}\n\t\n\tEnded.propTypes = {\n\t  data: _react.PropTypes.object.isRequired\n\t};\n\n/***/ },\n\n/***/ 212:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = ComingSoon;\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _voteButton = __webpack_require__(205);\n\t\n\tvar _voteButton2 = _interopRequireDefault(_voteButton);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction ComingSoon() {\n\t  return _react2.default.createElement(\n\t    'div',\n\t    { className: 'bulbs-poll-coming-soon' },\n\t    _react2.default.createElement(\n\t      'div',\n\t      { className: 'bulbs-poll-coming-soon-message' },\n\t      'Poll Coming Soon'\n\t    ),\n\t    _react2.default.createElement(_voteButton2.default, null)\n\t  );\n\t}\n\n/***/ },\n\n/***/ 213:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** dist/bulbs-poll.js\n **/","import React, { PropTypes } from 'react';\nimport { registerReactElement } from 'bulbs-elements/register';\nimport BulbsElement from 'bulbs-elements/bulbs-element';\n\nimport PollSchema from './bulbs-poll-schema';\n\nimport BulbsPollRoot from './components/root';\n\nimport './bulbs-poll.scss';\n\nclass BulbsPoll extends BulbsElement {\n  initialDispatch () {\n    this.store.actions.setSrc(this.props.src);\n    this.store.actions.fetchPollData(this.props.src);\n    this.store.actions.getCachedVoteData(this.props.src);\n  }\n\n  render () {\n    return (\n      <div data-track-action='Poll'>\n        <BulbsPollRoot\n          data={this.state}\n          actions={this.store.actions}\n        />\n      </div>\n    );\n  }\n}\n\nBulbsPoll.displayName = 'BulbsPoll';\n\nBulbsPoll.schema = PollSchema;\n\nBulbsPoll.propTypes = {\n  src: PropTypes.string.isRequired,\n};\n\nregisterReactElement('bulbs-poll', BulbsPoll);\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-poll/bulbs-poll.js\n **/","import PollField from './fields/poll';\nimport SelectedAnswerField from './fields/selected-answer';\nimport WinningAnswersField from './fields/winning-answers';\nimport VoteField from './fields/vote';\nimport SrcField from './fields/src';\nimport NowField from './fields/now';\n\nconst PollSchema = {\n  poll: PollField,\n  selectedAnswer: SelectedAnswerField,\n  winningAnswers: WinningAnswersField,\n  vote: VoteField,\n  src: SrcField,\n  now: NowField,\n};\n\nexport default PollSchema;\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-poll/bulbs-poll-schema.js\n **/","import find from 'array-find';\nimport util from 'bulbs-elements/util';\n\nfunction parsePoll (poll) {\n  if (poll.published) {\n    poll.published = new Date(poll.published);\n  }\n\n  if (poll.end_date) {\n    poll.end_date = new Date(poll.end_date);\n  }\n\n  return poll;\n}\n\nconst PollField = {\n  initialState: {\n    data: {\n      answers: [],\n    },\n    requestInFlight: false,\n  },\n  actions: {\n    setPollTotalVotes (state, count) {\n      state.data.total_votes = count;\n      return state;\n    },\n    updateAnswerVoteCount (state, vote) {\n      let answer = find(state.data.answers, (eachAnswer) => {\n        return eachAnswer.sodahead_id === vote.answer.id;\n      });\n\n      let answerIndex;\n      state.data.answers.forEach((dataAnswer, index) => {\n        if (dataAnswer.id === answer.id) {\n          answerIndex = index;\n        }\n      });\n      answer.total_votes = vote.answer.totalVotes;\n      state.data.answers = [\n        ...state.data.answers.slice(0, answerIndex),\n        answer,\n        ...state.data.answers.slice(answerIndex + 1),\n      ];\n\n      return state;\n    },\n    fetchPollData (state, src, store) {\n      src || (src = store.src);\n      store.src = src;\n      util.makeRequest(src, {\n        credentials: 'include',\n        success: store.actions.fetchPollDataSuccess,\n        failure: store.actions.fetchPollDataFailure,\n        error: store.actions.fetchPollDataError,\n      });\n      state.requestInFlight = true;\n      return state;\n    },\n    fetchPollDataSuccess (state, data, store) {\n      state.data = parsePoll(data);\n      state.requestInFlight = false;\n\n      setImmediate(() => {\n        store.actions.collectWinningAnswers(store.state.poll.data.answers);\n      });\n\n      return state;\n    },\n    fetchPollDataFailure (state, failure) {\n      state.requestFailure = failure;\n      state.requestInFlight = false;\n      return state;\n    },\n    fetchPollDataError (state, error) {\n      state.requestError = error;\n      state.requestInFlight = false;\n      return state;\n    },\n    resetFetchPollData (state, _null, store) {\n      state.requestInFlight = false;\n      delete state.requestFailure;\n      delete state.requestError;\n      setImmediate(store.actions.fetchPollData);\n      return state;\n    },\n  },\n};\n\nexport default PollField;\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-poll/fields/poll.js\n **/","import makeRequest from './make-request';\nimport iterateObject from './iterate-object';\n\nmodule.exports = {\n  makeRequest,\n  iterateObject,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/bulbs-elements/util/index.js\n **/","import cloneObject from 'clone';\nimport invariant from 'invariant';\n\nexport default function makeRequest (url, options = {}) {\n  invariant(options.success, 'makeRequest MUST have a success callback');\n  invariant(options.failure, 'makeRequest MUST have a failure callback');\n  invariant(options.error, 'makeRequest MUST have an error callback');\n\n  let { success, failure, error } = options;\n  let callbacks = { success, failure, error };\n  let requestOptions = cloneObject(options);\n\n  // defensively deleting these options\n  // so we don't pass them through to fetch\n  delete requestOptions.success;\n  delete requestOptions.failure;\n  delete requestOptions.error;\n\n  if (!options.redirect) {\n    requestOptions.redirect = 'follow';\n  }\n\n  return fetch(url, requestOptions)\n    .then((response) => {\n      let promise;\n      if (response.status < 300) {\n        promise = response.json().then(callbacks.success);\n      }\n      else if (response.status >= 400) {\n        promise = response.json().then(callbacks.failure);\n      }\n      return promise;\n    })\n    .catch(callbacks.error);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/bulbs-elements/util/make-request.js\n **/","/**\n * Copyright 2013-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/invariant/browser.js\n ** module id = 189\n ** module chunks = 0 2\n **/","const SelectedAnswerField = {\n  initialState: {},\n  actions: {\n    selectAnswer (state, answer) {\n      return (state && state.id === answer.id) ? {} : answer;\n    },\n  },\n};\n\nexport default SelectedAnswerField;\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-poll/fields/selected-answer.js\n **/","const WinningAnswersField = {\n  initialState: [],\n  actions: {\n    collectWinningAnswers (state, answers = []) {\n      let highScore = 0;\n      let winningAnswers = [];\n\n      answers.forEach((eachAnswer) => {\n        if (eachAnswer.total_votes === highScore) {\n          winningAnswers.push(eachAnswer);\n        }\n        else if (eachAnswer.total_votes > highScore) {\n          highScore = eachAnswer.total_votes;\n          winningAnswers = [eachAnswer];\n        }\n      });\n\n      return winningAnswers;\n    },\n  },\n};\n\nexport default WinningAnswersField;\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-poll/fields/winning-answers.js\n **/","import util from 'bulbs-elements/util';\n\nfunction cacheKey (pollId) {\n  return `bulbs-poll:${pollId}:vote`;\n}\n\nconst VoteField = {\n  initialState: {\n    voted: false,\n  },\n  actions: {\n    getCachedVoteData (state, pollKey) {\n      let value = localStorage.getItem(cacheKey(pollKey));\n      if (value) {\n        state.voted = true;\n        state.data = JSON.parse(value);\n      }\n      return state;\n    },\n    makeVoteRequest (state, answer, store) {\n      let { poll } = store.state;\n      let url = `https://onion.sodahead.com/api/polls/${poll.data.sodahead_id}/vote/`;\n      util.makeRequest(url, {\n        method: 'post',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n        },\n        body: `answer=${answer.sodahead_id}`,\n        success: store.actions.voteRequestSuccess,\n        failure: store.actions.voteRequestFailure,\n        error: store.actions.voteRequestError,\n      });\n\n      state.requestInFlight = true;\n      return state;\n    },\n    voteRequestSuccess (state, data, store) {\n      localStorage.setItem(cacheKey(store.state.src), JSON.stringify(data.vote));\n      setImmediate(() => {\n        store.actions.setPollTotalVotes(data.poll.totalVotes);\n        store.actions.updateAnswerVoteCount(data.vote);\n        store.actions.collectWinningAnswers(store.state.poll.data.answers);\n      });\n      state.voted = true;\n      state.data = data.vote;\n      state.requestInFlight = false;\n      return state;\n    },\n    voteRequestFailure (state, failure) {\n      state.requestFailure = failure;\n      state.requestInFlight = false;\n      return state;\n    },\n    voteRequestError (state, error) {\n      state.requestInFlight = false;\n      state.requestError = error;\n      return state;\n    },\n    resetVoteRequest (state) {\n      state.requestInFlight = false;\n      delete state.requestFailure;\n      delete state.requestError;\n      return state;\n    },\n  },\n};\n\nexport default VoteField;\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-poll/fields/vote.js\n **/","const SrcField = {\n  initialState: '',\n  actions: {\n    setSrc (state, src) {\n      return src;\n    },\n  },\n};\n\nexport default SrcField;\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-poll/fields/src.js\n **/","const NowField = {\n  initialState: new Date(),\n};\n\nexport default NowField;\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-poll/fields/now.js\n **/","import React, { PropTypes } from 'react';\n\nimport PollLoading from './loading';\nimport PollQuestion from './question';\nimport PollResults from './results';\nimport PollEnded from './ended';\nimport ComingSoon from './coming-soon';\n\nexport default function Root (props) {\n  let pollData = props.data.poll.data;\n  let now = props.data.now;\n  let pollNotLoaded = !pollData.id;\n  let pollIsPublished = pollData.published && pollData.published <= now;\n  let pollHasEnded = pollData.end_date && pollData.end_date <= now;\n  let viewerHasVoted = props.data.vote.voted;\n\n  if (pollNotLoaded) {\n    return <PollLoading/>;\n  }\n  else if (!pollIsPublished) {\n    return <ComingSoon/>;\n  }\n  else if (pollHasEnded) {\n    return <PollEnded\n      data={props.data}\n    />;\n  }\n  else if (viewerHasVoted) {\n    return <PollResults\n      data={props.data}\n    />;\n  }\n  else if (pollIsPublished) {\n    return <PollQuestion\n      actions={props.actions}\n      data={props.data}\n    />;\n  }\n}\n\nRoot.propTypes = {\n  actions: PropTypes.object.isRequired,\n  data: PropTypes.object.isRequired,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-poll/components/root.js\n **/","import React from 'react';\n\nexport default function Loading () {\n  return (\n    <div className='bulbs-poll-loading'>\n      Loading Poll...\n    </div>\n  );\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-poll/components/loading.js\n **/","import React, { PropTypes } from 'react';\n\nimport Cover from './cover';\nimport Answers from './answers';\nimport VoteButton from './vote-button';\nimport RequestError from './request-error';\n\nexport default function Question (props) {\n  let {\n    selectAnswer,\n    makeVoteRequest,\n    resetFetchPollData,\n    resetVoteRequest,\n  } = props.actions;\n\n  let {\n    poll,\n    selectedAnswer,\n    vote,\n  } = props.data;\n\n  return (\n    <div>\n      <Cover poll={poll} />\n\n      <RequestError\n        error={poll.requestError}\n        reset={resetFetchPollData}\n      >\n        Could not connect to network when fetching poll data.\n      </RequestError>\n\n      <RequestError\n        error={vote.requestError}\n        reset={resetVoteRequest}\n      >\n        Could not connect to network when placing your vote.\n      </RequestError>\n\n      <Answers\n        answers={poll.data.answers}\n        selectAnswer={selectAnswer}\n        selectedAnswer={selectedAnswer}\n        poll={poll}\n      />\n\n      <VoteButton\n        selectedAnswer={selectedAnswer}\n        makeVoteRequest={makeVoteRequest}\n      />\n    </div>\n  );\n}\n\nQuestion.propTypes = {\n  actions: PropTypes.object.isRequired,\n  data: PropTypes.object.isRequired,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-poll/components/question.js\n **/","import React, { PropTypes } from 'react';\nimport CroppedImage from 'bulbs-elements/components/cropped-image';\n\nexport default function Cover (props) {\n  let { poll } = props;\n  return (\n    <header className=\"bulbs-poll-cover\">\n      {\n        poll.data.thumbnail ? <CroppedImage image={poll.data.thumbnail} /> : null\n      }\n      <h1 className=\"bulbs-poll-cover-title\">\n        { poll.data.question_text }\n      </h1>\n    </header>\n  );\n}\n\nCover.propTypes = {\n  poll: PropTypes.object.isRequired,\n};\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-poll/components/cover.js\n **/","import React, { PropTypes } from 'react';\nimport Answer from './answer';\nimport ImageAnswer from './image-answer';\nimport classnames from 'classnames';\n\nexport default function Answers (props) {\n  let AnswerType = Answer;\n  let listClassName = 'bulbs-poll-answers';\n  if (props.poll.data.answer_type === 'imageText') {\n    AnswerType = ImageAnswer;\n    listClassName = 'bulbs-poll-image-answers';\n  }\n\n  let classNames = classnames(listClassName, {\n    'bulbs-poll-answers-selected': props.selectedAnswer.id,\n  });\n  return (\n    <ul className={classNames}>\n      {\n        props.answers.map((answer, index) => {\n          return <AnswerType\n            key={index}\n            answer={answer}\n            {...props}\n          />;\n        })\n      }\n    </ul>\n  );\n}\n\nAnswers.propTypes = {\n  answers: PropTypes.array.isRequired,\n  poll: PropTypes.object.isRequired,\n  selectAnswer: PropTypes.func.isRequired,\n  selectedAnswer: PropTypes.object.isRequired,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-poll/components/answers.js\n **/","import React, { PropTypes } from 'react';\nimport classnames from 'classnames';\nimport SelectionMarker from './selection-marker';\n\nexport default function Answer (props) {\n  let {\n    answer,\n    selectAnswer,\n    selectedAnswer,\n  } = props;\n\n  let isSelected = answer.id === selectedAnswer.id;\n  let className = classnames('bulbs-poll-answer', {\n    'bulbs-poll-answer-selected': isSelected,\n  });\n\n  return (\n    <li\n      data-track-label='Option'\n      className={className}\n      onClick={selectAnswer.bind(null, answer)}\n    >\n      <SelectionMarker isSelected={isSelected} />\n      { answer.answer_text }\n    </li>\n  );\n}\n\nAnswer.propTypes = {\n  answer: PropTypes.object.isRequired,\n  selectAnswer: PropTypes.func.isRequired,\n  selectedAnswer: PropTypes.object,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-poll/components/answer.js\n **/","import React, { PropTypes } from 'react';\n\nexport default function SelectionMarker (props) {\n  let {\n    isSelected,\n  } = props;\n\n  return (\n    <svg width=\"20px\" height=\"20px\">\n      <circle cx=\"10\" cy=\"10\" r=\"8\" fill=\"none\" stroke=\"black\" strokeWidth=\"2px\" />\n      <circle cx=\"10\" cy=\"10\" r=\"5\" fill={isSelected ? 'black' : 'none' } />\n    </svg>\n  );\n}\n\nSelectionMarker.propTypes = {\n  isSelected: PropTypes.bool,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-poll/components/selection-marker.js\n **/","import React, { PropTypes } from 'react';\nimport classnames from 'classnames';\nimport SelectionMarker from './selection-marker';\n\nexport default function ImageAnswer (props) {\n  let {\n    answer,\n    selectAnswer,\n    selectedAnswer,\n  } = props;\n\n  let isSelected = answer.id === selectedAnswer.id;\n  let className = classnames('bulbs-poll-image-answer', {\n    'bulbs-poll-answer-selected': isSelected,\n  });\n\n  return (\n    <li\n      data-track-label='Option'\n      className={className}\n      onClick={selectAnswer.bind(null, answer)}\n    >\n      <img src={ answer.answer_image_url }/>\n      <div className=\"answer-image-text\">\n        <SelectionMarker isSelected={isSelected} />\n        { answer.answer_text }\n      </div>\n    </li>\n  );\n}\n\nImageAnswer.propTypes = {\n  answer: PropTypes.object.isRequired,\n  selectAnswer: PropTypes.func.isRequired,\n  selectedAnswer: PropTypes.object,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-poll/components/image-answer.js\n **/","import React, { PropTypes } from 'react';\nimport classnames from 'classnames';\n\nexport default function VoteButton (props) {\n  let { selectedAnswer } = props;\n\n  let buttonIsDisabled = true;\n  if (selectedAnswer && selectedAnswer.id) {\n    buttonIsDisabled = false;\n  }\n\n  function handleClick () {\n    if (selectedAnswer) {\n      props.makeVoteRequest(selectedAnswer);\n    }\n  }\n\n  let classes = classnames('bulbs-poll-vote', {\n    'bulbs-poll-footer': true,\n  });\n\n  return (\n    <button\n      data-track-label='Submit'\n      className={classes}\n      onClick={handleClick}\n      disabled={buttonIsDisabled}\n    >\n      Vote\n    </button>\n  );\n}\n\nVoteButton.propTypes = {\n  makeVoteRequest: PropTypes.func,\n  selectedAnswer: PropTypes.object,\n};\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-poll/components/vote-button.js\n **/","import React from 'react';\n\nexport default function RequestError ({ error, children, reset }) {\n  if (error) {\n    return (\n      <div className=\"bulbs-poll-network-error\">\n        <p>\n          { children }\n        </p>\n        <button onClick={reset}>OK</button>\n      </div>\n    );\n  }\n  else {\n    return <div />;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-poll/components/request-error.js\n **/","import React, { PropTypes } from 'react';\nimport classnames from 'classnames';\n\nimport Cover from './cover';\nimport ResultsList from './results-list';\n\nexport default function Results (props) {\n  let className = classnames('bulbs-poll-results', {});\n  let {\n    poll,\n    winningAnswers,\n    vote,\n  } = props.data;\n\n  return (\n    <div className={className}>\n      <Cover poll={poll} />\n      <ResultsList\n        poll={poll}\n        winningAnswers={winningAnswers}\n        vote={vote}\n      />\n      <div className='bulbs-poll-thank-you bulbs-poll-footer'>\n        Thanks for voting!\n      </div>\n    </div>\n  );\n}\n\nResults.propTypes = {\n  data: PropTypes.object.isRequired,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-poll/components/results.js\n **/","import React, { PropTypes } from 'react';\nimport Result from './result';\nimport ImageResult from './image-result';\n\nexport default function ResultsList (props) {\n  let {\n    poll,\n    winningAnswers,\n    vote,\n  } = props;\n  let ResultType = Result;\n  let listClassName = 'bulbs-poll-results-list';\n  if(props.poll.data.answer_type === 'imageText') {\n    ResultType = ImageResult;\n    listClassName = 'bulbs-poll-image-results-list';\n  }\n  return (\n    <ul className={listClassName}>\n      {\n        poll.data.answers.map((answer, index) => {\n          return <ResultType\n            key={index}\n            answer={answer}\n            poll={poll}\n            vote={vote}\n            winningAnswers={winningAnswers}\n          />;\n        })\n      }\n    </ul>\n  );\n}\n\nResultsList.propTypes = {\n  poll: PropTypes.object.isRequired,\n  vote: PropTypes.object.isRequired,\n  winningAnswers: PropTypes.array.isRequired,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-poll/components/results-list.js\n **/","import React, { PropTypes } from 'react';\nimport classnames from 'classnames';\nimport SelectionMarker from './selection-marker';\nimport find from 'array-find';\n\nexport default function Result (props) {\n  let {\n    answer,\n    poll,\n    vote,\n    winningAnswers,\n  } = props;\n\n  let isWinningAnswer = find(winningAnswers, (winningAnswer) => {\n    return winningAnswer.sodahead_id === answer.sodahead_id;\n  });\n\n  let isVoteAnswer = !!(vote.data && vote.data.answer.id === answer.sodahead_id);\n\n  let className = classnames('bulbs-poll-result', {\n    'bulbs-poll-result-winning': isWinningAnswer,\n    'bulbs-poll-result-selected': isVoteAnswer,\n  });\n  let { total_votes } = answer;\n  let percent;\n  if(poll.data.total_votes > 1) {\n    percent = (total_votes / poll.data.total_votes) * 100;\n  }\n  else {\n    percent = total_votes * 100;\n  }\n  let percentResult = `${percent.toFixed(0)}%`;\n\n  return (\n    <li className={className}>\n      <div\n        className='bulbs-poll-answer-bar'\n        style={{ width: percentResult }}\n      />\n      <div className='bulbs-poll-answer-title'>\n        <SelectionMarker isSelected={isVoteAnswer}/>\n        <span className='bulbs-poll-answer-text'>\n          { answer.answer_text }\n        </span>\n        <span className='bulbs-poll-answer-result'>\n          { percentResult }\n        </span>\n      </div>\n    </li>\n  );\n}\n\nResult.propTypes = {\n  answer: PropTypes.object.isRequired,\n  poll: PropTypes.object.isRequired,\n  vote: PropTypes.object.isRequired,\n  winningAnswers: PropTypes.array.isRequired,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-poll/components/result.js\n **/","import React, { PropTypes } from 'react';\nimport classnames from 'classnames';\nimport SelectionMarker from './selection-marker';\nimport find from 'array-find';\n\nexport default function ImageResult (props) {\n  let {\n    answer,\n    poll,\n    vote,\n    winningAnswers,\n  } = props;\n\n  let isWinningAnswer = find(winningAnswers, (winningAnswer) => {\n    return winningAnswer.sodahead_id === answer.sodahead_id;\n  });\n\n  let isVoteAnswer = !!(vote.data && vote.data.answer.id === answer.sodahead_id);\n\n  let className = classnames('bulbs-poll-image-result', {\n    'bulbs-poll-result-winning': isWinningAnswer,\n    'bulbs-poll-result-selected': isVoteAnswer,\n  });\n  let { total_votes } = answer;\n  let percent;\n  if(poll.data.total_votes > 1) {\n    percent = (total_votes / poll.data.total_votes) * 100;\n  }\n  else {\n    percent = total_votes * 100;\n  }\n  let percentResult = `${percent.toFixed(0)}%`;\n\n  return (\n    <li className={className}>\n      <div className=\"result-image-list-item\">\n        <div\n          className='bulbs-poll-image-answer-bar'\n          style={{ height: percentResult }}\n        />\n        <div className='bulbs-poll-image-answer-title'>\n          <img src={ answer.answer_image_url } />\n          <div className=\"answer-image-text\">\n            <SelectionMarker isSelected={isVoteAnswer}/>\n            <span className='bulbs-poll-image-answer-text'>\n              { answer.answer_text }\n            </span>\n          </div>\n        </div>\n      </div>\n      <div className='bulbs-poll-answer-result'>\n        { percentResult }\n      </div>\n    </li>\n  );\n}\n\nImageResult.propTypes = {\n  answer: PropTypes.object.isRequired,\n  poll: PropTypes.object.isRequired,\n  vote: PropTypes.object.isRequired,\n  winningAnswers: PropTypes.array.isRequired,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-poll/components/image-result.js\n **/","import React, { PropTypes } from 'react';\nimport Cover from './cover';\nimport ResultsList from './results-list';\n\nexport default function Ended (props) {\n  let {\n    poll,\n    winningAnswers,\n    vote,\n  } = props.data;\n\n  return (\n    <div className='bulbs-poll-ended'>\n      <Cover poll={poll}/>\n      <ResultsList\n        poll={poll}\n        winningAnswers={winningAnswers}\n        vote={vote}\n      />\n      <div className='bulbs-poll-ended-message bulbs-poll-footer'>\n        Poll Closed\n      </div>\n    </div>\n  );\n}\n\nEnded.propTypes = {\n  data: PropTypes.object.isRequired,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-poll/components/ended.js\n **/","import React from 'react';\nimport VoteButton from './vote-button';\n\nexport default function ComingSoon () {\n  return (\n    <div className='bulbs-poll-coming-soon'>\n      <div className='bulbs-poll-coming-soon-message'>Poll Coming Soon</div>\n      <VoteButton/>\n    </div>\n  );\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./elements/bulbs-poll/components/coming-soon.js\n **/"],"sourceRoot":""}